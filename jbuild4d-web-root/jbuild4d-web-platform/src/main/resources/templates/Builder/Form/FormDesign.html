<!DOCTYPE html>
<html lang="zh" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>表单设计</title>
    <th:block th:replace="Fragment/GeneralLib::GeneralLib"></th:block>
    <th:block th:replace="Fragment/GeneralLib::IViewLib"></th:block>
    <th:block th:replace="Fragment/GeneralLib::JQueryUILib"></th:block>
    <th:block th:replace="Fragment/GeneralLib::ThemesLib"></th:block>
    <th:block th:replace="Fragment/GeneralLib::FormDesignLib"></th:block>
    <th:block th:replace="Fragment/GeneralLib::CodeMirror"></th:block>
    <th:block th:replace="Fragment/GeneralLib::CodeMirrorHTML"></th:block>
</head>
<body>
<div id="appForm" class="general-edit-page-wrap" v-cloak>
    <tabs>
        <tab-pane label="表单信息">
            <div style="width: 1024px;margin: auto">
                <div style="float: left;width: 500px;height: 600px;border: #0B61A4 1px solid;border-radius: 4px;padding: 10px">
                    <i-form :label-width="100">
                        <form-item label="表单名称：">
                            <i-input></i-input>
                        </form-item>
                    </i-form>
                </div>
                <div style="float: right;width: 500px;height: 600px;border: #0B61A4 1px solid;border-radius: 4px;padding: 10px">
                    <divider orientation="left" :dashed="true" style="font-size: 12px">选择表单主表</divider>
                </div>
            </div>
        </tab-pane>
        <tab-pane label="表单设计">
            <div class="form-design-wraper">
                <div class="left-wraper">
                    <textarea name="html_design" id="html_design">
                    </textarea>
                </div>
                <div class="right-wraper"></div>
            </div>
        </tab-pane>
        <tab-pane label="HTML">
            <div class="html-design-wraper">
                <div class="left-wraper">
                    <textarea id="TextAreaHTMLEditor" style="height: 99%"><html style="color: green">
  <!-- this is a comment -->
  <head>
    <title>Mixed HTML Example</title>
    <style>
      h1 {font-family: comic sans; color: #f0f;}
      div {background: yellow !important;}
      body {
          max-width: 50em;
          margin: 1em 2em 1em 5em;
      }
    </style>
  </head>
  <body>
    <h1>Mixed HTML Example</h1>
    <script>
      function jsFunc(arg1, arg2) {
          if (arg1 && arg2) document.body.innerHTML = "achoo";
      }
    </script>
  </body>
</html>
                    </textarea>
                </div>
                <div class="right-wraper"></div>
            </div>
        </tab-pane>
        <tab-pane label="JS">
            <div class="js-design-wraper">
                <div class="left-wraper">
                    <textarea id="TextAreaJsEidtor"></textarea>
                </div>
                <div class="right-wraper"></div>
            </div>
        </tab-pane>
    </tabs>
</div>
<script>
    var appForm = new Vue({
        el:"#appForm",
        data: {
        },
        mounted:function () {
            $(".form-design-wraper").height(PageStyleUtility.GetWindowHeight()-60);
            FormDesignUtility.InitializeCKEditor(function () {

            });
            var mixedMode = {
                name: "htmlmixed",
                scriptTypes: [{matches: /\/x-handlebars-template|\/x-mustache/i,
                    mode: null},
                    {matches: /(text|application)\/(x-)?vb(a|script)/i,
                        mode: "vbscript"}]
            };
            var editor = CodeMirror.fromTextArea(document.getElementById("TextAreaHTMLEditor"), {
                mode: mixedMode,
                selectionPointer: true,
                theme: "monokai"
            });
            $(".CodeMirror").height(PageStyleUtility.GetWindowHeight()-60);

            CodeMirror.fromTextArea($("#TextAreaJsEidtor")[0], {
                mode: "javascript",
                lineNumbers: true,
                lineWrapping: true,
                extraKeys: {
                    "Ctrl-Q": function (cm) {
                        cm.foldCode(cm.getCursor());
                    }
                },
                foldGutter: true,
                theme: "monokai",
                gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
            });
        },
        methods: {
        }
    });
</script>
</body>
</html>
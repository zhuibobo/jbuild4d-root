"use strict";var AjaxUtility={PostRequestBody:function(t,e,i,n){this.Post(t,e,i,n,"application/json; charset=utf-8")},PostSync:function(t,e,i,n,o){return this.Post(t,e,i,n,o,!1)},Post:function(t,e,i,n,o,r){var a=BaseUtility.BuildAction(t);null!=n&&null!=n||(n="text"),null!=r&&null!=r||(r=!0),null!=o&&null!=o||(o="application/x-www-form-urlencoded; charset=UTF-8");var l=null;return $.ajax({type:"POST",url:a,cache:!1,async:r,contentType:o,dataType:n,data:e,success:function(t){try{null==t||null==t.success||t.success||"登录Session过期"==t.message&&DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},"Session超时，请重新登陆系统",function(){BaseUtility.RedirectToLogin()})}catch(t){console.log("AjaxUtility.Post Exception "+a)}i(t),l=t},complete:function(t){},error:function(t){try{0<=t.responseText.indexOf("请重新登陆系统")&&BaseUtility.RedirectToLogin(),console.log(t),DialogUtility.Alert(window,"AjaxUtility.Post.Error",{},"Ajax请求发生错误！status:"+t.status+",responseText:"+t.responseText,null)}catch(t){}}}),l},GetSync:function(t,e,i,n){this.Post(t,e,i,n,!1)},Get:function(t,e,i,n,o){var r=BaseUtility.BuildUrl(t);null!=n&&null!=n||(n="text"),null!=o&&null!=o||(o=!0),$.ajax({type:"GET",url:r,cache:!1,async:o,contentType:"application/json; charset=utf-8",dataType:n,data:e,success:function(t){i(t)},complete:function(t){},error:function(t){}})}},BaseUtility={GetRootPath:function(){var t=window.document.location.href,e=window.document.location.pathname,i=t.indexOf(e);return t.substring(0,i)+e.substring(0,e.substr(1).indexOf("/")+1)},ReplaceUrlVariable:function(t){alert("ReplaceUrlVariable迁移到BuildAction")},GetTopWindow:function(){alert("BaseUtility.GetTopWindow 已停用")},TrySetControlFocus:function(){alert("BaseUtility.TrySetControlFocus 已停用")},BuildUrl:function(t){alert("BaseUtility.BuildUrl 已停用")},BuildHTMLView:function(t,e){if(StringUtility.EndWith(t,"View"))return this.BuildAction(t,e);DialogUtility.AlertText("视图Url请用View作为结尾.")},BuildAction:function(t,e){var i="";e&&(i=$.param(e));var n=this.GetRootPath()+t+".do";return""!=i&&(n+="?"+i),this.AppendTimeStampUrl(n)},RedirectToLogin:function(){var t=BaseUtility.GetRootPath()+"/Login.do";window.parent.parent.location.href=t},AppendTimeStampUrl:function(t){if("0"<t.indexOf("timestamp"))return t;var e=(new Date).getTime();return t=-1<t.indexOf("?")?t+"&timestamp="+e:t+"?timestamp="+e},GetUrlParaValue:function(t){return this.GetUrlParaValueByString(t,window.location.search)},GetUrlParaValueByString:function(t,e){var i=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=e.substr(1).match(i);return null!=n?decodeURIComponent(n[2]):""}},BrowserInfoUtility={BrowserAppName:function(){return 0<navigator.userAgent.indexOf("Firefox")?"Firefox":0<navigator.userAgent.indexOf("MSIE")?"IE":0<navigator.userAgent.indexOf("Chrome")?"Chrome":void 0},IsIE:function(){return!!(window.ActiveXObject||"ActiveXObject"in window)},IsIE6:function(){return 0<navigator.userAgent.indexOf("MSIE 6.0")},IsIE7:function(){return 0<navigator.userAgent.indexOf("MSIE 7.0")},IsIE8:function(){return 0<navigator.userAgent.indexOf("MSIE 8.0")},IsIE8X64:function(){return 0<navigator.userAgent.indexOf("MSIE 8.0")&&0<navigator.userAgent.indexOf("x64")},IsIE9:function(){return 0<navigator.userAgent.indexOf("MSIE 9.0")},IsIE9X64:function(){return 0<navigator.userAgent.indexOf("MSIE 9.0")&&0<navigator.userAgent.indexOf("x64")},IsIE10:function(){return 0<navigator.userAgent.indexOf("MSIE 10.0")},IsIE10X64:function(){return 0<navigator.userAgent.indexOf("MSIE 10.0")&&0<navigator.userAgent.indexOf("x64")},IEDocumentMode:function(){return document.documentMode},IsIE8DocumentMode:function(){return 8==this.IEDocumentMode()},IsFirefox:function(){return"Firefox"==this.BrowserAppName()},IsChrome:function(){return"Chrome"==this.BrowserAppName()}},CacheDataUtility={IninClientCache:function(){this.GetCurrentUserInfo()},_CurrentUserInfo:null,GetCurrentUserInfo:function(){return null==this._CurrentUserInfo?null!=window.parent.CacheDataUtility._CurrentUserInfo?window.parent.CacheDataUtility._CurrentUserInfo:(AjaxUtility.PostSync("/PlatForm/MyInfo/GetUserInfo",{},function(t){t.success&&(CacheDataUtility._CurrentUserInfo=t.data)},"json"),this._CurrentUserInfo):this._CurrentUserInfo}},CookieUtility={SetCookie1Day:function(t,e){var i=new Date;i.setTime(i.getTime()+864e5),document.cookie=t+"="+escape(e)+";expires="+i.toGMTString()+";path=/"},SetCookie1Month:function(t,e){var i=new Date;i.setTime(i.getTime()+2592e6),document.cookie=t+"="+escape(e)+";expires="+i.toGMTString()+";path=/"},SetCookie1Year:function(t,e){var i=new Date;i.setTime(i.getTime()+94608e7),document.cookie=t+"="+escape(e)+";expires="+i.toGMTString()+";path=/"},GetCookie:function(t){var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!=e?unescape(e[2]):null},DelCookie:function(t){var e=new Date;e.setTime(e.getTime()-1);var i=this.getCookie(t);null!=i&&(document.cookie=t+"="+i+";expires="+e.toGMTString()+";path=/")}},DateUtility={GetCurrentDataString:function(t){alert("DateUtility.GetCurrentDataString 已停用")},DateFormat:function(t,e){alert("DateUtility.GetCurrentDataString 已停用")},Format:function(t,e){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e},FormatCurrentData:function(t){var e=new Date;return this.Format(e,t)},GetCurrentData:function(){return new Date}},DetailPageUtility={IViewPageToViewStatus:function(){},OverrideObjectValue:function(t,e){for(var i in t)null!=e[i]&&null!=e[i]&&""!=e[i]&&(t[i]=e[i])},BindFormData:function(t,e,i,n,o,r){AjaxUtility.Post(t,{recordId:i,op:n},function(t){t.success?("function"==typeof o&&o(t),DetailPageUtility.OverrideObjectValue(e,t.data),"function"==typeof r&&r(t),"view"==n&&DetailPageUtility.IViewPageToViewStatus()):DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t.message,null)},"json")}},DialogUtility={DialogAlertId:"DefaultDialogAlertUtility01",DialogPromptId:"DefaultDialogPromptUtility01",DialogId:"DefaultDialogUtility01",DialogId02:"DefaultDialogUtility02",DialogId03:"DefaultDialogUtility03",DialogId04:"DefaultDialogUtility04",DialogId05:"DefaultDialogUtility05",_GetElem:function(t){return $("#"+t)},_CreateDialogElem:function(t,e){if(0!=this._GetElem(e).length)return this._GetElem(e);var i=$("<div id="+e+" title='系统提示' style='display:none'>                    </div>");return $(t.body).append(i),i},_CreateAlertLoadingMsgElement:function(t,e){if(0!=this._GetElem(e).length)return this._GetElem(e);var i=$("<div id="+e+" title='系统提示' style='display:none'>                               <div class='alertloading-img'></div>                               <div class='alertloading-txt'></div>                           </div>");return $(t.body).append(i),i},_CreateIfrmaeDialogElement:function(t,e,i){var n=$("<div id="+e+" title='Basic dialog' style='display:none'>                        <iframe width='100%' height='98%' frameborder='0' src='"+i+"'>                        </iframe>                    </div>");return $(t.body).append(n),n},_TestDialogElemIsExist:function(t){return 0<this._GetElem(t).length},_TestRunEnable:function(){return!0},AlertError:function(t,e,i,n,o){var r={height:400,width:600};r=$.extend(!0,{},r,i),this.Alert(t,e,r,n,o)},AlertText:function(t){DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t,null)},Alert:function(t,e,i,n,o){var r=this._CreateDialogElem(t.document.body,e),a={height:200,width:300,title:"系统提示",show:!0,modal:!0,buttons:{"关闭":function(){$(r).dialog("close")}},open:function(){},close:function(){o&&o()}};a=$.extend(!0,{},a,i);$(r).html(n),$(r).dialog(a)},AlertJsonCode:function(t){t=(t=(t=JsonUtility.JsonToStringFormat(t)).replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(t){var e="json-number";return/^"/.test(t)?e=/:$/.test(t)?"json-key":"json-string":/true|false/.test(t)?e="json-boolean":/null/.test(t)&&(e="json-null"),'<span class="'+e+'">'+t+"</span>"}),this.Alert(window,DialogUtility.DialogAlertId,{width:900,height:600},"<pre class='json-pre'>"+t+"</pre>",null)},ShowHTML:function(t,e,i,n,o,r){var a=this._CreateDialogElem(t.document.body,e),l={height:200,width:300,title:"系统提示",show:!0,modal:!0,close:function(t,e){try{"function"==typeof o&&o(r)}catch(t){}}};l=$.extend(!0,{},l,i);return $(a).html(n),$(a).dialog(l)},AlertLoading:function(t,e,i,n){var o=this._CreateAlertLoadingMsgElement(t.document.body,e),r={height:200,width:300,title:"",show:!0,modal:!0};r=$.extend(!0,{},r,i);$(o).find(".alertloading-txt").html(n),$(o).dialog(r)},Confirm:function(t,e,i){this.ConfirmConfig(t,e,null,i)},ConfirmConfig:function(e,t,i,n){var o=this._CreateDialogElem(e.document.body,"AlertConfirmMsg"),r=null,a={okfunc:function(t){if(null!=n)return n();e.close()},cancelfunc:function(t){},validatefunc:function(t){return!0},closeafterfunc:!0,height:200,width:300,title:"系统提示",show:!0,modal:!0,buttons:{"确认":function(){if(a.validatefunc(r)){var t=a.okfunc(r);(t=null==t||t)&&a.closeafterfunc&&$(o).dialog("close")}},"取消":function(){a.cancelfunc(r),a.closeafterfunc&&$(o).dialog("close")}}};a=$.extend(!0,{},a,i);$(o).html(t),$(o).dialog(a),r={ElementObj:o}},Prompt:function(t,e,i,n,o){var r=this._CreateDialogElem(t.document.body,i),a=$("<textarea />"),l={height:200,width:300,title:"",show:!0,modal:!0,buttons:{"确认":function(){if("function"==typeof o){var t=a.val();o(t)}$(r).dialog("close")},"取消":function(){$(r).dialog("close")}}};l=$.extend(!0,{},l,e);$(a).css("height",l.height-130);var u=$("<div>"+n+"：</div>").append(a);$(r).html(u),$(r).dialog(l)},DialogElem:function(t,e){$(t).dialog(e)},OpenIframeWindow:function(t,e,i,n,o){var r={height:410,width:600,close:function(t,e){var i=$(this).attr("id");$(this).find("iframe").remove(),$(this).dialog("close"),$(this).dialog("destroy"),$("#"+i).remove(),BrowserInfoUtility.IsIE8DocumentMode()&&CollectGarbage(),"function"==typeof n.close_after_event&&n.close_after_event();try{0<$("#Forfocus").length&&$("#Forfocus")[0].focus()}catch(t){}}};1==o?r=$.extend(!0,{},r,{height:680,width:980}):2==o?r=$.extend(!0,{},r,{height:600,width:800}):4==o?r=$.extend(!0,{},r,{height:380,width:480}):5==o&&(r=$.extend(!0,{},r,{height:180,width:300})),0==n.width&&(n.width=PageStyleUtil.GetPageWidth()-20),0==n.height&&(n.height=PageStyleUtil.GetPageHeight()-10),r=$.extend(!0,{},r,n);var a=e,l=this._CreateIfrmaeDialogElement(t.document,a,i),u=$(l).dialog(r),s=$(l).find("iframe");return s[0].contentWindow.FrameWindowId=a,s[0].contentWindow.OpenerWindowObj=t,u},CloseOpenIframeWindow:function(t,e){t.OpenerWindowObj.DialogUtility.CloseDialog(e)},CloseDialog:function(t){this._GetElem(t).find("iframe").remove(),$(this._GetElem(t)).dialog("close");try{0<$("#Forfocus").length&&$("#Forfocus")[0].focus()}catch(t){}},OpenNewWindow:function(t,e,i,n,o){var r=n.width,a=n.height,l=parseInt((screen.availWidth-r)/2).toString(),u=parseInt((screen.availHeight-a)/2).toString();"0"==r.toString()&&"0"==a.toString()&&(r=window.screen.availWidth-30,a=window.screen.availHeight-60,u=l="0"),null==window.open(i,"","scrollbars=no,toolbar=no,menubar=no,resizable=yes,center=yes,help=no, status=yes,top= "+u+"px,left="+l+"px,width="+r+"px,height="+a+"px")&&alert("请解除浏览器对本系统弹出窗口的阻止设置！")},_TryGetParentWindow:function(t){return null!=t.parent?t.parent:null},_Frame_TryGetFrameWindowObj:function(e,i,n){if(n<i){n++;try{return e.IsTopFramePage?e:this._Frame_TryGetFrameWindowObj(this._TryGetParentWindow(e),i,n)}catch(t){return this._Frame_TryGetFrameWindowObj(this._TryGetParentWindow(e),i,n)}}return null},_OpenWindowInFramePage:function(t,e,i,n,o){if(StringUtility.IsNullOrEmpty(e))alert("dialogId不能为空");else{i=BaseUtility.AppendTimeStampUrl(i);var r="FrameDialogEle"+e;if(0==$(this.FramePageRef.document).find("#"+r).length){var a=this._CreateIfrmaeDialogElement(this.FramePageRef.document,r,i),l={height:400,width:600,modal:!0,title:"系统",close:function(t,e){var i=$(this).attr("id");$(this).find("iframe").remove(),$(this).dialog("close"),$(this).dialog("destroy"),$("#"+i).remove(),BrowserInfoUtility.IsIE8DocumentMode()&&CollectGarbage(),"function"==typeof n.close_after_event&&n.close_after_event()}};0==o?(n.width=PageStyleUtility.GetPageWidth()-20,n.height=PageStyleUtility.GetPageHeight()-10):1==o?l=$.extend(!0,{},l,{height:680,width:980}):2==o?l=$.extend(!0,{},l,{height:600,width:800}):4==o?l=$.extend(!0,{},l,{height:380,width:480}):5==o&&(l=$.extend(!0,{},l,{height:180,width:300})),0==n.width&&(n.width=PageStyleUtility.GetPageWidth()-20),0==n.height&&(n.height=PageStyleUtility.GetPageHeight()-10),l=$.extend(!0,{},l,n),$(a).dialog(l),$(".ui-widget-overlay").css("zIndex","1000"),$(".ui-dialog").css("zIndex","1001");var u=$(a).find("iframe");u[0].contentWindow.FrameWindowId=r,u[0].contentWindow.OpenerWindowObj=t,u[0].contentWindow.IsOpenForFrame=!0}else $("#"+r).dialog("moveToTop")}},_Frame_FramePageCloseDialog:function(t){$("#"+t).dialog("close")},Frame_TryGetFrameWindowObj:function(){return this._Frame_TryGetFrameWindowObj(window,5,1)},Frame_Alert:function(){},Frame_Comfirm:function(){},Frame_OpenIframeWindow:function(t,e,i,n,o){var r=this.Frame_TryGetFrameWindowObj();null!=(this.FramePageRef=r)?(this.FramePageRef.DialogUtility.FramePageRef=r,this.FramePageRef.DialogUtility._OpenWindowInFramePage(t,e,i,n,o)):alert("找不到FramePage!!")},Frame_CloseDialog:function(t){var e=this.Frame_TryGetFrameWindowObj(),i=(t.OpenerWindowObj,t.FrameWindowId);e.DialogUtility._Frame_FramePageCloseDialog(i)}},DictionaryUtility={_GroupValueListJsonToSimpleJson:null,GroupValueListJsonToSimpleJson:function(t){if(null==this._GroupValueListJsonToSimpleJson&&null!=t){var e={};for(var i in t){e[i]={};for(var n=0;n<t[i].length;n++)e[i][t[i][n].dictValue]=t[i][n].dictText}this._GroupValueListJsonToSimpleJson=e}return this._GroupValueListJsonToSimpleJson}},console=console||{log:function(){},warn:function(){},error:function(){}};function DateExtend_DateFormat(t,e){if(null==t||null==t)return"";var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e}function refCssLink(t){var e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("link");return i.type="text/css",i.rel="stylesheet",i.href=t,e.appendChild(i),i.sheet||i.styleSheet}Date.prototype.toJSON=function(){return DateExtend_DateFormat(this,"yyyy-MM-dd mm:hh:ss")},Object.create||(Object.create=function(){function e(){}return alert("Extend Object.create"),function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),$.fn.outerHTML=function(){return this.length?this[0].outerHTML||function(t){var e=document.createElement("div");e.appendChild(t.cloneNode(!0));var i=e.innerHTML;return e=null,alert(i),i}(this[0]):this};var JsonUtility={ParseArrayJsonToTreeJson:function(a,l,t){var e={},i=function(t,e){for(var i=0;i<l.length;i++)if(l[i][t]==e)return l[i];alert("ParseArrayJsonToTreeJson.FindJsonById:在sourceArray中找不到指定Id的记录")}(a.KeyField,t);return function t(e,i){var n=function(t,e){for(var i=[],n=0;n<l.length;n++)l[n][t]==e&&i.push(l[n]);return i}(a.RelationField,e);if(0<n.length){null==i[a.ChildFieldName]&&(i[a.ChildFieldName]=[]);for(var o=0;o<n.length;o++){var r={};r=JsonUtility.SimpleCloneAttr(r,n[o]),i[a.ChildFieldName].push(r),t(r[a.KeyField],r)}}}(t,e=this.SimpleCloneAttr(e,i)),e},ResolveSimpleArrayJsonToTreeJson:function(t,e,i){alert("JsonUtility.ResolveSimpleArrayJsonToTreeJson 已停用")},SimpleCloneAttr:function(t,e){for(var i in e)t[i]=e[i];return t},CloneSimple:function(t){return jQuery.extend(!0,{},t)},JsonToString:function(t){return JSON.stringify(t)},JsonToStringFormat:function(t){return JSON.stringify(t,null,2)},StringToJson:function StringToJson(str){return eval("("+str+")")}},ListPageUtility={GetGeneralPageHeight:function(t){var e=jQuery(document).height();return e=0<$("#list-simple-search-wrap").length?e-$("#list-simple-search-wrap").outerHeight()+t-$("#list-button-wrap").outerHeight()-$("#list-pager-wrap").outerHeight()-30:e-$("#list-button-wrap").outerHeight()+t-$("#list-pager-wrap").outerHeight()-30},GetFixHeight:function(){return-70},IViewTableRenderer:{ToDateYYYY_MM_DD:function(t,e){var i=new Date(e);return t("div",DateUtility.Format(i,"yyyy-MM-dd"))},StringToDateYYYY_MM_DD:function(t,e){return t("div",e.split(" ")[0])},ToStatusEnable:function(t,e){return 0==e?t("div","禁用"):1==e?t("div","启用"):void 0},ToYesNoEnable:function(t,e){return 0==e?t("div","否"):1==e?t("div","是"):void 0},ToDictionaryText:function(t,e,i,n){var o=DictionaryUtility.GroupValueListJsonToSimpleJson(e);return null==n||""==n?t("div",""):null!=o[i]&&o[i]?o[i][n]?t("div",o[i][n]):t("div","找不到装换的TEXT"):t("div","找不到装换的分组")}},IViewTableMareSureSelected:function(e){return null!=e&&0<e.length?{then:function(t){t(e)}}:(DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},"请选中需要操作的行!",null),{then:function(t){}})},IViewTableMareSureSelectedOne:function(e){return null!=e&&0<e.length&&1==e.length?{then:function(t){t(e)}}:(DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},"请选中需要操作的行，每次只能选中一行!",null),{then:function(t){}})},IViewChangeServerStatus:function(t,e,i,n,o){for(var r=new Array,a=0;a<e.length;a++)r.push(e[a][i]);AjaxUtility.Post(t,{ids:r.join(";"),status:n},function(t){t.success?(DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t.message,function(){}),o.reloadData()):DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t.message,null)},"json")},IViewMoveFace:function(e,t,i,n,o){this.IViewTableMareSureSelectedOne(t).then(function(t){AjaxUtility.Post(e,{recordId:t[0][i],type:n},function(t){t.success?o.reloadData():DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t.message,null)},"json")})},IViewChangeServerStatusFace:function(e,t,i,n,o){this.IViewTableMareSureSelected(t).then(function(t){ListPageUtility.IViewChangeServerStatus(e,t,i,n,o)})},IViewTableDeleteRow:function(t,e,i){DialogUtility.Confirm(window,"确认要删除当前记录吗？",function(){AjaxUtility.Post(t,{recordId:e},function(t){t.success?DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t.message,function(){i.reloadData()}):DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t.message,function(){})},"json")})},IViewTableLoadDataSearch:function(t,e,i,n,o,r,a,l,u){null!=u&&null!=u||(u=!1),AjaxUtility.Post(t,{pageNum:e,pageSize:i,searchCondition:SearchUtility.SerializationSearchCondition(n),loadDict:u},function(t){if(t.success){if("function"==typeof l&&l(t,o),o.tableData=new Array,o.tableData=t.data.list,o.pageTotal=t.data.total,a&&null!=o.selectionRows)for(var e=0;e<o.tableData.length;e++)for(var i=0;i<o.selectionRows.length;i++)o.selectionRows[i][r]==o.tableData[e][r]&&(o.tableData[e]._checked=!0)}else DialogUtility.AlertError(window,DialogUtility.DialogAlertId,{},t.message,function(){})},"json")},IViewTableLoadDataNoSearch:function(t,e,i,n,o,r,a){AjaxUtility.Post(t,{pageNum:e,pageSize:i},function(t){if(t.success){if(n.tableData=new Array,n.tableData=t.data.list,n.pageTotal=t.data.total,r&&null!=n.selectionRows)for(var e=0;e<n.tableData.length;e++)for(var i=0;i<n.selectionRows.length;i++)n.selectionRows[i][o]==n.tableData[e][o]&&(n.tableData[e]._checked=!0);"function"==typeof a&&a(t,n)}},"json")},IViewTableInnerButton:{ViewButton:function(t,e,i,n){return t("div",{class:"list-row-button list-row-button-view",on:{click:function(){n.view(e.row[i])}}})},EditButton:function(t,e,i,n){return t("div",{class:"list-row-button list-row-button-edit",on:{click:function(){n.edit(e.row[i])}}})},DeleteButton:function(t,e,i,n){return t("div",{class:"list-row-button list-row-button-del",on:{click:function(){n.del(e.row[i])}}})}}},PageStyleUtility={GetPageHeight:function(){return jQuery(window.document).height()},GetPageWidth:function(){return jQuery(window.document).width()},GetWindowHeight:function(){return $(window).height()},GetWindowWidth:function(){return $(window).width()},GetListButtonOuterHeight:function(){return alert("PageStyleUtility.GetListButtonOuterHeight 已停用"),jQuery(".list-button-outer-c").outerHeight()}},SearchUtility={SearchFieldType:{IntType:"IntType",NumberType:"NumberType",DataType:"DateType",LikeStringType:"LikeStringType",LeftLikeStringType:"LeftLikeStringType",RightLikeStringType:"RightLikeStringType",StringType:"StringType",DataStringType:"DateStringType",ArrayLikeStringType:"ArrayLikeStringType"},SerializationSearchCondition:function(t){var e=JsonUtility.CloneSimple(t);for(var i in e)e[i].type==SearchUtility.SearchFieldType.ArrayLikeStringType&&(null!=e[i].value&&0<e[i].value.length?e[i].value=e[i].value.join(";"):e[i].value="");return JSON.stringify(e)}},JBuild4DSelectView={SelectEnvVariable:{URL:"/PlatForm/SelectView/SelectEnvVariable/Select",beginSelect:function(t){var e=BaseUtility.BuildAction(this.URL,{instanceName:t});DialogUtility.OpenIframeWindow(window,DialogUtility.DialogId,e,{title:"选择变量",modal:!0},2)},beginSelectInFrame:function(t,e,i){var n=BaseUtility.BuildAction(this.URL,{instanceName:e});i=$.extend(!0,{},{modal:!0,title:"选择变量"},i);DialogUtility.Frame_OpenIframeWindow(t,DialogUtility.DialogId05,n,i,1),$(window.parent.document).find(".ui-widget-overlay").css("zIndex",10100),$(window.parent.document).find(".ui-dialog").css("zIndex",10101)},formatText:function(t,e){return"Const"==t?"静态值:【"+e+"】":"DateTime"==t?"日期时间:【"+e+"】":"ApiVar"==t?"API变量:【"+e+"】":"NumberCode"==t?"序号编码:【"+e+"】":"IdCoder"==t?"主键生成:【"+e+"】":""==t?"【无】":"未知类型"+e}},SelectBindToField:{URL:"/PlatForm/SelectView/SelectBindToTableField/Select",beginSelect:function(t){var e=this.URL+"?instanceName="+t;DialogUtility.OpenIframeWindow(window,DialogUtility.DialogId,e,{title:"选择变量",modal:!0},2)},beginSelectInFrame:function(t,e,i){var n=BaseUtility.BuildAction(this.URL,{instanceName:e});i=$.extend(!0,{},{modal:!0,title:"选择绑定字段"},i);DialogUtility.Frame_OpenIframeWindow(t,DialogUtility.DialogId05,n,i,1),$(window.parent.document).find(".ui-widget-overlay").css("zIndex",10100),$(window.parent.document).find(".ui-dialog").css("zIndex",10101)}},SelectValidateRule:{URL:"/PlatForm/SelectView/SelectValidateRule/Select",beginSelect:function(t){var e=this.URL+"?instanceName="+t;DialogUtility.OpenIframeWindow(window,DialogUtility.DialogId,e,{title:"验证规则",modal:!0},2)},beginSelectInFrame:function(t,e,i){var n=BaseUtility.BuildAction(this.URL,{instanceName:e});i=$.extend(!0,{},{modal:!0,title:"验证规则"},i);DialogUtility.Frame_OpenIframeWindow(t,DialogUtility.DialogId05,n,i,1),$(window.parent.document).find(".ui-widget-overlay").css("zIndex",10100),$(window.parent.document).find(".ui-dialog").css("zIndex",10101)}}};function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var StringUtility={GetTimeStampUrl:function(t){alert("迁移到BaseUtility.AppendTimeStampUrl")},GetAllQueryString:function(){alert("StringUtility.GetAllQueryString 已停用")},QueryString:function(t){alert("迁移到BaseUtility.GetUrlParaValue")},QueryStringUrlString:function(t,e){alert("迁移到BaseUtility.GetUrlParaValueByString")},XMLEncode:function(t){alert("StringUtility.XMLEncode 已停用")},XMLDeCode:function(t){alert("StringUtility.XMLDeCode 已停用")},HTMLEncode:function(t){alert("StringUtility.HTMLEncode 已停用")},HTMLDecode:function(t){alert("StringUtility.HTMLDecode 已停用")},Format:function(){alert("StringUtility.HTMLDecode 已停用")},GuidNotSplit:function(){alert("StringUtility.GuidNotSplit 已停用")},GuidSplit:function(t){for(var e="",i=1;i<=32;i++)e+=Math.floor(16*Math.random()).toString(16),8!=i&&12!=i&&16!=i&&20!=i||(e+=t);return e},Guid:function(){return this.GuidSplit("-")},RTimestamp:function(){alert("迁移到StringUtility.Timestamp")},Timestamp:function(){return(new Date).getTime().toString().substr(4,10)},Trim:function(t){return t.replace(/(^[　\s]*)|([　\s]*$)/g,"")},LTrim:function(t){alert("StringUtility.LTrim 已停用")},RTrim:function(t){alert("StringUtility.RTrim 已停用")},TrimLastChar:function(t){return alert("迁移到StringUtility.RemoveLastChar"),t.substring(0,t.length-1)},RemoveLastChar:function(t){return t.substring(0,t.length-1)},StringToJson:function(t){alert("迁移到JsonUtility.StringToJson")},Level1JsonToString:function(t){alert("迁移到JsonUtility.JsonToString")},Level1JsonToStringKeyString:function(t){alert("迁移到JsonUtility.JsonToString")},Level1JsonToStringValueEncode:function(t){alert("迁移到JsonUtility.JsonToString")},Level1StringToJsonValueDecode:function(t){alert("迁移到JsonUtility.JsonToString")},GetBrithdayByIdCard:function(t){alert("StringUtility.GetBrithdayByIdCard 已停用")},GetSexByIdCard:function(t){alert("StringUtility.GetSexByIdCard 已停用")},IsNullOrEmpty:function(t){return null==t||""==t||null==t||"undefined"==t||"null"==t},IsNullOrEmptyObject:function(t){alert("StringUtility.IsNullOrEmptyObject 已停用")},GetFuntionName:function(t){if("function"==typeof t||"object"==_typeof(t))var e=(""+t).match(/function\s*([\w\$]*)\s*\(/);if(null!==e)return e[1]},ToLowerCase:function(t){return t.toLowerCase()},toUpperCase:function(t){return t.toUpperCase()},Padding:function(t,e){alert("StringUtility.Padding 已停用")},EndWith:function(t,e){var i=t.length-e.length;return 0<=i&&t.lastIndexOf(e)==i}},XMLUtility={};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFqYXhVdGlsaXR5LmpzIiwiQmFzZVV0aWxpdHkuanMiLCJCcm93c2VySW5mb1V0aWxpdHkuanMiLCJDYWNoZURhdGFVdGlsaXR5LmpzIiwiQ29va2llVXRpbGl0eS5qcyIsIkRhdGVVdGlsaXR5LmpzIiwiRGV0YWlsUGFnZVV0aWxpdHkuanMiLCJEaWFsb2dVdGlsaXR5LmpzIiwiRGljdGlvbmFyeVV0aWxpdHkuanMiLCJKQnVpbGQ0REJhc2VMaWIuanMiLCJKc29uVXRpbGl0eS5qcyIsIkxpc3RQYWdlVXRpbGl0eS5qcyIsIlBhZ2VTdHlsZVV0aWxpdHkuanMiLCJTZWFyY2hVdGlsaXR5LmpzIiwiU2VsZWN0Vmlld0xpYi5qcyIsIlN0cmluZ1V0aWxpdHkuanMiLCJYTUxVdGlsaXR5LmpzIl0sIm5hbWVzIjpbIkFqYXhVdGlsaXR5IiwiUG9zdFJlcXVlc3RCb2R5IiwiX3VybCIsInNlbmREYXRhIiwiZnVuYyIsImRhdGFUeXBlIiwidGhpcyIsIlBvc3QiLCJQb3N0U3luYyIsImNvbnRlbnRUeXBlIiwiaXNBc3luYyIsInVybCIsIkJhc2VVdGlsaXR5IiwiQnVpbGRBY3Rpb24iLCJ1bmRlZmluZWQiLCJpbm5lclJlc3VsdCIsIiQiLCJhamF4IiwidHlwZSIsImNhY2hlIiwiYXN5bmMiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsIm1lc3NhZ2UiLCJEaWFsb2dVdGlsaXR5IiwiQWxlcnQiLCJ3aW5kb3ciLCJEaWFsb2dBbGVydElkIiwiUmVkaXJlY3RUb0xvZ2luIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJjb21wbGV0ZSIsIm1zZyIsImVycm9yIiwicmVzcG9uc2VUZXh0IiwiaW5kZXhPZiIsInN0YXR1cyIsIkdldFN5bmMiLCJHZXQiLCJCdWlsZFVybCIsIkdldFJvb3RQYXRoIiwiZnVsbEhyZWYiLCJkb2N1bWVudCIsImxvY2F0aW9uIiwiaHJlZiIsInBhdGhOYW1lIiwicGF0aG5hbWUiLCJsYWMiLCJzdWJzdHJpbmciLCJzdWJzdHIiLCJSZXBsYWNlVXJsVmFyaWFibGUiLCJzb3VyY2VVcmwiLCJhbGVydCIsIkdldFRvcFdpbmRvdyIsIlRyeVNldENvbnRyb2xGb2N1cyIsIkJ1aWxkSFRNTFZpZXciLCJhY3Rpb24iLCJwYXJhIiwiU3RyaW5nVXRpbGl0eSIsIkVuZFdpdGgiLCJBbGVydFRleHQiLCJ1cmxQYXJhIiwicGFyYW0iLCJBcHBlbmRUaW1lU3RhbXBVcmwiLCJwYXJlbnQiLCJnZXRUaW1lc3RhbXAiLCJEYXRlIiwiZ2V0VGltZSIsIkdldFVybFBhcmFWYWx1ZSIsInBhcmFOYW1lIiwiR2V0VXJsUGFyYVZhbHVlQnlTdHJpbmciLCJzZWFyY2giLCJ1cmxTdHJpbmciLCJyZWciLCJSZWdFeHAiLCJyIiwibWF0Y2giLCJkZWNvZGVVUklDb21wb25lbnQiLCJCcm93c2VySW5mb1V0aWxpdHkiLCJCcm93c2VyQXBwTmFtZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIklzSUUiLCJBY3RpdmVYT2JqZWN0IiwiSXNJRTYiLCJJc0lFNyIsIklzSUU4IiwiSXNJRThYNjQiLCJJc0lFOSIsIklzSUU5WDY0IiwiSXNJRTEwIiwiSXNJRTEwWDY0IiwiSUVEb2N1bWVudE1vZGUiLCJkb2N1bWVudE1vZGUiLCJJc0lFOERvY3VtZW50TW9kZSIsIklzRmlyZWZveCIsIklzQ2hyb21lIiwiQ2FjaGVEYXRhVXRpbGl0eSIsIkluaW5DbGllbnRDYWNoZSIsIkdldEN1cnJlbnRVc2VySW5mbyIsIl9DdXJyZW50VXNlckluZm8iLCJDb29raWVVdGlsaXR5IiwiU2V0Q29va2llMURheSIsIm5hbWUiLCJ2YWx1ZSIsImV4cCIsInNldFRpbWUiLCJjb29raWUiLCJlc2NhcGUiLCJ0b0dNVFN0cmluZyIsIlNldENvb2tpZTFNb250aCIsIlNldENvb2tpZTFZZWFyIiwiR2V0Q29va2llIiwiYXJyIiwidW5lc2NhcGUiLCJEZWxDb29raWUiLCJjdmFsIiwiZ2V0Q29va2llIiwiRGF0ZVV0aWxpdHkiLCJHZXRDdXJyZW50RGF0YVN0cmluZyIsInNwbGl0IiwiRGF0ZUZvcm1hdCIsIm15RGF0ZSIsIkZvcm1hdCIsImZvcm1hdFN0cmluZyIsIm8iLCJNKyIsImdldE1vbnRoIiwiZCsiLCJnZXREYXRlIiwiaCsiLCJnZXRIb3VycyIsIm0rIiwiZ2V0TWludXRlcyIsInMrIiwiZ2V0U2Vjb25kcyIsInErIiwiTWF0aCIsImZsb29yIiwiUyIsImdldE1pbGxpc2Vjb25kcyIsImsiLCJ0ZXN0IiwicmVwbGFjZSIsIiQxIiwiZ2V0RnVsbFllYXIiLCJsZW5ndGgiLCJGb3JtYXRDdXJyZW50RGF0YSIsIkdldEN1cnJlbnREYXRhIiwiRGV0YWlsUGFnZVV0aWxpdHkiLCJJVmlld1BhZ2VUb1ZpZXdTdGF0dXMiLCJPdmVycmlkZU9iamVjdFZhbHVlIiwic291cmNlT2JqZWN0IiwiZGF0YU9iamVjdCIsImtleSIsIkJpbmRGb3JtRGF0YSIsImludGVyZmFjZVVybCIsInZ1ZUZvcm1EYXRhIiwicmVjb3JkSWQiLCJvcCIsImJlZkZ1bmMiLCJhZkZ1bmMiLCJEaWFsb2dQcm9tcHRJZCIsIkRpYWxvZ0lkIiwiRGlhbG9nSWQwMiIsIkRpYWxvZ0lkMDMiLCJEaWFsb2dJZDA0IiwiRGlhbG9nSWQwNSIsIl9HZXRFbGVtIiwiZGlhbG9nSWQiLCJfQ3JlYXRlRGlhbG9nRWxlbSIsImRvY29iaiIsImRpYWxvZ0VsZSIsImJvZHkiLCJhcHBlbmQiLCJfQ3JlYXRlQWxlcnRMb2FkaW5nTXNnRWxlbWVudCIsIl9DcmVhdGVJZnJtYWVEaWFsb2dFbGVtZW50IiwiZGlhbG9naWQiLCJfVGVzdERpYWxvZ0VsZW1Jc0V4aXN0IiwiX1Rlc3RSdW5FbmFibGUiLCJBbGVydEVycm9yIiwib3BlcmVyV2luZG93IiwiY29uZmlnIiwiaHRtbG1zZyIsInNGdW5jIiwiZGVmYXVsdENvbmZpZyIsImhlaWdodCIsIndpZHRoIiwiZXh0ZW5kIiwidGV4dCIsImh0bWxFbGVtIiwidGl0bGUiLCJzaG93IiwibW9kYWwiLCJidXR0b25zIiwi5YWz6ZetIiwiZGlhbG9nIiwib3BlbiIsImNsb3NlIiwiaHRtbCIsIkFsZXJ0SnNvbkNvZGUiLCJqc29uIiwiSnNvblV0aWxpdHkiLCJKc29uVG9TdHJpbmdGb3JtYXQiLCJjbHMiLCJTaG93SFRNTCIsImNsb3NlX2FmdGVyX2V2ZW50IiwicGFyYW1zIiwiZXZlbnQiLCJ1aSIsIkFsZXJ0TG9hZGluZyIsImZpbmQiLCJDb25maXJtIiwib2tGbiIsIkNvbmZpcm1Db25maWciLCJwYXJhcyIsIm9rZnVuYyIsImNhbmNlbGZ1bmMiLCJ2YWxpZGF0ZWZ1bmMiLCJjbG9zZWFmdGVyZnVuYyIsIuehruiupCIsIuWPlua2iCIsIkVsZW1lbnRPYmoiLCJQcm9tcHQiLCJsYWJlbE1zZyIsIm9rRnVuYyIsInRleHRBcmVhIiwiaW5wdXRUZXh0IiwidmFsIiwiY3NzIiwiaHRtbENvbnRlbnQiLCJEaWFsb2dFbGVtIiwiZWxlbSIsIk9wZW5JZnJhbWVXaW5kb3ciLCJvcGVuZXJ3aW5kb3ciLCJvcHRpb25zIiwid2h0eXBlIiwiZGVmYXVsdG9wdGlvbnMiLCJhdXRvZGlhbG9naWQiLCJhdHRyIiwicmVtb3ZlIiwiQ29sbGVjdEdhcmJhZ2UiLCJmb2N1cyIsIlBhZ2VTdHlsZVV0aWwiLCJHZXRQYWdlV2lkdGgiLCJHZXRQYWdlSGVpZ2h0IiwiZGlhbG9nT2JqIiwiJGlmcmFtZW9iaiIsImNvbnRlbnRXaW5kb3ciLCJGcmFtZVdpbmRvd0lkIiwiT3BlbmVyV2luZG93T2JqIiwiQ2xvc2VPcGVuSWZyYW1lV2luZG93IiwiQ2xvc2VEaWFsb2ciLCJPcGVuTmV3V2luZG93IiwibGVmdCIsInBhcnNlSW50Iiwic2NyZWVuIiwiYXZhaWxXaWR0aCIsInRvU3RyaW5nIiwidG9wIiwiYXZhaWxIZWlnaHQiLCJfVHJ5R2V0UGFyZW50V2luZG93Iiwid2luIiwiX0ZyYW1lX1RyeUdldEZyYW1lV2luZG93T2JqIiwidHJ5ZmluZHRpbWUiLCJjdXJyZW50dHJ5ZmluZHRpbWUiLCJJc1RvcEZyYW1lUGFnZSIsIl9PcGVuV2luZG93SW5GcmFtZVBhZ2UiLCJJc051bGxPckVtcHR5IiwiRnJhbWVQYWdlUmVmIiwiUGFnZVN0eWxlVXRpbGl0eSIsIklzT3BlbkZvckZyYW1lIiwiX0ZyYW1lX0ZyYW1lUGFnZUNsb3NlRGlhbG9nIiwiRnJhbWVfVHJ5R2V0RnJhbWVXaW5kb3dPYmoiLCJGcmFtZV9BbGVydCIsIkZyYW1lX0NvbWZpcm0iLCJGcmFtZV9PcGVuSWZyYW1lV2luZG93Iiwid3J3aW4iLCJGcmFtZV9DbG9zZURpYWxvZyIsIkRpY3Rpb25hcnlVdGlsaXR5IiwiX0dyb3VwVmFsdWVMaXN0SnNvblRvU2ltcGxlSnNvbiIsIkdyb3VwVmFsdWVMaXN0SnNvblRvU2ltcGxlSnNvbiIsInNvdXJjZURpY3Rpb25hcnlKc29uIiwiZ3JvdXBWYWx1ZSIsImkiLCJkaWN0VmFsdWUiLCJkaWN0VGV4dCIsIndhcm4iLCJEYXRlRXh0ZW5kX0RhdGVGb3JtYXQiLCJkYXRlIiwiZm10IiwicmVmQ3NzTGluayIsImhlYWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsInJlbCIsImFwcGVuZENoaWxkIiwic2hlZXQiLCJzdHlsZVNoZWV0IiwicHJvdG90eXBlIiwidG9KU09OIiwiT2JqZWN0IiwiY3JlYXRlIiwiRiIsImFyZ3VtZW50cyIsIkVycm9yIiwiZm4iLCJvdXRlckhUTUwiLCJlbCIsImRpdiIsImNsb25lTm9kZSIsImNvbnRlbnRzIiwiaW5uZXJIVE1MIiwiUGFyc2VBcnJheUpzb25Ub1RyZWVKc29uIiwic291cmNlQXJyYXkiLCJyb290SWQiLCJyb290SnNvbiIsImtleUZpZWxkIiwiaWQiLCJGaW5kSnNvbkJ5SWQiLCJLZXlGaWVsZCIsIkZpbmRDaGlsZE5vZGVBbmRQYXJzZSIsInBpZCIsImNoaWxkanNvbnMiLCJyZWxhdGlvbkZpZWxkIiwicHVzaCIsIkZpbmRDaGlsZEpzb24iLCJSZWxhdGlvbkZpZWxkIiwiQ2hpbGRGaWVsZE5hbWUiLCJ0b09iaiIsIlNpbXBsZUNsb25lQXR0ciIsIlJlc29sdmVTaW1wbGVBcnJheUpzb25Ub1RyZWVKc29uIiwic291cmNlSnNvbiIsInJvb3ROb2RlSWQiLCJmcm9tT2JqIiwiQ2xvbmVTaW1wbGUiLCJzb3VyY2UiLCJqUXVlcnkiLCJKc29uVG9TdHJpbmciLCJvYmoiLCJKU09OIiwic3RyaW5naWZ5IiwiU3RyaW5nVG9Kc29uIiwic3RyIiwiZXZhbCIsIkxpc3RQYWdlVXRpbGl0eSIsIkdldEdlbmVyYWxQYWdlSGVpZ2h0IiwiZml4SGVpZ2h0IiwicGFnZUhlaWdodCIsIm91dGVySGVpZ2h0IiwiR2V0Rml4SGVpZ2h0IiwiSVZpZXdUYWJsZVJlbmRlcmVyIiwiVG9EYXRlWVlZWV9NTV9ERCIsImgiLCJkYXRldGltZSIsIlN0cmluZ1RvRGF0ZVlZWVlfTU1fREQiLCJUb1N0YXR1c0VuYWJsZSIsIlRvWWVzTm9FbmFibGUiLCJUb0RpY3Rpb25hcnlUZXh0IiwiZGljdGlvbmFyeUpzb24iLCJkaWN0aW9uYXJ5VmFsdWUiLCJzaW1wbGVEaWN0aW9uYXJ5SnNvbiIsIklWaWV3VGFibGVNYXJlU3VyZVNlbGVjdGVkIiwic2VsZWN0aW9uUm93cyIsInRoZW4iLCJJVmlld1RhYmxlTWFyZVN1cmVTZWxlY3RlZE9uZSIsIklWaWV3Q2hhbmdlU2VydmVyU3RhdHVzIiwiaWRGaWVsZCIsInN0YXR1c05hbWUiLCJwYWdlQXBwT2JqIiwiaWRBcnJheSIsIkFycmF5IiwiaWRzIiwiam9pbiIsInJlbG9hZERhdGEiLCJJVmlld01vdmVGYWNlIiwiSVZpZXdDaGFuZ2VTZXJ2ZXJTdGF0dXNGYWNlIiwiSVZpZXdUYWJsZURlbGV0ZVJvdyIsIklWaWV3VGFibGVMb2FkRGF0YVNlYXJjaCIsInBhZ2VOdW0iLCJwYWdlU2l6ZSIsInNlYXJjaENvbmRpdGlvbiIsImF1dG9TZWxlY3RlZE9sZFJvd3MiLCJzdWNjZXNzRnVuYyIsImxvYWREaWN0IiwiU2VhcmNoVXRpbGl0eSIsIlNlcmlhbGl6YXRpb25TZWFyY2hDb25kaXRpb24iLCJ0YWJsZURhdGEiLCJsaXN0IiwicGFnZVRvdGFsIiwidG90YWwiLCJqIiwiX2NoZWNrZWQiLCJJVmlld1RhYmxlTG9hZERhdGFOb1NlYXJjaCIsIklWaWV3VGFibGVJbm5lckJ1dHRvbiIsIlZpZXdCdXR0b24iLCJjbGFzcyIsIm9uIiwiY2xpY2siLCJ2aWV3Iiwicm93IiwiRWRpdEJ1dHRvbiIsImVkaXQiLCJEZWxldGVCdXR0b24iLCJkZWwiLCJHZXRXaW5kb3dIZWlnaHQiLCJHZXRXaW5kb3dXaWR0aCIsIkdldExpc3RCdXR0b25PdXRlckhlaWdodCIsIlNlYXJjaEZpZWxkVHlwZSIsIkludFR5cGUiLCJOdW1iZXJUeXBlIiwiRGF0YVR5cGUiLCJMaWtlU3RyaW5nVHlwZSIsIkxlZnRMaWtlU3RyaW5nVHlwZSIsIlJpZ2h0TGlrZVN0cmluZ1R5cGUiLCJTdHJpbmdUeXBlIiwiRGF0YVN0cmluZ1R5cGUiLCJBcnJheUxpa2VTdHJpbmdUeXBlIiwic2VhcmNoQ29uZGl0aW9uQ2xvbmUiLCJKQnVpbGQ0RFNlbGVjdFZpZXciLCJTZWxlY3RFbnZWYXJpYWJsZSIsIlVSTCIsImJlZ2luU2VsZWN0IiwiaW5zdGFuY2VOYW1lIiwiYmVnaW5TZWxlY3RJbkZyYW1lIiwib3BlbmVyIiwib3B0aW9uIiwiZm9ybWF0VGV4dCIsIlNlbGVjdEJpbmRUb0ZpZWxkIiwiU2VsZWN0VmFsaWRhdGVSdWxlIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJHZXRUaW1lU3RhbXBVcmwiLCJHZXRBbGxRdWVyeVN0cmluZyIsIlF1ZXJ5U3RyaW5nIiwiZmllbGROYW1lIiwiUXVlcnlTdHJpbmdVcmxTdHJpbmciLCJYTUxFbmNvZGUiLCJYTUxEZUNvZGUiLCJIVE1MRW5jb2RlIiwiSFRNTERlY29kZSIsIkd1aWROb3RTcGxpdCIsIkd1aWRTcGxpdCIsImd1aWQiLCJyYW5kb20iLCJHdWlkIiwiUlRpbWVzdGFtcCIsIlRpbWVzdGFtcCIsIlRyaW0iLCJMVHJpbSIsIlJUcmltIiwiVHJpbUxhc3RDaGFyIiwiUmVtb3ZlTGFzdENoYXIiLCJMZXZlbDFKc29uVG9TdHJpbmciLCJqc29uT2JqIiwiTGV2ZWwxSnNvblRvU3RyaW5nS2V5U3RyaW5nIiwiTGV2ZWwxSnNvblRvU3RyaW5nVmFsdWVFbmNvZGUiLCJMZXZlbDFTdHJpbmdUb0pzb25WYWx1ZURlY29kZSIsIkdldEJyaXRoZGF5QnlJZENhcmQiLCJHZXRTZXhCeUlkQ2FyZCIsIklzTnVsbE9yRW1wdHlPYmplY3QiLCJHZXRGdW50aW9uTmFtZSIsImZOYW1lIiwiVG9Mb3dlckNhc2UiLCJ0b0xvd2VyQ2FzZSIsInRvVXBwZXJDYXNlIiwiUGFkZGluZyIsIm51bSIsImVuZFN0ciIsImQiXSwibWFwcGluZ3MiOiJBQUFBLGFBR0EsSUFBQUEsWUFBQSxDQUNBQyxnQkFBQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBQyxLQUFBQyxLQUFBTCxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBLG9DQUVBRyxTQUFBLFNBQUFOLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFJLEdBRUEsT0FEQUgsS0FBQUMsS0FBQUwsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUksR0FBQSxJQUdBRixLQUFBLFNBQUFMLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFJLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUMsWUFBQUMsWUFBQVgsR0FFQVksTUFBQVQsR0FBQSxNQUFBQSxJQUNBQSxFQUFBLFFBR0FTLE1BQUFKLEdBQUEsTUFBQUEsSUFDQUEsR0FBQSxHQUdBSSxNQUFBTCxHQUFBLE1BQUFBLElBQ0FBLEVBQUEsb0RBR0EsSUFBQU0sRUFBQSxLQXdDQSxPQXZDQUMsRUFBQUMsS0FBQSxDQUNBQyxLQUFBLE9BQ0FQLElBQUFBLEVBQ0FRLE9BQUEsRUFDQUMsTUFBQVYsRUFDQUQsWUFBQUEsRUFFQUosU0FBQUEsRUFDQWdCLEtBQUFsQixFQUNBbUIsUUFBQSxTQUFBQyxHQUNBLElBQ0EsTUFBQUEsR0FBQSxNQUFBQSxFQUFBRCxTQUFBQyxFQUFBRCxTQUNBLGVBQUFDLEVBQUFDLFNBQ0FDLGNBQUFDLE1BQUFDLE9BQUFGLGNBQUFHLGNBQUEsR0FBQSxvQkFBQSxXQUNBaEIsWUFBQWlCLG9CQUlBLE1BQUFDLEdBQ0FDLFFBQUFDLElBQUEs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QSxNQUFBQSxHQUFBLGFBQUFBLEdBQUEsUUFBQUEsR0FFQTJILG9CQUFBLFNBQUEzSCxHQUNBaFMsTUFBQSwwQ0FFQTRaLGVBQUEsU0FBQTljLEdBQ0EsR0FBQSxtQkFBQUEsR0FBQSxVQUFBNmEsUUFBQTdhLEdBQUEsSUFBQStjLEdBQUEsR0FBQS9jLEdBQUEwRSxNQUFBLDZCQUNBLEdBQUEsT0FBQXFZLEVBQUEsT0FBQUEsRUFBQSxJQUVBQyxZQUFBLFNBQUExSCxHQUNBLE9BQUFBLEVBQUEySCxlQUVBQyxZQUFBLFNBQUE1SCxHQUNBLE9BQUFBLEVBQUE0SCxlQUVBQyxRQUFBLFNBQUFDLEVBQUFwVSxHQUNBOUYsTUFBQSw4QkM3VUFPLFFBQUEsU0FBQTZSLEVBQUErSCxHQUNBLElBQUFDLEVBQUFoSSxFQUFBdE0sT0FBQXFVLEVBQUFyVSIsImZpbGUiOiJKQnVpbGQ0RFBsYXRmb3JtTGliLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vQWpheOWkhOeQhuW3peWFt+exu1xudmFyIEFqYXhVdGlsaXR5ID0ge1xuICBQb3N0UmVxdWVzdEJvZHk6IGZ1bmN0aW9uIFBvc3RSZXF1ZXN0Qm9keShfdXJsLCBzZW5kRGF0YSwgZnVuYywgZGF0YVR5cGUpIHtcbiAgICB0aGlzLlBvc3QoX3VybCwgc2VuZERhdGEsIGZ1bmMsIGRhdGFUeXBlLCBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIik7XG4gIH0sXG4gIFBvc3RTeW5jOiBmdW5jdGlvbiBQb3N0U3luYyhfdXJsLCBzZW5kRGF0YSwgZnVuYywgZGF0YVR5cGUsIGNvbnRlbnRUeXBlKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMuUG9zdChfdXJsLCBzZW5kRGF0YSwgZnVuYywgZGF0YVR5cGUsIGNvbnRlbnRUeXBlLCBmYWxzZSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbiAgUG9zdDogZnVuY3Rpb24gUG9zdChfdXJsLCBzZW5kRGF0YSwgZnVuYywgZGF0YVR5cGUsIGNvbnRlbnRUeXBlLCBpc0FzeW5jKSB7XG4gICAgdmFyIHVybCA9IEJhc2VVdGlsaXR5LkJ1aWxkQWN0aW9uKF91cmwpO1xuXG4gICAgaWYgKGRhdGFUeXBlID09IHVuZGVmaW5lZCB8fCBkYXRhVHlwZSA9PSBudWxsKSB7XG4gICAgICBkYXRhVHlwZSA9IFwidGV4dFwiO1xuICAgIH1cblxuICAgIGlmIChpc0FzeW5jID09IHVuZGVmaW5lZCB8fCBpc0FzeW5jID09IG51bGwpIHtcbiAgICAgIGlzQXN5bmMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChjb250ZW50VHlwZSA9PSB1bmRlZmluZWQgfHwgY29udGVudFR5cGUgPT0gbnVsbCkge1xuICAgICAgY29udGVudFR5cGUgPSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiO1xuICAgIH1cblxuICAgIHZhciBpbm5lclJlc3VsdCA9IG51bGw7XG4gICAgJC5hamF4KHtcbiAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBjYWNoZTogZmFsc2UsXG4gICAgICBhc3luYzogaXNBc3luYyxcbiAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSxcbiAgICAgIC8vXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsKi9cbiAgICAgIGRhdGFUeXBlOiBkYXRhVHlwZSxcbiAgICAgIGRhdGE6IHNlbmREYXRhLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXN1bHQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwgJiYgcmVzdWx0LnN1Y2Nlc3MgIT0gbnVsbCAmJiAhcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQubWVzc2FnZSA9PSBcIueZu+W9lVNlc3Npb27ov4fmnJ9cIikge1xuICAgICAgICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydElkLCB7fSwgXCJTZXNzaW9u6LaF5pe277yM6K+36YeN5paw55m76ZmG57O757ufXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBCYXNlVXRpbGl0eS5SZWRpcmVjdFRvTG9naW4oKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBamF4VXRpbGl0eS5Qb3N0IEV4Y2VwdGlvbiBcIiArIHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jKHJlc3VsdCk7XG4gICAgICAgIGlubmVyUmVzdWx0ID0gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShtc2cpIHsvL2RlYnVnZ2VyO1xuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihtc2cpIHtcbiAgICAgICAgLy9kZWJ1Z2dlcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAobXNnLnJlc3BvbnNlVGV4dC5pbmRleE9mKFwi6K+36YeN5paw55m76ZmG57O757ufXCIpID49IDApIHtcbiAgICAgICAgICAgIEJhc2VVdGlsaXR5LlJlZGlyZWN0VG9Mb2dpbigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gICAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydCh3aW5kb3csIFwiQWpheFV0aWxpdHkuUG9zdC5FcnJvclwiLCB7fSwgXCJBamF46K+35rGC5Y+R55Sf6ZSZ6K+v77yBXCIgKyBcInN0YXR1czpcIiArIG1zZy5zdGF0dXMgKyBcIixyZXNwb25zZVRleHQ6XCIgKyBtc2cucmVzcG9uc2VUZXh0LCBudWxsKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaW5uZXJSZXN1bHQ7XG4gIH0sXG4gIEdldFN5bmM6IGZ1bmN0aW9uIEdldFN5bmMoX3VybCwgc2VuZERhdGEsIGZ1bmMsIGRhdGFUeXBlKSB7XG4gICAgdGhpcy5Qb3N0KF91cmwsIHNlbmREYXRhLCBmdW5jLCBkYXRhVHlwZSwgZmFsc2UpO1xuICB9LFxuICBHZXQ6IGZ1bmN0aW9uIEdldChfdXJsLCBzZW5kRGF0YSwgZnVuYywgZGF0YVR5cGUsIGlzQXN5bmMpIHtcbiAgICB2YXIgdXJsID0gQmFzZVV0aWxpdHkuQnVpbGRVcmwoX3VybCk7XG5cbiAgICBpZiAoZGF0YVR5cGUgPT0gdW5kZWZpbmVkIHx8IGRhdGFUeXBlID09IG51bGwpIHtcbiAgICAgIGRhdGFUeXBlID0gXCJ0ZXh0XCI7XG4gICAgfVxuXG4gICAgaWYgKGlzQXN5bmMgPT0gdW5kZWZpbmVkIHx8IGlzQXN5bmMgPT0gbnVsbCkge1xuICAgICAgaXNBc3luYyA9IHRydWU7XG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICB1cmw6IHVybCxcbiAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgIGFzeW5jOiBpc0FzeW5jLFxuICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgZGF0YVR5cGU6IGRhdGFUeXBlLFxuICAgICAgZGF0YTogc2VuZERhdGEsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3VsdCkge1xuICAgICAgICBmdW5jKHJlc3VsdCk7XG4gICAgICB9LFxuICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKG1zZykgey8vZGVidWdnZXI7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKG1zZykge1xuICAgICAgICBkZWJ1Z2dlcjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy/ln7rnoYDlt6XlhbdcbnZhciBCYXNlVXRpbGl0eSA9IHtcbiAgR2V0Um9vdFBhdGg6IGZ1bmN0aW9uIEdldFJvb3RQYXRoKCkge1xuICAgIHZhciBmdWxsSHJlZiA9IHdpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuICAgIHZhciBwYXRoTmFtZSA9IHdpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZTtcbiAgICB2YXIgbGFjID0gZnVsbEhyZWYuaW5kZXhPZihwYXRoTmFtZSk7XG4gICAgdmFyIGxvY2FsaG9zdFBhdGggPSBmdWxsSHJlZi5zdWJzdHJpbmcoMCwgbGFjKTtcbiAgICB2YXIgcHJvamVjdE5hbWUgPSBwYXRoTmFtZS5zdWJzdHJpbmcoMCwgcGF0aE5hbWUuc3Vic3RyKDEpLmluZGV4T2YoJy8nKSArIDEpO1xuICAgIHJldHVybiBsb2NhbGhvc3RQYXRoICsgcHJvamVjdE5hbWU7XG4gIH0sXG4gIFJlcGxhY2VVcmxWYXJpYWJsZTogZnVuY3Rpb24gUmVwbGFjZVVybFZhcmlhYmxlKHNvdXJjZVVybCkge1xuICAgIGFsZXJ0KFwiUmVwbGFjZVVybFZhcmlhYmxl6L+B56e75YiwQnVpbGRBY3Rpb25cIik7IC8vcmV0dXJuIHNvdXJjZVVybC5yZXBsYWNlKFwiJHtjdHhwYXRofVwiLCB0aGlzLkdldFJvb3RQYXRoKCkpO1xuICB9LFxuICBHZXRUb3BXaW5kb3c6IGZ1bmN0aW9uIEdldFRvcFdpbmRvdygpIHtcbiAgICBhbGVydChcIkJhc2VVdGlsaXR5LkdldFRvcFdpbmRvdyDlt7LlgZznlKhcIik7XG4gICAgLyp2YXIgd2luZG93VG9wID0gd2luZG93O1xyXG4gICAgdmFyIHdpbmRvd1BhcmVudCA9IHdpbmRvdy5kaWFsb2dBcmd1bWVudHMgfHwgb3BlbmVyIHx8IHBhcmVudDtcclxuICAgIHdoaWxlICh3aW5kb3dQYXJlbnQgJiYgd2luZG93VG9wICE9IHdpbmRvd1BhcmVudCkge1xyXG4gICAgICAgIHdpbmRvd1RvcCA9IHdpbmRvd1BhcmVudDtcclxuICAgICAgICBpZih3aW5kb3dUb3AuSXNUb3BXb3JrYXJvdW5kUGFnZSl7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3dQYXJlbnQgPSB3aW5kb3dQYXJlbnQuZGlhbG9nQXJndW1lbnRzIHx8IHdpbmRvd1BhcmVudC5vcGVuZXIgfHwgd2luZG93UGFyZW50LnBhcmVudDtcclxuICAgIH1cclxuICAgIHJldHVybiB3aW5kb3dUb3A7Ki9cbiAgfSxcbiAgVHJ5U2V0Q29udHJvbEZvY3VzOiBmdW5jdGlvbiBUcnlTZXRDb250cm9sRm9jdXMoKSB7XG4gICAgYWxlcnQoXCJCYXNlVXRpbGl0eS5UcnlTZXRDb250cm9sRm9jdXMg5bey5YGc55SoXCIpO1xuICAgIC8qdmFyIGN0cz0kKFwiaW5wdXRbdHlwZT0ndGV4dCddXCIpO1xyXG4gICAgZm9yKHZhciBpPTA7aTxjdHMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgdmFyIGN0PSQoY3RzW2ldKTtcclxuICAgICAgICBpZiAoY3QuYXR0cihcInJlYWRvbmx5XCIpICE9IFwicmVhZG9ubHlcIiYmIGN0LmF0dHIoXCJkaXNhYmxlZFwiKSAhPSBcImRpc2FibGVkXCIpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGN0WzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9Ki9cbiAgfSxcbiAgQnVpbGRVcmw6IGZ1bmN0aW9uIEJ1aWxkVXJsKHVybCkge1xuICAgIGFsZXJ0KFwiQmFzZVV0aWxpdHkuQnVpbGRVcmwg5bey5YGc55SoXCIpO1xuICAgIC8qdmFyIF91cmw9dGhpcy5HZXRSb290UGF0aCgpK3VybDtcclxuICAgIHJldHVybiBTdHJpbmdVdGlsaXR5LkdldFRpbWVTdGFtcFVybChfdXJsKTsqL1xuICB9LFxuICBCdWlsZEhUTUxWaWV3OiBmdW5jdGlvbiBCdWlsZEhUTUxWaWV3KGFjdGlvbiwgcGFyYSkge1xuICAgIGlmIChTdHJpbmdVdGlsaXR5LkVuZFdpdGgoYWN0aW9uLCBcIlZpZXdcIikpIHtcbiAgICAgIHJldHVybiB0aGlzLkJ1aWxkQWN0aW9uKGFjdGlvbiwgcGFyYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRUZXh0KFwi6KeG5Zu+VXJs6K+355SoVmlld+S9nOS4uue7k+Wwvi5cIik7XG4gICAgfVxuICB9LFxuICBCdWlsZEFjdGlvbjogZnVuY3Rpb24gQnVpbGRBY3Rpb24oYWN0aW9uLCBwYXJhKSB7XG4gICAgdmFyIHVybFBhcmEgPSBcIlwiO1xuXG4gICAgaWYgKHBhcmEpIHtcbiAgICAgIHVybFBhcmEgPSAkLnBhcmFtKHBhcmEpO1xuICAgIH1cblxuICAgIHZhciBfdXJsID0gdGhpcy5HZXRSb290UGF0aCgpICsgYWN0aW9uICsgXCIuZG9cIjtcblxuICAgIGlmICh1cmxQYXJhICE9IFwiXCIpIHtcbiAgICAgIF91cmwgKz0gXCI/XCIgKyB1cmxQYXJhO1xuICAgIH0gLy9hbGVydChfdXJsKTtcblxuXG4gICAgcmV0dXJuIHRoaXMuQXBwZW5kVGltZVN0YW1wVXJsKF91cmwpO1xuICB9LFxuICBSZWRpcmVjdFRvTG9naW46IGZ1bmN0aW9uIFJlZGlyZWN0VG9Mb2dpbigpIHtcbiAgICB2YXIgdXJsID0gQmFzZVV0aWxpdHkuR2V0Um9vdFBhdGgoKSArIFwiL0xvZ2luLmRvXCI7XG4gICAgd2luZG93LnBhcmVudC5wYXJlbnQubG9jYXRpb24uaHJlZiA9IHVybDtcbiAgfSxcbiAgQXBwZW5kVGltZVN0YW1wVXJsOiBmdW5jdGlvbiBBcHBlbmRUaW1lU3RhbXBVcmwodXJsKSB7XG4gICAgaWYgKHVybC5pbmRleE9mKFwidGltZXN0YW1wXCIpID4gXCIwXCIpIHtcbiAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuXG4gICAgdmFyIGdldFRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgaWYgKHVybC5pbmRleE9mKFwiP1wiKSA+IC0xKSB7XG4gICAgICB1cmwgPSB1cmwgKyBcIiZ0aW1lc3RhbXA9XCIgKyBnZXRUaW1lc3RhbXA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVybCA9IHVybCArIFwiP3RpbWVzdGFtcD1cIiArIGdldFRpbWVzdGFtcDtcbiAgICB9XG5cbiAgICByZXR1cm4gdXJsO1xuICB9LFxuICBHZXRVcmxQYXJhVmFsdWU6IGZ1bmN0aW9uIEdldFVybFBhcmFWYWx1ZShwYXJhTmFtZSkge1xuICAgIHJldHVybiB0aGlzLkdldFVybFBhcmFWYWx1ZUJ5U3RyaW5nKHBhcmFOYW1lLCB3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgfSxcbiAgR2V0VXJsUGFyYVZhbHVlQnlTdHJpbmc6IGZ1bmN0aW9uIEdldFVybFBhcmFWYWx1ZUJ5U3RyaW5nKHBhcmFOYW1lLCB1cmxTdHJpbmcpIHtcbiAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cChcIihefCYpXCIgKyBwYXJhTmFtZSArIFwiPShbXiZdKikoJnwkKVwiKTtcbiAgICB2YXIgciA9IHVybFN0cmluZy5zdWJzdHIoMSkubWF0Y2gocmVnKTtcbiAgICBpZiAociAhPSBudWxsKSByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJbMl0pO1xuICAgIHJldHVybiBcIlwiO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vL+a1j+iniOS4i+S/oeaBr+exu1xudmFyIEJyb3dzZXJJbmZvVXRpbGl0eSA9IHtcbiAgQnJvd3NlckFwcE5hbWU6IGZ1bmN0aW9uIEJyb3dzZXJBcHBOYW1lKCkge1xuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJGaXJlZm94XCIpID4gMCkge1xuICAgICAgcmV0dXJuIFwiRmlyZWZveFwiO1xuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRVwiKSA+IDApIHtcbiAgICAgIHJldHVybiBcIklFXCI7XG4gICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWVcIikgPiAwKSB7XG4gICAgICByZXR1cm4gXCJDaHJvbWVcIjtcbiAgICB9XG4gIH0sXG4gIElzSUU6IGZ1bmN0aW9uIElzSUUoKSB7XG4gICAgaWYgKCEhd2luZG93LkFjdGl2ZVhPYmplY3QgfHwgXCJBY3RpdmVYT2JqZWN0XCIgaW4gd2luZG93KSByZXR1cm4gdHJ1ZTtlbHNlIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgSXNJRTY6IGZ1bmN0aW9uIElzSUU2KCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDYuMFwiKSA+IDA7XG4gIH0sXG4gIElzSUU3OiBmdW5jdGlvbiBJc0lFNygpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSA3LjBcIikgPiAwO1xuICB9LFxuICBJc0lFODogZnVuY3Rpb24gSXNJRTgoKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgOC4wXCIpID4gMDtcbiAgfSxcbiAgSXNJRThYNjQ6IGZ1bmN0aW9uIElzSUU4WDY0KCkge1xuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDguMFwiKSA+IDApIHtcbiAgICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJ4NjRcIikgPiAwO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgSXNJRTk6IGZ1bmN0aW9uIElzSUU5KCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDkuMFwiKSA+IDA7XG4gIH0sXG4gIElzSUU5WDY0OiBmdW5jdGlvbiBJc0lFOVg2NCgpIHtcbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSA5LjBcIikgPiAwKSB7XG4gICAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwieDY0XCIpID4gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIElzSUUxMDogZnVuY3Rpb24gSXNJRTEwKCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDEwLjBcIikgPiAwO1xuICB9LFxuICBJc0lFMTBYNjQ6IGZ1bmN0aW9uIElzSUUxMFg2NCgpIHtcbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSAxMC4wXCIpID4gMCkge1xuICAgICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIng2NFwiKSA+IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBJRURvY3VtZW50TW9kZTogZnVuY3Rpb24gSUVEb2N1bWVudE1vZGUoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50TW9kZTtcbiAgfSxcbiAgSXNJRThEb2N1bWVudE1vZGU6IGZ1bmN0aW9uIElzSUU4RG9jdW1lbnRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLklFRG9jdW1lbnRNb2RlKCkgPT0gODtcbiAgfSxcbiAgSXNGaXJlZm94OiBmdW5jdGlvbiBJc0ZpcmVmb3goKSB7XG4gICAgcmV0dXJuIHRoaXMuQnJvd3NlckFwcE5hbWUoKSA9PSBcIkZpcmVmb3hcIjtcbiAgfSxcbiAgSXNDaHJvbWU6IGZ1bmN0aW9uIElzQ2hyb21lKCkge1xuICAgIHJldHVybiB0aGlzLkJyb3dzZXJBcHBOYW1lKCkgPT0gXCJDaHJvbWVcIjtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIENhY2hlRGF0YVV0aWxpdHkgPSB7XG4gIEluaW5DbGllbnRDYWNoZTogZnVuY3Rpb24gSW5pbkNsaWVudENhY2hlKCkge1xuICAgIHRoaXMuR2V0Q3VycmVudFVzZXJJbmZvKCk7XG4gIH0sXG4gIC8v55So5oi355u45YWz5L+h5oGvXG4gIF9DdXJyZW50VXNlckluZm86IG51bGwsXG4gIEdldEN1cnJlbnRVc2VySW5mbzogZnVuY3Rpb24gR2V0Q3VycmVudFVzZXJJbmZvKCkge1xuICAgIGlmICh0aGlzLl9DdXJyZW50VXNlckluZm8gPT0gbnVsbCkge1xuICAgICAgaWYgKHdpbmRvdy5wYXJlbnQuQ2FjaGVEYXRhVXRpbGl0eS5fQ3VycmVudFVzZXJJbmZvICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5wYXJlbnQuQ2FjaGVEYXRhVXRpbGl0eS5fQ3VycmVudFVzZXJJbmZvO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQWpheFV0aWxpdHkuUG9zdFN5bmMoXCIvUGxhdEZvcm0vTXlJbmZvL0dldFVzZXJJbmZvXCIsIHt9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICBDYWNoZURhdGFVdGlsaXR5Ll9DdXJyZW50VXNlckluZm8gPSByZXN1bHQuZGF0YTtcbiAgICAgICAgICB9IGVsc2Uge31cbiAgICAgICAgfSwgXCJqc29uXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fQ3VycmVudFVzZXJJbmZvO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fQ3VycmVudFVzZXJJbmZvO1xuICAgIH1cbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIENvb2tpZVV0aWxpdHkgPSB7XG4gIC8qKlxyXG4gICAqIOiuvue9rmNvb2tpZVxyXG4gICAqIEBwYXJhbSBuYW1lICBjb29raWXlkI3np7BcclxuICAgKiBAcGFyYW0gdmFsdWUgIGNvb2tpZeWAvFxyXG4gICAqL1xuICBTZXRDb29raWUxRGF5OiBmdW5jdGlvbiBTZXRDb29raWUxRGF5KG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIGV4cCA9IG5ldyBEYXRlKCk7IC8vbmV3IERhdGUoXCJEZWNlbWJlciAzMSwgOTk5OFwiKTtcblxuICAgIGV4cC5zZXRUaW1lKGV4cC5nZXRUaW1lKCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKTsgLy8x5aSpXG4gICAgLy8g6L+Z6YeM5LiA5a6a6KaB5Yqg5LiKcGF0aOOAguS4jeeEtuWIsGluZGV4LmpzcOmhtemdouWOu+a4hemZpGNvb2tpZeeahOaXtuWAmeS8muWHuueOsOaJvuS4jeWIsGNvb2tpZeeahOmXrumimOOAglxuXG4gICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPVwiICsgZXNjYXBlKHZhbHVlKSArIFwiO2V4cGlyZXM9XCIgKyBleHAudG9HTVRTdHJpbmcoKSArIFwiO3BhdGg9L1wiO1xuICB9LFxuICBTZXRDb29raWUxTW9udGg6IGZ1bmN0aW9uIFNldENvb2tpZTFNb250aChuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBleHAgPSBuZXcgRGF0ZSgpOyAvL25ldyBEYXRlKFwiRGVjZW1iZXIgMzEsIDk5OThcIik7XG5cbiAgICBleHAuc2V0VGltZShleHAuZ2V0VGltZSgpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsgLy8x5pyIXG4gICAgLy8g6L+Z6YeM5LiA5a6a6KaB5Yqg5LiKcGF0aOOAguS4jeeEtuWIsGluZGV4LmpzcOmhtemdouWOu+a4hemZpGNvb2tpZeeahOaXtuWAmeS8muWHuueOsOaJvuS4jeWIsGNvb2tpZeeahOmXrumimOOAglxuXG4gICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPVwiICsgZXNjYXBlKHZhbHVlKSArIFwiO2V4cGlyZXM9XCIgKyBleHAudG9HTVRTdHJpbmcoKSArIFwiO3BhdGg9L1wiO1xuICB9LFxuICBTZXRDb29raWUxWWVhcjogZnVuY3Rpb24gU2V0Q29va2llMVllYXIobmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgZXhwID0gbmV3IERhdGUoKTsgLy9uZXcgRGF0ZShcIkRlY2VtYmVyIDMxLCA5OTk4XCIpO1xuXG4gICAgZXhwLnNldFRpbWUoZXhwLmdldFRpbWUoKSArIDMwICogMjQgKiA2MCAqIDYwICogMzY1ICogMTAwMCk7IC8vMeW5tFxuICAgIC8vIOi/memHjOS4gOWumuimgeWKoOS4inBhdGjjgILkuI3nhLbliLBpbmRleC5qc3DpobXpnaLljrvmuIXpmaRjb29raWXnmoTml7blgJnkvJrlh7rnjrDmib7kuI3liLBjb29raWXnmoTpl67popjjgIJcblxuICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj1cIiArIGVzY2FwZSh2YWx1ZSkgKyBcIjtleHBpcmVzPVwiICsgZXhwLnRvR01UU3RyaW5nKCkgKyBcIjtwYXRoPS9cIjtcbiAgfSxcblxuICAvKipcclxuICAgKiDor7vlj5Zjb29raWVz5Ye95pWwXHJcbiAgICogQHBhcmFtIG5hbWVcclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xuICBHZXRDb29raWU6IGZ1bmN0aW9uIEdldENvb2tpZShuYW1lKSB7XG4gICAgdmFyIGFyciA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKFwiKF58IClcIiArIG5hbWUgKyBcIj0oW147XSopKDt8JClcIikpO1xuICAgIGlmIChhcnIgIT0gbnVsbCkgcmV0dXJuIHVuZXNjYXBlKGFyclsyXSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgLyoqXHJcbiAgICog5Yig6ZmkY29va2llXHJcbiAgICogQHBhcmFtIG5hbWUgY29va2ll5ZCN56ewXHJcbiAgICovXG4gIERlbENvb2tpZTogZnVuY3Rpb24gRGVsQ29va2llKG5hbWUpIHtcbiAgICB2YXIgZXhwID0gbmV3IERhdGUoKTtcbiAgICBleHAuc2V0VGltZShleHAuZ2V0VGltZSgpIC0gMSk7XG4gICAgdmFyIGN2YWwgPSB0aGlzLmdldENvb2tpZShuYW1lKTtcbiAgICBpZiAoY3ZhbCAhPSBudWxsKSBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9XCIgKyBjdmFsICsgXCI7ZXhwaXJlcz1cIiArIGV4cC50b0dNVFN0cmluZygpICsgXCI7cGF0aD0vXCI7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8v5pel5pyf5pe26Ze05bel5YW357G7XG52YXIgRGF0ZVV0aWxpdHkgPSB7XG4gIEdldEN1cnJlbnREYXRhU3RyaW5nOiBmdW5jdGlvbiBHZXRDdXJyZW50RGF0YVN0cmluZyhzcGxpdCkge1xuICAgIGFsZXJ0KFwiRGF0ZVV0aWxpdHkuR2V0Q3VycmVudERhdGFTdHJpbmcg5bey5YGc55SoXCIpO1xuICAgIC8qdGhpcy5TZXRTcGxpdChzcGxpdCk7Ki9cblxuICAgIC8qdmFyIG15RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB2YXIgeWVhciA9IG15RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgdmFyIG1vbnRoID0gbXlEYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgaWYgKG1vbnRoIDwgMTApIHtcclxuICAgICAgICBtb250aCA9IFwiMFwiICsgbW9udGg7XHJcbiAgICB9XHJcbiAgICB2YXIgZGF5ID0gbXlEYXRlLmdldERhdGUoKTtcclxuICAgIGlmIChkYXkgPCAxMCkge1xyXG4gICAgICAgIGRheSA9IFwiMFwiICsgZGF5O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHllYXIgKyBzcGxpdCArIG1vbnRoICsgc3BsaXQgKyBkYXk7Ki9cbiAgfSxcbiAgRGF0ZUZvcm1hdDogZnVuY3Rpb24gRGF0ZUZvcm1hdChteURhdGUsIHNwbGl0KSB7XG4gICAgYWxlcnQoXCJEYXRlVXRpbGl0eS5HZXRDdXJyZW50RGF0YVN0cmluZyDlt7LlgZznlKhcIik7XG4gICAgLyp0aGlzLlNldFNwbGl0KHNwbGl0KTsqL1xuXG4gICAgLyp2YXIgeWVhciA9IG15RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgdmFyIG1vbnRoID0gbXlEYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgaWYgKG1vbnRoIDwgMTApIHtcclxuICAgICAgICBtb250aCA9IFwiMFwiICsgbW9udGg7XHJcbiAgICB9XHJcbiAgICB2YXIgZGF5ID0gbXlEYXRlLmdldERhdGUoKTtcclxuICAgIGlmIChkYXkgPCAxMCkge1xyXG4gICAgICAgIGRheSA9IFwiMFwiICsgZGF5O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHllYXIgKyBzcGxpdCArIG1vbnRoICsgc3BsaXQgKyBkYXk7Ki9cbiAgfSxcbiAgRm9ybWF0OiBmdW5jdGlvbiBGb3JtYXQobXlEYXRlLCBmb3JtYXRTdHJpbmcpIHtcbiAgICB2YXIgbyA9IHtcbiAgICAgIFwiTStcIjogbXlEYXRlLmdldE1vbnRoKCkgKyAxLFxuICAgICAgLy9tb250aFxuICAgICAgXCJkK1wiOiBteURhdGUuZ2V0RGF0ZSgpLFxuICAgICAgLy9kYXlcbiAgICAgIFwiaCtcIjogbXlEYXRlLmdldEhvdXJzKCksXG4gICAgICAvL2hvdXJcbiAgICAgIFwibStcIjogbXlEYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgIC8vbWludXRlXG4gICAgICBcInMrXCI6IG15RGF0ZS5nZXRTZWNvbmRzKCksXG4gICAgICAvL3NlY29uZFxuICAgICAgXCJxK1wiOiBNYXRoLmZsb29yKChteURhdGUuZ2V0TW9udGgoKSArIDMpIC8gMyksXG4gICAgICAvL3F1YXJ0ZXJcbiAgICAgIFwiU1wiOiBteURhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLy9taWxsaXNlY29uZFxuXG4gICAgfTtcbiAgICBpZiAoLyh5KykvLnRlc3QoZm9ybWF0U3RyaW5nKSkgZm9ybWF0U3RyaW5nID0gZm9ybWF0U3RyaW5nLnJlcGxhY2UoUmVnRXhwLiQxLCAobXlEYXRlLmdldEZ1bGxZZWFyKCkgKyBcIlwiKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKTtcblxuICAgIGZvciAodmFyIGsgaW4gbykge1xuICAgICAgaWYgKG5ldyBSZWdFeHAoXCIoXCIgKyBrICsgXCIpXCIpLnRlc3QoZm9ybWF0U3RyaW5nKSkgZm9ybWF0U3RyaW5nID0gZm9ybWF0U3RyaW5nLnJlcGxhY2UoUmVnRXhwLiQxLCBSZWdFeHAuJDEubGVuZ3RoID09IDEgPyBvW2tdIDogKFwiMDBcIiArIG9ba10pLnN1YnN0cigoXCJcIiArIG9ba10pLmxlbmd0aCkpO1xuICAgIH1cblxuICAgIHJldHVybiBmb3JtYXRTdHJpbmc7XG4gIH0sXG4gIEZvcm1hdEN1cnJlbnREYXRhOiBmdW5jdGlvbiBGb3JtYXRDdXJyZW50RGF0YShmb3JtYXRTdHJpbmcpIHtcbiAgICB2YXIgbXlEYXRlID0gbmV3IERhdGUoKTtcbiAgICByZXR1cm4gdGhpcy5Gb3JtYXQobXlEYXRlLCBmb3JtYXRTdHJpbmcpO1xuICB9LFxuICBHZXRDdXJyZW50RGF0YTogZnVuY3Rpb24gR2V0Q3VycmVudERhdGEoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBEZXRhaWxQYWdlVXRpbGl0eSA9IHtcbiAgSVZpZXdQYWdlVG9WaWV3U3RhdHVzOiBmdW5jdGlvbiBJVmlld1BhZ2VUb1ZpZXdTdGF0dXMoKSB7XG4gICAgLy9hbGVydChcIjFcIik7XG4gICAgcmV0dXJuO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vYWxlcnQoXCIxXCIpO1xuICAgICAgJChcImlucHV0XCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgdmFyIHZhbCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICQodGhpcykuYWZ0ZXIoJChcIjxsYWJlbCAvPlwiKS50ZXh0KHZhbCkpO1xuICAgICAgfSk7XG4gICAgICAkKFwiLml2dS1kYXRlLXBpY2tlci1lZGl0b3JcIikuZmluZChcIi5pdnUtaWNvblwiKS5oaWRlKCk7XG4gICAgICAkKFwiLml2dS1yYWRpb1wiKS5oaWRlKCk7XG4gICAgICAkKFwiLml2dS1yYWRpby1ncm91cC1pdGVtXCIpLmhpZGUoKTtcbiAgICAgICQoXCIuaXZ1LXJhZGlvLXdyYXBwZXItY2hlY2tlZFwiKS5zaG93KCk7XG4gICAgICAkKFwiLml2dS1yYWRpby13cmFwcGVyLWNoZWNrZWRcIikuZmluZChcInNwYW5cIikuaGlkZSgpO1xuICAgICAgJChcInRleHRhcmVhXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgdmFyIHZhbCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICQodGhpcykuYWZ0ZXIoJChcIjxsYWJlbCAvPlwiKS50ZXh0KHZhbCkpO1xuICAgICAgfSk7XG4gICAgfSwgMTAwKTtcbiAgfSxcbiAgT3ZlcnJpZGVPYmplY3RWYWx1ZTogZnVuY3Rpb24gT3ZlcnJpZGVPYmplY3RWYWx1ZShzb3VyY2VPYmplY3QsIGRhdGFPYmplY3QpIHtcbiAgICAvL2NvbnNvbGUubG9nKGRhdGFPYmplY3QpO1xuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2VPYmplY3QpIHtcbiAgICAgIGlmIChkYXRhT2JqZWN0W2tleV0gIT0gdW5kZWZpbmVkICYmIGRhdGFPYmplY3Rba2V5XSAhPSBudWxsICYmIGRhdGFPYmplY3Rba2V5XSAhPSBcIlwiKSB7XG4gICAgICAgIHNvdXJjZU9iamVjdFtrZXldID0gZGF0YU9iamVjdFtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgQmluZEZvcm1EYXRhOiBmdW5jdGlvbiBCaW5kRm9ybURhdGEoaW50ZXJmYWNlVXJsLCB2dWVGb3JtRGF0YSwgcmVjb3JkSWQsIG9wLCBiZWZGdW5jLCBhZkZ1bmMpIHtcbiAgICAvL+iOt+WPluaVsOaNruW5tui1i+WAvFxuICAgIEFqYXhVdGlsaXR5LlBvc3QoaW50ZXJmYWNlVXJsLCB7XG4gICAgICByZWNvcmRJZDogcmVjb3JkSWQsXG4gICAgICBvcDogb3BcbiAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiZWZGdW5jID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGJlZkZ1bmMocmVzdWx0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIERldGFpbFBhZ2VVdGlsaXR5Lk92ZXJyaWRlT2JqZWN0VmFsdWUodnVlRm9ybURhdGEsIHJlc3VsdC5kYXRhKTtcblxuICAgICAgICBpZiAodHlwZW9mIGFmRnVuYyA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBhZkZ1bmMocmVzdWx0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcCA9PSBcInZpZXdcIikge1xuICAgICAgICAgIERldGFpbFBhZ2VVdGlsaXR5LklWaWV3UGFnZVRvVmlld1N0YXR1cygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydElkLCB7fSwgcmVzdWx0Lm1lc3NhZ2UsIG51bGwpO1xuICAgICAgfVxuICAgIH0sIFwianNvblwiKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy/lr7nor53moYblt6XlhbfnsbtcbnZhciBEaWFsb2dVdGlsaXR5ID0ge1xuICBEaWFsb2dBbGVydElkOiBcIkRlZmF1bHREaWFsb2dBbGVydFV0aWxpdHkwMVwiLFxuICBEaWFsb2dQcm9tcHRJZDogXCJEZWZhdWx0RGlhbG9nUHJvbXB0VXRpbGl0eTAxXCIsXG4gIERpYWxvZ0lkOiBcIkRlZmF1bHREaWFsb2dVdGlsaXR5MDFcIixcbiAgRGlhbG9nSWQwMjogXCJEZWZhdWx0RGlhbG9nVXRpbGl0eTAyXCIsXG4gIERpYWxvZ0lkMDM6IFwiRGVmYXVsdERpYWxvZ1V0aWxpdHkwM1wiLFxuICBEaWFsb2dJZDA0OiBcIkRlZmF1bHREaWFsb2dVdGlsaXR5MDRcIixcbiAgRGlhbG9nSWQwNTogXCJEZWZhdWx0RGlhbG9nVXRpbGl0eTA1XCIsXG4gIF9HZXRFbGVtOiBmdW5jdGlvbiBfR2V0RWxlbShkaWFsb2dJZCkge1xuICAgIHJldHVybiAkKFwiI1wiICsgZGlhbG9nSWQpO1xuICB9LFxuICBfQ3JlYXRlRGlhbG9nRWxlbTogZnVuY3Rpb24gX0NyZWF0ZURpYWxvZ0VsZW0oZG9jb2JqLCBkaWFsb2dJZCkge1xuICAgIGlmICh0aGlzLl9HZXRFbGVtKGRpYWxvZ0lkKS5sZW5ndGggPT0gMCkge1xuICAgICAgdmFyIGRpYWxvZ0VsZSA9ICQoXCI8ZGl2IGlkPVwiICsgZGlhbG9nSWQgKyBcIiB0aXRsZT0n57O757uf5o+Q56S6JyBzdHlsZT0nZGlzcGxheTpub25lJz5cXFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlwiKTtcbiAgICAgICQoZG9jb2JqLmJvZHkpLmFwcGVuZChkaWFsb2dFbGUpO1xuICAgICAgcmV0dXJuIGRpYWxvZ0VsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX0dldEVsZW0oZGlhbG9nSWQpO1xuICAgIH1cbiAgfSxcbiAgX0NyZWF0ZUFsZXJ0TG9hZGluZ01zZ0VsZW1lbnQ6IGZ1bmN0aW9uIF9DcmVhdGVBbGVydExvYWRpbmdNc2dFbGVtZW50KGRvY29iaiwgZGlhbG9nSWQpIHtcbiAgICBpZiAodGhpcy5fR2V0RWxlbShkaWFsb2dJZCkubGVuZ3RoID09IDApIHtcbiAgICAgIHZhciBkaWFsb2dFbGUgPSAkKFwiPGRpdiBpZD1cIiArIGRpYWxvZ0lkICsgXCIgdGl0bGU9J+ezu+e7n+aPkOekuicgc3R5bGU9J2Rpc3BsYXk6bm9uZSc+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J2FsZXJ0bG9hZGluZy1pbWcnPjwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdhbGVydGxvYWRpbmctdHh0Jz48L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cIik7XG4gICAgICAkKGRvY29iai5ib2R5KS5hcHBlbmQoZGlhbG9nRWxlKTtcbiAgICAgIHJldHVybiBkaWFsb2dFbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9HZXRFbGVtKGRpYWxvZ0lkKTtcbiAgICB9XG4gIH0sXG4gIF9DcmVhdGVJZnJtYWVEaWFsb2dFbGVtZW50OiBmdW5jdGlvbiBfQ3JlYXRlSWZybWFlRGlhbG9nRWxlbWVudChkb2NvYmosIGRpYWxvZ2lkLCB1cmwpIHtcbiAgICB2YXIgZGlhbG9nRWxlID0gJChcIjxkaXYgaWQ9XCIgKyBkaWFsb2dpZCArIFwiIHRpdGxlPSdCYXNpYyBkaWFsb2cnIHN0eWxlPSdkaXNwbGF5Om5vbmUnPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpZnJhbWUgd2lkdGg9JzEwMCUnIGhlaWdodD0nOTglJyBmcmFtZWJvcmRlcj0nMCcgc3JjPSdcIiArIHVybCArIFwiJz5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2lmcmFtZT5cXFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlwiKTtcbiAgICAkKGRvY29iai5ib2R5KS5hcHBlbmQoZGlhbG9nRWxlKTtcbiAgICByZXR1cm4gZGlhbG9nRWxlO1xuICB9LFxuICBfVGVzdERpYWxvZ0VsZW1Jc0V4aXN0OiBmdW5jdGlvbiBfVGVzdERpYWxvZ0VsZW1Jc0V4aXN0KGRpYWxvZ0lkKSB7XG4gICAgaWYgKHRoaXMuX0dldEVsZW0oZGlhbG9nSWQpLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgX1Rlc3RSdW5FbmFibGU6IGZ1bmN0aW9uIF9UZXN0UnVuRW5hYmxlKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBBbGVydEVycm9yOiBmdW5jdGlvbiBBbGVydEVycm9yKG9wZXJlcldpbmRvdywgZGlhbG9nSWQsIGNvbmZpZywgaHRtbG1zZywgc0Z1bmMpIHtcbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcbiAgICAgIGhlaWdodDogNDAwLFxuICAgICAgd2lkdGg6IDYwMFxuICAgIH07XG4gICAgZGVmYXVsdENvbmZpZyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0Q29uZmlnLCBjb25maWcpO1xuICAgIHRoaXMuQWxlcnQob3BlcmVyV2luZG93LCBkaWFsb2dJZCwgZGVmYXVsdENvbmZpZywgaHRtbG1zZywgc0Z1bmMpO1xuICB9LFxuICBBbGVydFRleHQ6IGZ1bmN0aW9uIEFsZXJ0VGV4dCh0ZXh0KSB7XG4gICAgRGlhbG9nVXRpbGl0eS5BbGVydCh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nQWxlcnRJZCwge30sIHRleHQsIG51bGwpO1xuICB9LFxuICBBbGVydDogZnVuY3Rpb24gQWxlcnQob3BlcmVyV2luZG93LCBkaWFsb2dJZCwgY29uZmlnLCBodG1sbXNnLCBzRnVuYykge1xuICAgIC8vZGVidWdnZXI7XG4gICAgdmFyIGh0bWxFbGVtID0gdGhpcy5fQ3JlYXRlRGlhbG9nRWxlbShvcGVyZXJXaW5kb3cuZG9jdW1lbnQuYm9keSwgZGlhbG9nSWQpO1xuXG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSB7XG4gICAgICBoZWlnaHQ6IDIwMCxcbiAgICAgIHdpZHRoOiAzMDAsXG4gICAgICB0aXRsZTogXCLns7vnu5/mj5DnpLpcIixcbiAgICAgIHNob3c6IHRydWUsXG4gICAgICBtb2RhbDogdHJ1ZSxcbiAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgXCLlhbPpl61cIjogZnVuY3Rpb24gXygpIHtcbiAgICAgICAgICAkKGh0bWxFbGVtKS5kaWFsb2coXCJjbG9zZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oKSB7fSxcbiAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHNGdW5jKSB7XG4gICAgICAgICAgc0Z1bmMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdENvbmZpZywgY29uZmlnKTtcbiAgICAkKGh0bWxFbGVtKS5odG1sKGh0bWxtc2cpO1xuICAgICQoaHRtbEVsZW0pLmRpYWxvZyhkZWZhdWx0Q29uZmlnKTtcbiAgfSxcbiAgQWxlcnRKc29uQ29kZTogZnVuY3Rpb24gQWxlcnRKc29uQ29kZShqc29uKSB7XG4gICAganNvbiA9IEpzb25VdGlsaXR5Lkpzb25Ub1N0cmluZ0Zvcm1hdChqc29uKTtcbiAgICBqc29uID0ganNvbi5yZXBsYWNlKC8mL2csICcmJykucmVwbGFjZSgvPC9nLCAnPCcpLnJlcGxhY2UoLz4vZywgJz4nKTtcbiAgICBqc29uID0ganNvbi5yZXBsYWNlKC8oXCIoXFxcXHVbYS16QS1aMC05XXs0fXxcXFxcW151XXxbXlxcXFxcIl0pKlwiKFxccyo6KT98XFxiKHRydWV8ZmFsc2V8bnVsbClcXGJ8LT9cXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8pL2csIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgdmFyIGNscyA9ICdqc29uLW51bWJlcic7XG5cbiAgICAgIGlmICgvXlwiLy50ZXN0KG1hdGNoKSkge1xuICAgICAgICBpZiAoLzokLy50ZXN0KG1hdGNoKSkge1xuICAgICAgICAgIGNscyA9ICdqc29uLWtleSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xzID0gJ2pzb24tc3RyaW5nJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgvdHJ1ZXxmYWxzZS8udGVzdChtYXRjaCkpIHtcbiAgICAgICAgY2xzID0gJ2pzb24tYm9vbGVhbic7XG4gICAgICB9IGVsc2UgaWYgKC9udWxsLy50ZXN0KG1hdGNoKSkge1xuICAgICAgICBjbHMgPSAnanNvbi1udWxsJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIicgKyBjbHMgKyAnXCI+JyArIG1hdGNoICsgJzwvc3Bhbj4nO1xuICAgIH0pO1xuICAgIHRoaXMuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHtcbiAgICAgIHdpZHRoOiA5MDAsXG4gICAgICBoZWlnaHQ6IDYwMFxuICAgIH0sIFwiPHByZSBjbGFzcz0nanNvbi1wcmUnPlwiICsganNvbiArIFwiPC9wcmU+XCIsIG51bGwpO1xuICB9LFxuICBTaG93SFRNTDogZnVuY3Rpb24gU2hvd0hUTUwob3BlcmVyV2luZG93LCBkaWFsb2dJZCwgY29uZmlnLCBodG1sbXNnLCBjbG9zZV9hZnRlcl9ldmVudCwgcGFyYW1zKSB7XG4gICAgdmFyIGh0bWxFbGVtID0gdGhpcy5fQ3JlYXRlRGlhbG9nRWxlbShvcGVyZXJXaW5kb3cuZG9jdW1lbnQuYm9keSwgZGlhbG9nSWQpO1xuXG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSB7XG4gICAgICBoZWlnaHQ6IDIwMCxcbiAgICAgIHdpZHRoOiAzMDAsXG4gICAgICB0aXRsZTogXCLns7vnu5/mj5DnpLpcIixcbiAgICAgIHNob3c6IHRydWUsXG4gICAgICBtb2RhbDogdHJ1ZSxcbiAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZShldmVudCwgdWkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAodHlwZW9mIGNsb3NlX2FmdGVyX2V2ZW50ID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY2xvc2VfYWZ0ZXJfZXZlbnQocGFyYW1zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0Q29uZmlnLCBjb25maWcpO1xuICAgICQoaHRtbEVsZW0pLmh0bWwoaHRtbG1zZyk7XG4gICAgcmV0dXJuICQoaHRtbEVsZW0pLmRpYWxvZyhkZWZhdWx0Q29uZmlnKTtcbiAgfSxcbiAgQWxlcnRMb2FkaW5nOiBmdW5jdGlvbiBBbGVydExvYWRpbmcob3BlcmVyV2luZG93LCBkaWFsb2dJZCwgY29uZmlnLCBodG1sbXNnKSB7XG4gICAgdmFyIGh0bWxFbGVtID0gdGhpcy5fQ3JlYXRlQWxlcnRMb2FkaW5nTXNnRWxlbWVudChvcGVyZXJXaW5kb3cuZG9jdW1lbnQuYm9keSwgZGlhbG9nSWQpO1xuXG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSB7XG4gICAgICBoZWlnaHQ6IDIwMCxcbiAgICAgIHdpZHRoOiAzMDAsXG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIHNob3c6IHRydWUsXG4gICAgICBtb2RhbDogdHJ1ZVxuICAgIH07XG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdENvbmZpZywgY29uZmlnKTtcbiAgICAkKGh0bWxFbGVtKS5maW5kKFwiLmFsZXJ0bG9hZGluZy10eHRcIikuaHRtbChodG1sbXNnKTtcbiAgICAkKGh0bWxFbGVtKS5kaWFsb2coZGVmYXVsdENvbmZpZyk7XG4gIH0sXG4gIENvbmZpcm06IGZ1bmN0aW9uIENvbmZpcm0ob3BlcmVyV2luZG93LCBodG1sbXNnLCBva0ZuKSB7XG4gICAgdGhpcy5Db25maXJtQ29uZmlnKG9wZXJlcldpbmRvdywgaHRtbG1zZywgbnVsbCwgb2tGbik7XG4gIH0sXG4gIENvbmZpcm1Db25maWc6IGZ1bmN0aW9uIENvbmZpcm1Db25maWcob3BlcmVyV2luZG93LCBodG1sbXNnLCBjb25maWcsIG9rRm4pIHtcbiAgICB2YXIgaHRtbEVsZW0gPSB0aGlzLl9DcmVhdGVEaWFsb2dFbGVtKG9wZXJlcldpbmRvdy5kb2N1bWVudC5ib2R5LCBcIkFsZXJ0Q29uZmlybU1zZ1wiKTtcblxuICAgIHZhciBwYXJhcyA9IG51bGw7XG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSB7XG4gICAgICBva2Z1bmM6IGZ1bmN0aW9uIG9rZnVuYyhwYXJhcykge1xuICAgICAgICBpZiAob2tGbiAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gb2tGbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZXJlcldpbmRvdy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FuY2VsZnVuYzogZnVuY3Rpb24gY2FuY2VsZnVuYyhwYXJhcykge30sXG4gICAgICB2YWxpZGF0ZWZ1bmM6IGZ1bmN0aW9uIHZhbGlkYXRlZnVuYyhwYXJhcykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBjbG9zZWFmdGVyZnVuYzogdHJ1ZSxcbiAgICAgIGhlaWdodDogMjAwLFxuICAgICAgd2lkdGg6IDMwMCxcbiAgICAgIHRpdGxlOiBcIuezu+e7n+aPkOekulwiLFxuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIG1vZGFsOiB0cnVlLFxuICAgICAgYnV0dG9uczoge1xuICAgICAgICBcIuehruiupFwiOiBmdW5jdGlvbiBfKCkge1xuICAgICAgICAgIGlmIChkZWZhdWx0Q29uZmlnLnZhbGlkYXRlZnVuYyhwYXJhcykpIHtcbiAgICAgICAgICAgIHZhciByID0gZGVmYXVsdENvbmZpZy5va2Z1bmMocGFyYXMpO1xuICAgICAgICAgICAgciA9IHIgPT0gbnVsbCA/IHRydWUgOiByO1xuXG4gICAgICAgICAgICBpZiAociAmJiBkZWZhdWx0Q29uZmlnLmNsb3NlYWZ0ZXJmdW5jKSB7XG4gICAgICAgICAgICAgICQoaHRtbEVsZW0pLmRpYWxvZyhcImNsb3NlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCLlj5bmtohcIjogZnVuY3Rpb24gXygpIHtcbiAgICAgICAgICBkZWZhdWx0Q29uZmlnLmNhbmNlbGZ1bmMocGFyYXMpO1xuXG4gICAgICAgICAgaWYgKGRlZmF1bHRDb25maWcuY2xvc2VhZnRlcmZ1bmMpIHtcbiAgICAgICAgICAgICQoaHRtbEVsZW0pLmRpYWxvZyhcImNsb3NlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdENvbmZpZywgY29uZmlnKTtcbiAgICAkKGh0bWxFbGVtKS5odG1sKGh0bWxtc2cpO1xuICAgICQoaHRtbEVsZW0pLmRpYWxvZyhkZWZhdWx0Q29uZmlnKTtcbiAgICBwYXJhcyA9IHtcbiAgICAgIFwiRWxlbWVudE9ialwiOiBodG1sRWxlbVxuICAgIH07XG4gIH0sXG4gIFByb21wdDogZnVuY3Rpb24gUHJvbXB0KG9wZXJlcldpbmRvdywgY29uZmlnLCBkaWFsb2dJZCwgbGFiZWxNc2csIG9rRnVuYykge1xuICAgIHZhciBodG1sRWxlbSA9IHRoaXMuX0NyZWF0ZURpYWxvZ0VsZW0ob3BlcmVyV2luZG93LmRvY3VtZW50LmJvZHksIGRpYWxvZ0lkKTtcblxuICAgIHZhciBwYXJhcyA9IG51bGw7XG4gICAgdmFyIHRleHRBcmVhID0gJChcIjx0ZXh0YXJlYSAvPlwiKTtcbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcbiAgICAgIGhlaWdodDogMjAwLFxuICAgICAgd2lkdGg6IDMwMCxcbiAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIG1vZGFsOiB0cnVlLFxuICAgICAgYnV0dG9uczoge1xuICAgICAgICBcIuehruiupFwiOiBmdW5jdGlvbiBfKCkge1xuICAgICAgICAgIC8vZGVidWdnZXI7XG4gICAgICAgICAgaWYgKHR5cGVvZiBva0Z1bmMgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRUZXh0ID0gdGV4dEFyZWEudmFsKCk7XG4gICAgICAgICAgICBva0Z1bmMoaW5wdXRUZXh0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAkKGh0bWxFbGVtKS5kaWFsb2coXCJjbG9zZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCLlj5bmtohcIjogZnVuY3Rpb24gXygpIHtcbiAgICAgICAgICAkKGh0bWxFbGVtKS5kaWFsb2coXCJjbG9zZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdENvbmZpZywgY29uZmlnKTtcbiAgICAkKHRleHRBcmVhKS5jc3MoXCJoZWlnaHRcIiwgZGVmYXVsdENvbmZpZy5oZWlnaHQgLSAxMzApO1xuICAgIHZhciBodG1sQ29udGVudCA9ICQoXCI8ZGl2PlwiICsgbGFiZWxNc2cgKyBcIu+8mjwvZGl2PlwiKS5hcHBlbmQodGV4dEFyZWEpO1xuICAgICQoaHRtbEVsZW0pLmh0bWwoaHRtbENvbnRlbnQpO1xuICAgICQoaHRtbEVsZW0pLmRpYWxvZyhkZWZhdWx0Q29uZmlnKTsgLy9kaWFsb2cudGV4dEFyZWFPYmo9dGV4dEFyZWE7XG4gIH0sXG4gIERpYWxvZ0VsZW06IGZ1bmN0aW9uIERpYWxvZ0VsZW0oZWxlbSwgY29uZmlnKSB7XG4gICAgJChlbGVtKS5kaWFsb2coY29uZmlnKTtcbiAgfSxcbiAgT3BlbklmcmFtZVdpbmRvdzogZnVuY3Rpb24gT3BlbklmcmFtZVdpbmRvdyhvcGVuZXJ3aW5kb3csIGRpYWxvZ0lkLCB1cmwsIG9wdGlvbnMsIHdodHlwZSkge1xuICAgIHZhciBkZWZhdWx0b3B0aW9ucyA9IHtcbiAgICAgIGhlaWdodDogNDEwLFxuICAgICAgd2lkdGg6IDYwMCxcbiAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZShldmVudCwgdWkpIHtcbiAgICAgICAgdmFyIGF1dG9kaWFsb2dpZCA9ICQodGhpcykuYXR0cihcImlkXCIpO1xuICAgICAgICAkKHRoaXMpLmZpbmQoXCJpZnJhbWVcIikucmVtb3ZlKCk7XG4gICAgICAgICQodGhpcykuZGlhbG9nKCdjbG9zZScpO1xuICAgICAgICAkKHRoaXMpLmRpYWxvZyhcImRlc3Ryb3lcIik7XG4gICAgICAgICQoXCIjXCIgKyBhdXRvZGlhbG9naWQpLnJlbW92ZSgpO1xuXG4gICAgICAgIGlmIChCcm93c2VySW5mb1V0aWxpdHkuSXNJRThEb2N1bWVudE1vZGUoKSkge1xuICAgICAgICAgIENvbGxlY3RHYXJiYWdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2xvc2VfYWZ0ZXJfZXZlbnQgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgb3B0aW9ucy5jbG9zZV9hZnRlcl9ldmVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoJChcIiNGb3Jmb2N1c1wiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKFwiI0ZvcmZvY3VzXCIpWzBdLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgIH07IC8vZGVidWdnZXI7XG5cbiAgICBpZiAod2h0eXBlID09IDEpIHtcbiAgICAgIGRlZmF1bHRvcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRvcHRpb25zLCB7XG4gICAgICAgIGhlaWdodDogNjgwLFxuICAgICAgICB3aWR0aDogOTgwXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHdodHlwZSA9PSAyKSB7XG4gICAgICBkZWZhdWx0b3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0b3B0aW9ucywge1xuICAgICAgICBoZWlnaHQ6IDYwMCxcbiAgICAgICAgd2lkdGg6IDgwMFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh3aHR5cGUgPT0gNCkge1xuICAgICAgZGVmYXVsdG9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdG9wdGlvbnMsIHtcbiAgICAgICAgaGVpZ2h0OiAzODAsXG4gICAgICAgIHdpZHRoOiA0ODBcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAod2h0eXBlID09IDUpIHtcbiAgICAgIGRlZmF1bHRvcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRvcHRpb25zLCB7XG4gICAgICAgIGhlaWdodDogMTgwLFxuICAgICAgICB3aWR0aDogMzAwXG4gICAgICB9KTtcbiAgICB9IC8v5aaC5p6c5a695bqm77yM6auY5bqm6K6+572u5Li6MO+8jOWImeiHquWKqOiuvue9ruS4uuWFqOWxj1xuXG5cbiAgICBpZiAob3B0aW9ucy53aWR0aCA9PSAwKSB7XG4gICAgICBvcHRpb25zLndpZHRoID0gUGFnZVN0eWxlVXRpbC5HZXRQYWdlV2lkdGgoKSAtIDIwO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmhlaWdodCA9PSAwKSB7XG4gICAgICBvcHRpb25zLmhlaWdodCA9IFBhZ2VTdHlsZVV0aWwuR2V0UGFnZUhlaWdodCgpIC0gMTA7XG4gICAgfVxuXG4gICAgZGVmYXVsdG9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIHZhciBhdXRvZGlhbG9naWQgPSBkaWFsb2dJZDtcblxuICAgIHZhciBkaWFsb2dFbGUgPSB0aGlzLl9DcmVhdGVJZnJtYWVEaWFsb2dFbGVtZW50KG9wZW5lcndpbmRvdy5kb2N1bWVudCwgYXV0b2RpYWxvZ2lkLCB1cmwpO1xuXG4gICAgdmFyIGRpYWxvZ09iaiA9ICQoZGlhbG9nRWxlKS5kaWFsb2coZGVmYXVsdG9wdGlvbnMpO1xuICAgIHZhciAkaWZyYW1lb2JqID0gJChkaWFsb2dFbGUpLmZpbmQoXCJpZnJhbWVcIik7XG4gICAgJGlmcmFtZW9ialswXS5jb250ZW50V2luZG93LkZyYW1lV2luZG93SWQgPSBhdXRvZGlhbG9naWQ7XG4gICAgJGlmcmFtZW9ialswXS5jb250ZW50V2luZG93Lk9wZW5lcldpbmRvd09iaiA9IG9wZW5lcndpbmRvdztcbiAgICByZXR1cm4gZGlhbG9nT2JqO1xuICAgIC8qJGlmcmFtZW9iai5sb2FkKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbSA9ICQodGhpcykuY29udGVudHMoKS5maW5kKFwiaW5wdXQ6dGV4dDpmaXJzdFwiKTtcclxuICAgICAgICAgICAgaWYgKGVsZW0uYXR0cihcInJlYWRvbmx5XCIpICE9IFwicmVhZG9ubHlcIiYmIGVsZW0uYXR0cihcImRpc2FibGVkXCIpICE9IFwiZGlzYWJsZWRcIikge1xyXG4gICAgICAgICAgICAgICAgZWxlbVswXS5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gJCh0aGlzKS5jb250ZW50cygpLmZpbmQoXCJpbnB1dDp0ZXh0XCIpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gJChlbGVtc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uYXR0cihcInJlYWRvbmx5XCIpICE9IFwicmVhZG9ubHlcIiYmZWxlbS5hdHRyKFwiZGlzYWJsZWRcIikgIT0gXCJkaXNhYmxlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1bMF0uZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7Ki9cbiAgfSxcbiAgQ2xvc2VPcGVuSWZyYW1lV2luZG93OiBmdW5jdGlvbiBDbG9zZU9wZW5JZnJhbWVXaW5kb3cob3BlbmVyd2luZG93LCBkaWFsb2dJZCkge1xuICAgIC8vYWxlcnQoZGlhbG9nSWQpO1xuICAgIG9wZW5lcndpbmRvdy5PcGVuZXJXaW5kb3dPYmouRGlhbG9nVXRpbGl0eS5DbG9zZURpYWxvZyhkaWFsb2dJZCk7XG4gIH0sXG4gIENsb3NlRGlhbG9nOiBmdW5jdGlvbiBDbG9zZURpYWxvZyhkaWFsb2dJZCkge1xuICAgIC8vZGVidWdnZXI7XG4gICAgdGhpcy5fR2V0RWxlbShkaWFsb2dJZCkuZmluZChcImlmcmFtZVwiKS5yZW1vdmUoKTtcblxuICAgICQodGhpcy5fR2V0RWxlbShkaWFsb2dJZCkpLmRpYWxvZyhcImNsb3NlXCIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmICgkKFwiI0ZvcmZvY3VzXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJChcIiNGb3Jmb2N1c1wiKVswXS5mb2N1cygpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0sXG4gIE9wZW5OZXdXaW5kb3c6IGZ1bmN0aW9uIE9wZW5OZXdXaW5kb3cob3BlbmVyd2luZG93LCBkaWFsb2dJZCwgdXJsLCBvcHRpb25zLCB3aHR5cGUpIHtcbiAgICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICB2YXIgbGVmdCA9IHBhcnNlSW50KChzY3JlZW4uYXZhaWxXaWR0aCAtIHdpZHRoKSAvIDIpLnRvU3RyaW5nKCk7XG4gICAgdmFyIHRvcCA9IHBhcnNlSW50KChzY3JlZW4uYXZhaWxIZWlnaHQgLSBoZWlnaHQpIC8gMikudG9TdHJpbmcoKTtcblxuICAgIGlmICh3aWR0aC50b1N0cmluZygpID09IFwiMFwiICYmIGhlaWdodC50b1N0cmluZygpID09IFwiMFwiKSB7XG4gICAgICB3aWR0aCA9IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aCAtIDMwO1xuICAgICAgaGVpZ2h0ID0gd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCAtIDYwO1xuICAgICAgbGVmdCA9IFwiMFwiO1xuICAgICAgdG9wID0gXCIwXCI7XG4gICAgfVxuXG4gICAgdmFyIHdpbkhhbmRsZSA9IHdpbmRvdy5vcGVuKHVybCwgXCJcIiwgXCJzY3JvbGxiYXJzPW5vLHRvb2xiYXI9bm8sbWVudWJhcj1ubyxyZXNpemFibGU9eWVzLGNlbnRlcj15ZXMsaGVscD1ubywgc3RhdHVzPXllcyx0b3A9IFwiICsgdG9wICsgXCJweCxsZWZ0PVwiICsgbGVmdCArIFwicHgsd2lkdGg9XCIgKyB3aWR0aCArIFwicHgsaGVpZ2h0PVwiICsgaGVpZ2h0ICsgXCJweFwiKTtcblxuICAgIGlmICh3aW5IYW5kbGUgPT0gbnVsbCkge1xuICAgICAgYWxlcnQoXCLor7fop6PpmaTmtY/op4jlmajlr7nmnKzns7vnu5/lvLnlh7rnqpflj6PnmoTpmLvmraLorr7nva7vvIFcIik7XG4gICAgfVxuICB9LFxuICBfVHJ5R2V0UGFyZW50V2luZG93OiBmdW5jdGlvbiBfVHJ5R2V0UGFyZW50V2luZG93KHdpbikge1xuICAgIGlmICh3aW4ucGFyZW50ICE9IG51bGwpIHtcbiAgICAgIHJldHVybiB3aW4ucGFyZW50O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBfRnJhbWVfVHJ5R2V0RnJhbWVXaW5kb3dPYmo6IGZ1bmN0aW9uIF9GcmFtZV9UcnlHZXRGcmFtZVdpbmRvd09iaih3aW4sIHRyeWZpbmR0aW1lLCBjdXJyZW50dHJ5ZmluZHRpbWUpIHtcbiAgICBpZiAodHJ5ZmluZHRpbWUgPiBjdXJyZW50dHJ5ZmluZHRpbWUpIHtcbiAgICAgIC8vdmFyIGRvY3VtZW50ID0gd2luO1xuICAgICAgdmFyIGlzdG9wRnJhbWVwYWdlID0gZmFsc2U7XG4gICAgICBjdXJyZW50dHJ5ZmluZHRpbWUrKztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgaXN0b3BGcmFtZXBhZ2UgPSB3aW4uSXNUb3BGcmFtZVBhZ2U7XG5cbiAgICAgICAgaWYgKGlzdG9wRnJhbWVwYWdlKSB7XG4gICAgICAgICAgcmV0dXJuIHdpbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fRnJhbWVfVHJ5R2V0RnJhbWVXaW5kb3dPYmoodGhpcy5fVHJ5R2V0UGFyZW50V2luZG93KHdpbiksIHRyeWZpbmR0aW1lLCBjdXJyZW50dHJ5ZmluZHRpbWUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9GcmFtZV9UcnlHZXRGcmFtZVdpbmRvd09iaih0aGlzLl9UcnlHZXRQYXJlbnRXaW5kb3cod2luKSwgdHJ5ZmluZHRpbWUsIGN1cnJlbnR0cnlmaW5kdGltZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIF9PcGVuV2luZG93SW5GcmFtZVBhZ2U6IGZ1bmN0aW9uIF9PcGVuV2luZG93SW5GcmFtZVBhZ2Uob3BlbmVyd2luZG93LCBkaWFsb2dJZCwgdXJsLCBvcHRpb25zLCB3aHR5cGUpIHtcbiAgICBpZiAoU3RyaW5nVXRpbGl0eS5Jc051bGxPckVtcHR5KGRpYWxvZ0lkKSkge1xuICAgICAgYWxlcnQoXCJkaWFsb2dJZOS4jeiDveS4uuepulwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cmwgPSBCYXNlVXRpbGl0eS5BcHBlbmRUaW1lU3RhbXBVcmwodXJsKTtcbiAgICB2YXIgYXV0b2RpYWxvZ2lkID0gXCJGcmFtZURpYWxvZ0VsZVwiICsgZGlhbG9nSWQ7XG5cbiAgICBpZiAoJCh0aGlzLkZyYW1lUGFnZVJlZi5kb2N1bWVudCkuZmluZChcIiNcIiArIGF1dG9kaWFsb2dpZCkubGVuZ3RoID09IDApIHtcbiAgICAgIHZhciBkaWFsb2dFbGUgPSB0aGlzLl9DcmVhdGVJZnJtYWVEaWFsb2dFbGVtZW50KHRoaXMuRnJhbWVQYWdlUmVmLmRvY3VtZW50LCBhdXRvZGlhbG9naWQsIHVybCk7XG5cbiAgICAgIHZhciBkZWZhdWx0b3B0aW9ucyA9IHtcbiAgICAgICAgaGVpZ2h0OiA0MDAsXG4gICAgICAgIHdpZHRoOiA2MDAsXG4gICAgICAgIG1vZGFsOiB0cnVlLFxuICAgICAgICB0aXRsZTogXCLns7vnu59cIixcbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGV2ZW50LCB1aSkge1xuICAgICAgICAgIHZhciBhdXRvZGlhbG9naWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcbiAgICAgICAgICAkKHRoaXMpLmZpbmQoXCJpZnJhbWVcIikucmVtb3ZlKCk7XG4gICAgICAgICAgJCh0aGlzKS5kaWFsb2coJ2Nsb3NlJyk7XG4gICAgICAgICAgJCh0aGlzKS5kaWFsb2coXCJkZXN0cm95XCIpO1xuICAgICAgICAgICQoXCIjXCIgKyBhdXRvZGlhbG9naWQpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgaWYgKEJyb3dzZXJJbmZvVXRpbGl0eS5Jc0lFOERvY3VtZW50TW9kZSgpKSB7XG4gICAgICAgICAgICBDb2xsZWN0R2FyYmFnZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jbG9zZV9hZnRlcl9ldmVudCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuY2xvc2VfYWZ0ZXJfZXZlbnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmICh3aHR5cGUgPT0gMCkge1xuICAgICAgICBvcHRpb25zLndpZHRoID0gUGFnZVN0eWxlVXRpbGl0eS5HZXRQYWdlV2lkdGgoKSAtIDIwO1xuICAgICAgICBvcHRpb25zLmhlaWdodCA9IFBhZ2VTdHlsZVV0aWxpdHkuR2V0UGFnZUhlaWdodCgpIC0gMTA7XG4gICAgICB9IGVsc2UgaWYgKHdodHlwZSA9PSAxKSB7XG4gICAgICAgIGRlZmF1bHRvcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRvcHRpb25zLCB7XG4gICAgICAgICAgaGVpZ2h0OiA2ODAsXG4gICAgICAgICAgd2lkdGg6IDk4MFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAod2h0eXBlID09IDIpIHtcbiAgICAgICAgZGVmYXVsdG9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdG9wdGlvbnMsIHtcbiAgICAgICAgICBoZWlnaHQ6IDYwMCxcbiAgICAgICAgICB3aWR0aDogODAwXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh3aHR5cGUgPT0gNCkge1xuICAgICAgICBkZWZhdWx0b3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0b3B0aW9ucywge1xuICAgICAgICAgIGhlaWdodDogMzgwLFxuICAgICAgICAgIHdpZHRoOiA0ODBcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHdodHlwZSA9PSA1KSB7XG4gICAgICAgIGRlZmF1bHRvcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRvcHRpb25zLCB7XG4gICAgICAgICAgaGVpZ2h0OiAxODAsXG4gICAgICAgICAgd2lkdGg6IDMwMFxuICAgICAgICB9KTtcbiAgICAgIH0gLy/lpoLmnpzlrr3luqbvvIzpq5jluqborr7nva7kuLow77yM5YiZ6Ieq5Yqo6K6+572u5Li65YWo5bGPXG5cblxuICAgICAgaWYgKG9wdGlvbnMud2lkdGggPT0gMCkge1xuICAgICAgICBvcHRpb25zLndpZHRoID0gUGFnZVN0eWxlVXRpbGl0eS5HZXRQYWdlV2lkdGgoKSAtIDIwO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5oZWlnaHQgPT0gMCkge1xuICAgICAgICBvcHRpb25zLmhlaWdodCA9IFBhZ2VTdHlsZVV0aWxpdHkuR2V0UGFnZUhlaWdodCgpIC0gMTA7XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHRvcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRvcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICQoZGlhbG9nRWxlKS5kaWFsb2coZGVmYXVsdG9wdGlvbnMpO1xuICAgICAgJChcIi51aS13aWRnZXQtb3ZlcmxheVwiKS5jc3MoXCJ6SW5kZXhcIiwgXCIxMDAwXCIpO1xuICAgICAgJChcIi51aS1kaWFsb2dcIikuY3NzKFwiekluZGV4XCIsIFwiMTAwMVwiKTtcbiAgICAgIHZhciAkaWZyYW1lb2JqID0gJChkaWFsb2dFbGUpLmZpbmQoXCJpZnJhbWVcIik7XG4gICAgICAkaWZyYW1lb2JqWzBdLmNvbnRlbnRXaW5kb3cuRnJhbWVXaW5kb3dJZCA9IGF1dG9kaWFsb2dpZDtcbiAgICAgICRpZnJhbWVvYmpbMF0uY29udGVudFdpbmRvdy5PcGVuZXJXaW5kb3dPYmogPSBvcGVuZXJ3aW5kb3c7XG4gICAgICAkaWZyYW1lb2JqWzBdLmNvbnRlbnRXaW5kb3cuSXNPcGVuRm9yRnJhbWUgPSB0cnVlO1xuICAgICAgLyokaWZyYW1lb2JqLmxvYWQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgLy9hbGVydCgkKHRoaXMpLmNvbnRlbnRzKCkuZmluZChcImlucHV0XCIpLmxlbmd0aCk7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIC8vZGVidWdnZXI7XHJcbiAgICAgICAgICAgICAgLy92YXIgZWxlbT0kKHRoaXMpLmNvbnRlbnRzKCkuZmluZChcImlucHV0OmZpcnN0XCIpWzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgdmFyIGVsZW0gPSAkKHRoaXMpLmNvbnRlbnRzKCkuZmluZChcImlucHV0OnRleHQ6Zmlyc3RcIik7XHJcbiAgICAgICAgICAgICAgaWYgKGVsZW0uYXR0cihcInJlYWRvbmx5XCIpICE9IFwicmVhZG9ubHlcIiYmIGVsZW0uYXR0cihcImRpc2FibGVkXCIpICE9IFwiZGlzYWJsZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICBlbGVtWzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSAkKHRoaXMpLmNvbnRlbnRzKCkuZmluZChcImlucHV0OnRleHRcIik7XHJcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gJChlbGVtc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5hdHRyKFwicmVhZG9ubHlcIikgIT0gXCJyZWFkb25seVwiJiZlbGVtLmF0dHIoXCJkaXNhYmxlZFwiKSAhPSBcImRpc2FibGVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtWzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgIH0pOyovXG4gICAgfSBlbHNlIHtcbiAgICAgICQoXCIjXCIgKyBhdXRvZGlhbG9naWQpLmRpYWxvZyhcIm1vdmVUb1RvcFwiKTtcbiAgICB9XG4gIH0sXG4gIF9GcmFtZV9GcmFtZVBhZ2VDbG9zZURpYWxvZzogZnVuY3Rpb24gX0ZyYW1lX0ZyYW1lUGFnZUNsb3NlRGlhbG9nKGRpYWxvZ2lkKSB7XG4gICAgJChcIiNcIiArIGRpYWxvZ2lkKS5kaWFsb2coXCJjbG9zZVwiKTtcbiAgfSxcbiAgRnJhbWVfVHJ5R2V0RnJhbWVXaW5kb3dPYmo6IGZ1bmN0aW9uIEZyYW1lX1RyeUdldEZyYW1lV2luZG93T2JqKCkge1xuICAgIHZhciB0cnlmaW5kdGltZSA9IDU7XG4gICAgdmFyIGN1cnJlbnR0cnlmaW5kdGltZSA9IDE7XG4gICAgcmV0dXJuIHRoaXMuX0ZyYW1lX1RyeUdldEZyYW1lV2luZG93T2JqKHdpbmRvdywgdHJ5ZmluZHRpbWUsIGN1cnJlbnR0cnlmaW5kdGltZSk7XG4gIH0sXG4gIEZyYW1lX0FsZXJ0OiBmdW5jdGlvbiBGcmFtZV9BbGVydCgpIHt9LFxuICBGcmFtZV9Db21maXJtOiBmdW5jdGlvbiBGcmFtZV9Db21maXJtKCkge30sXG4gIEZyYW1lX09wZW5JZnJhbWVXaW5kb3c6IGZ1bmN0aW9uIEZyYW1lX09wZW5JZnJhbWVXaW5kb3cob3BlbmVyd2luZG93LCBkaWFsb2dJZCwgdXJsLCBvcHRpb25zLCB3aHR5cGUpIHtcbiAgICB2YXIgd3J3aW4gPSB0aGlzLkZyYW1lX1RyeUdldEZyYW1lV2luZG93T2JqKCk7XG4gICAgdGhpcy5GcmFtZVBhZ2VSZWYgPSB3cndpbjtcblxuICAgIGlmICh3cndpbiAhPSBudWxsKSB7XG4gICAgICAvL2FsZXJ0KFwic2hvd1wiKTtcbiAgICAgIHRoaXMuRnJhbWVQYWdlUmVmLkRpYWxvZ1V0aWxpdHkuRnJhbWVQYWdlUmVmID0gd3J3aW47XG5cbiAgICAgIHRoaXMuRnJhbWVQYWdlUmVmLkRpYWxvZ1V0aWxpdHkuX09wZW5XaW5kb3dJbkZyYW1lUGFnZShvcGVuZXJ3aW5kb3csIGRpYWxvZ0lkLCB1cmwsIG9wdGlvbnMsIHdodHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KFwi5om+5LiN5YiwRnJhbWVQYWdlISFcIik7XG4gICAgfVxuICB9LFxuICBGcmFtZV9DbG9zZURpYWxvZzogZnVuY3Rpb24gRnJhbWVfQ2xvc2VEaWFsb2cob3BlcmVyV2luZG93KSB7XG4gICAgdmFyIHdyd2luID0gdGhpcy5GcmFtZV9UcnlHZXRGcmFtZVdpbmRvd09iaigpO1xuICAgIHZhciBvcGVuZXJ3aW4gPSBvcGVyZXJXaW5kb3cuT3BlbmVyV2luZG93T2JqO1xuICAgIHZhciBhdXRvZGlhbG9naWQgPSBvcGVyZXJXaW5kb3cuRnJhbWVXaW5kb3dJZDtcblxuICAgIHdyd2luLkRpYWxvZ1V0aWxpdHkuX0ZyYW1lX0ZyYW1lUGFnZUNsb3NlRGlhbG9nKGF1dG9kaWFsb2dpZCk7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBEaWN0aW9uYXJ5VXRpbGl0eSA9IHtcbiAgX0dyb3VwVmFsdWVMaXN0SnNvblRvU2ltcGxlSnNvbjogbnVsbCxcbiAgR3JvdXBWYWx1ZUxpc3RKc29uVG9TaW1wbGVKc29uOiBmdW5jdGlvbiBHcm91cFZhbHVlTGlzdEpzb25Ub1NpbXBsZUpzb24oc291cmNlRGljdGlvbmFyeUpzb24pIHtcbiAgICBpZiAodGhpcy5fR3JvdXBWYWx1ZUxpc3RKc29uVG9TaW1wbGVKc29uID09IG51bGwpIHtcbiAgICAgIGlmIChzb3VyY2VEaWN0aW9uYXJ5SnNvbiAhPSBudWxsKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBncm91cFZhbHVlIGluIHNvdXJjZURpY3Rpb25hcnlKc29uKSB7XG4gICAgICAgICAgcmVzdWx0W2dyb3VwVmFsdWVdID0ge307XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZURpY3Rpb25hcnlKc29uW2dyb3VwVmFsdWVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHRbZ3JvdXBWYWx1ZV1bc291cmNlRGljdGlvbmFyeUpzb25bZ3JvdXBWYWx1ZV1baV0uZGljdFZhbHVlXSA9IHNvdXJjZURpY3Rpb25hcnlKc29uW2dyb3VwVmFsdWVdW2ldLmRpY3RUZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX0dyb3VwVmFsdWVMaXN0SnNvblRvU2ltcGxlSnNvbiA9IHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fR3JvdXBWYWx1ZUxpc3RKc29uVG9TaW1wbGVKc29uO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgY29uc29sZSA9IGNvbnNvbGUgfHwge1xuICBsb2c6IGZ1bmN0aW9uIGxvZygpIHt9LFxuICB3YXJuOiBmdW5jdGlvbiB3YXJuKCkge30sXG4gIGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHt9XG59OyAvL+mHjeWGmURhdGXmlrnms5XvvIzop6PlhrNUMTY6MDA6MDAuMDAwWumXrumimFxuXG5mdW5jdGlvbiBEYXRlRXh0ZW5kX0RhdGVGb3JtYXQoZGF0ZSwgZm10KSB7XG4gIGlmIChudWxsID09IGRhdGUgfHwgdW5kZWZpbmVkID09IGRhdGUpIHJldHVybiAnJztcbiAgdmFyIG8gPSB7XG4gICAgXCJNK1wiOiBkYXRlLmdldE1vbnRoKCkgKyAxLFxuICAgIC8v5pyI5Lu9XG4gICAgXCJkK1wiOiBkYXRlLmdldERhdGUoKSxcbiAgICAvL+aXpVxuICAgIFwiaCtcIjogZGF0ZS5nZXRIb3VycygpLFxuICAgIC8v5bCP5pe2XG4gICAgXCJtK1wiOiBkYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAvL+WIhlxuICAgIFwicytcIjogZGF0ZS5nZXRTZWNvbmRzKCksXG4gICAgLy/np5JcbiAgICBcIlNcIjogZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAvL+avq+enklxuXG4gIH07XG4gIGlmICgvKHkrKS8udGVzdChmbXQpKSBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsIChkYXRlLmdldEZ1bGxZZWFyKCkgKyBcIlwiKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKTtcblxuICBmb3IgKHZhciBrIGluIG8pIHtcbiAgICBpZiAobmV3IFJlZ0V4cChcIihcIiArIGsgKyBcIilcIikudGVzdChmbXQpKSBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsIFJlZ0V4cC4kMS5sZW5ndGggPT0gMSA/IG9ba10gOiAoXCIwMFwiICsgb1trXSkuc3Vic3RyKChcIlwiICsgb1trXSkubGVuZ3RoKSk7XG4gIH1cblxuICByZXR1cm4gZm10O1xufVxuXG5EYXRlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBEYXRlRXh0ZW5kX0RhdGVGb3JtYXQodGhpcywgJ3l5eXktTU0tZGQgbW06aGg6c3MnKTtcbn07IC8v5omp5bGVanPlr7nosaHlip/og71cblxuXG5pZiAoIU9iamVjdC5jcmVhdGUpIHtcbiAgT2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBhbGVydChcIkV4dGVuZCBPYmplY3QuY3JlYXRlXCIpO1xuXG4gICAgZnVuY3Rpb24gRigpIHt9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKG8pIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT2JqZWN0LmNyZWF0ZSBpbXBsZW1lbnRhdGlvbiBvbmx5IGFjY2VwdHMgb25lIHBhcmFtZXRlci4nKTtcbiAgICAgIH1cblxuICAgICAgRi5wcm90b3R5cGUgPSBvO1xuICAgICAgcmV0dXJuIG5ldyBGKCk7XG4gICAgfTtcbiAgfSgpO1xufVxuXG4kLmZuLm91dGVySFRNTCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gSUUsIENocm9tZSAmIFNhZmFyaSB3aWxsIGNvbXBseSB3aXRoIHRoZSBub24tc3RhbmRhcmQgb3V0ZXJIVE1MLCBhbGwgb3RoZXJzIChGRikgd2lsbCBoYXZlIGEgZmFsbC1iYWNrIGZvciBjbG9uaW5nXG4gIHJldHVybiAhdGhpcy5sZW5ndGggPyB0aGlzIDogdGhpc1swXS5vdXRlckhUTUwgfHwgZnVuY3Rpb24gKGVsKSB7XG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi5hcHBlbmRDaGlsZChlbC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgIHZhciBjb250ZW50cyA9IGRpdi5pbm5lckhUTUw7XG4gICAgZGl2ID0gbnVsbDtcbiAgICBhbGVydChjb250ZW50cyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xuICB9KHRoaXNbMF0pO1xufTtcblxuZnVuY3Rpb24gcmVmQ3NzTGluayhocmVmKSB7XG4gIHZhciBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xuICBzdHlsZS5yZWwgPSAnc3R5bGVzaGVldCc7XG4gIHN0eWxlLmhyZWYgPSBocmVmO1xuICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgcmV0dXJuIHN0eWxlLnNoZWV0IHx8IHN0eWxlLnN0eWxlU2hlZXQ7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vSnNvbuaTjeS9nOW3peWFt+exu1xudmFyIEpzb25VdGlsaXR5ID0ge1xuICBQYXJzZUFycmF5SnNvblRvVHJlZUpzb246IGZ1bmN0aW9uIFBhcnNlQXJyYXlKc29uVG9UcmVlSnNvbihjb25maWcsIHNvdXJjZUFycmF5LCByb290SWQpIHtcbiAgICB2YXIgX2NvbmZpZyA9IHtcbiAgICAgIEtleUZpZWxkOiBcIlwiLFxuICAgICAgUmVsYXRpb25GaWVsZDogXCJcIixcbiAgICAgIENoaWxkRmllbGROYW1lOiBcIlwiXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIEZpbmRKc29uQnlJZChrZXlGaWVsZCwgaWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNvdXJjZUFycmF5W2ldW2tleUZpZWxkXSA9PSBpZCkge1xuICAgICAgICAgIHJldHVybiBzb3VyY2VBcnJheVtpXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhbGVydChcIlBhcnNlQXJyYXlKc29uVG9UcmVlSnNvbi5GaW5kSnNvbkJ5SWQ65Zyoc291cmNlQXJyYXnkuK3mib7kuI3liLDmjIflrppJZOeahOiusOW9lVwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBGaW5kQ2hpbGRKc29uKHJlbGF0aW9uRmllbGQsIHBpZCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzb3VyY2VBcnJheVtpXVtyZWxhdGlvbkZpZWxkXSA9PSBwaWQpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChzb3VyY2VBcnJheVtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBGaW5kQ2hpbGROb2RlQW5kUGFyc2UocGlkLCByZXN1bHQpIHtcbiAgICAgIHZhciBjaGlsZGpzb25zID0gRmluZENoaWxkSnNvbihjb25maWcuUmVsYXRpb25GaWVsZCwgcGlkKTtcblxuICAgICAgaWYgKGNoaWxkanNvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAocmVzdWx0W2NvbmZpZy5DaGlsZEZpZWxkTmFtZV0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0W2NvbmZpZy5DaGlsZEZpZWxkTmFtZV0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRqc29ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciB0b09iaiA9IHt9O1xuICAgICAgICAgIHRvT2JqID0gSnNvblV0aWxpdHkuU2ltcGxlQ2xvbmVBdHRyKHRvT2JqLCBjaGlsZGpzb25zW2ldKTtcbiAgICAgICAgICByZXN1bHRbY29uZmlnLkNoaWxkRmllbGROYW1lXS5wdXNoKHRvT2JqKTtcbiAgICAgICAgICB2YXIgaWQgPSB0b09ialtjb25maWcuS2V5RmllbGRdO1xuICAgICAgICAgIEZpbmRDaGlsZE5vZGVBbmRQYXJzZShpZCwgdG9PYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIHZhciByb290SnNvbiA9IEZpbmRKc29uQnlJZChjb25maWcuS2V5RmllbGQsIHJvb3RJZCk7XG4gICAgcmVzdWx0ID0gdGhpcy5TaW1wbGVDbG9uZUF0dHIocmVzdWx0LCByb290SnNvbik7XG4gICAgRmluZENoaWxkTm9kZUFuZFBhcnNlKHJvb3RJZCwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuICBSZXNvbHZlU2ltcGxlQXJyYXlKc29uVG9UcmVlSnNvbjogZnVuY3Rpb24gUmVzb2x2ZVNpbXBsZUFycmF5SnNvblRvVHJlZUpzb24oY29uZmlnLCBzb3VyY2VKc29uLCByb290Tm9kZUlkKSB7XG4gICAgYWxlcnQoXCJKc29uVXRpbGl0eS5SZXNvbHZlU2ltcGxlQXJyYXlKc29uVG9UcmVlSnNvbiDlt7LlgZznlKhcIik7XG4gIH0sXG4gIFNpbXBsZUNsb25lQXR0cjogZnVuY3Rpb24gU2ltcGxlQ2xvbmVBdHRyKHRvT2JqLCBmcm9tT2JqKSB7XG4gICAgZm9yICh2YXIgYXR0ciBpbiBmcm9tT2JqKSB7XG4gICAgICB0b09ialthdHRyXSA9IGZyb21PYmpbYXR0cl07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRvT2JqO1xuICB9LFxuICBDbG9uZVNpbXBsZTogZnVuY3Rpb24gQ2xvbmVTaW1wbGUoc291cmNlKSB7XG4gICAgdmFyIG5ld0pzb24gPSBqUXVlcnkuZXh0ZW5kKHRydWUsIHt9LCBzb3VyY2UpO1xuICAgIHJldHVybiBuZXdKc29uO1xuICB9LFxuICBKc29uVG9TdHJpbmc6IGZ1bmN0aW9uIEpzb25Ub1N0cmluZyhvYmopIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgfSxcbiAgSnNvblRvU3RyaW5nRm9ybWF0OiBmdW5jdGlvbiBKc29uVG9TdHJpbmdGb3JtYXQob2JqKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gIH0sXG4gIFN0cmluZ1RvSnNvbjogZnVuY3Rpb24gU3RyaW5nVG9Kc29uKHN0cikge1xuICAgIHJldHVybiBldmFsKFwiKFwiICsgc3RyICsgXCIpXCIpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vL+WIl+ihqOmhtemdouWkhOeQhuW3peWFt+exu1xudmFyIExpc3RQYWdlVXRpbGl0eSA9IHtcbiAgR2V0R2VuZXJhbFBhZ2VIZWlnaHQ6IGZ1bmN0aW9uIEdldEdlbmVyYWxQYWdlSGVpZ2h0KGZpeEhlaWdodCkge1xuICAgIHZhciBwYWdlSGVpZ2h0ID0galF1ZXJ5KGRvY3VtZW50KS5oZWlnaHQoKTsgLy9hbGVydChwYWdlSGVpZ2h0KTtcbiAgICAvL2FsZXJ0KHBhZ2VIZWlnaHQpO1xuXG4gICAgaWYgKCQoXCIjbGlzdC1zaW1wbGUtc2VhcmNoLXdyYXBcIikubGVuZ3RoID4gMCkge1xuICAgICAgLy9hbGVydCgkKFwiI2xpc3QtYnV0dG9uLXdyYXBcIikuaGVpZ2h0KCkrXCJ8fFwiKyQoXCIjbGlzdC1zaW1wbGUtc2VhcmNoLXdyYXBcIikub3V0ZXJIZWlnaHQoKSk7XG4gICAgICBwYWdlSGVpZ2h0ID0gcGFnZUhlaWdodCAtICQoXCIjbGlzdC1zaW1wbGUtc2VhcmNoLXdyYXBcIikub3V0ZXJIZWlnaHQoKSArIGZpeEhlaWdodCAtICQoXCIjbGlzdC1idXR0b24td3JhcFwiKS5vdXRlckhlaWdodCgpIC0gJChcIiNsaXN0LXBhZ2VyLXdyYXBcIikub3V0ZXJIZWlnaHQoKSAtIDMwO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWdlSGVpZ2h0ID0gcGFnZUhlaWdodCAtICQoXCIjbGlzdC1idXR0b24td3JhcFwiKS5vdXRlckhlaWdodCgpICsgZml4SGVpZ2h0IC0gJChcIiNsaXN0LXBhZ2VyLXdyYXBcIikub3V0ZXJIZWlnaHQoKSAtIDMwO1xuICAgIH0gLy9hbGVydChwYWdlSGVpZ2h0KTtcblxuXG4gICAgcmV0dXJuIHBhZ2VIZWlnaHQ7XG4gIH0sXG4gIEdldEZpeEhlaWdodDogZnVuY3Rpb24gR2V0Rml4SGVpZ2h0KCkge1xuICAgIHJldHVybiAtNzA7XG4gIH0sXG4gIElWaWV3VGFibGVSZW5kZXJlcjoge1xuICAgIFRvRGF0ZVlZWVlfTU1fREQ6IGZ1bmN0aW9uIFRvRGF0ZVlZWVlfTU1fREQoaCwgZGF0ZXRpbWUpIHtcbiAgICAgIC8vZGVidWdnZXI7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRhdGV0aW1lKTtcbiAgICAgIHZhciBkYXRlU3RyID0gRGF0ZVV0aWxpdHkuRm9ybWF0KGRhdGUsICd5eXl5LU1NLWRkJyk7IC8vdmFyIGRhdGVTdHI9ZGF0ZXRpbWUuc3BsaXQoXCIgXCIpWzBdO1xuXG4gICAgICByZXR1cm4gaCgnZGl2JywgZGF0ZVN0cik7XG4gICAgfSxcbiAgICBTdHJpbmdUb0RhdGVZWVlZX01NX0REOiBmdW5jdGlvbiBTdHJpbmdUb0RhdGVZWVlZX01NX0REKGgsIGRhdGV0aW1lKSB7XG4gICAgICAvL2RlYnVnZ2VyO1xuICAgICAgLy9kZWJ1Z2dlcjtcbiAgICAgIC8vdmFyIGRhdGU9bmV3IERhdGUoZGF0ZXRpbWUpO1xuICAgICAgLy92YXIgZGF0ZVN0cj1EYXRlVXRpbGl0eS5Gb3JtYXQoZGF0ZSwneXl5eS1NTS1kZCcpO1xuICAgICAgdmFyIGRhdGVTdHIgPSBkYXRldGltZS5zcGxpdChcIiBcIilbMF07XG4gICAgICByZXR1cm4gaCgnZGl2JywgZGF0ZVN0cik7XG4gICAgfSxcbiAgICBUb1N0YXR1c0VuYWJsZTogZnVuY3Rpb24gVG9TdGF0dXNFbmFibGUoaCwgc3RhdHVzKSB7XG4gICAgICBpZiAoc3RhdHVzID09IDApIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIFwi56aB55SoXCIpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT0gMSkge1xuICAgICAgICByZXR1cm4gaCgnZGl2JywgXCLlkK/nlKhcIik7XG4gICAgICB9XG4gICAgfSxcbiAgICBUb1llc05vRW5hYmxlOiBmdW5jdGlvbiBUb1llc05vRW5hYmxlKGgsIHN0YXR1cykge1xuICAgICAgaWYgKHN0YXR1cyA9PSAwKSB7XG4gICAgICAgIHJldHVybiBoKCdkaXYnLCBcIuWQplwiKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09IDEpIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIFwi5pivXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgVG9EaWN0aW9uYXJ5VGV4dDogZnVuY3Rpb24gVG9EaWN0aW9uYXJ5VGV4dChoLCBkaWN0aW9uYXJ5SnNvbiwgZ3JvdXBWYWx1ZSwgZGljdGlvbmFyeVZhbHVlKSB7XG4gICAgICAvL2RlYnVnZ2VyO1xuICAgICAgdmFyIHNpbXBsZURpY3Rpb25hcnlKc29uID0gRGljdGlvbmFyeVV0aWxpdHkuR3JvdXBWYWx1ZUxpc3RKc29uVG9TaW1wbGVKc29uKGRpY3Rpb25hcnlKc29uKTtcblxuICAgICAgaWYgKGRpY3Rpb25hcnlWYWx1ZSA9PSBudWxsIHx8IGRpY3Rpb25hcnlWYWx1ZSA9PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiBoKCdkaXYnLCBcIlwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNpbXBsZURpY3Rpb25hcnlKc29uW2dyb3VwVmFsdWVdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoc2ltcGxlRGljdGlvbmFyeUpzb25bZ3JvdXBWYWx1ZV0pIHtcbiAgICAgICAgICBpZiAoc2ltcGxlRGljdGlvbmFyeUpzb25bZ3JvdXBWYWx1ZV1bZGljdGlvbmFyeVZhbHVlXSkge1xuICAgICAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHNpbXBsZURpY3Rpb25hcnlKc29uW2dyb3VwVmFsdWVdW2RpY3Rpb25hcnlWYWx1ZV0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaCgnZGl2JywgXCLmib7kuI3liLDoo4XmjaLnmoRURVhUXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gaCgnZGl2JywgXCLmib7kuI3liLDoo4XmjaLnmoTliIbnu4RcIik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBoKCdkaXYnLCBcIuaJvuS4jeWIsOijheaNoueahOWIhue7hFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIElWaWV3VGFibGVNYXJlU3VyZVNlbGVjdGVkOiBmdW5jdGlvbiBJVmlld1RhYmxlTWFyZVN1cmVTZWxlY3RlZChzZWxlY3Rpb25Sb3dzKSB7XG4gICAgaWYgKHNlbGVjdGlvblJvd3MgIT0gbnVsbCAmJiBzZWxlY3Rpb25Sb3dzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4oZnVuYykge1xuICAgICAgICAgIGZ1bmMoc2VsZWN0aW9uUm93cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCBcIuivt+mAieS4remcgOimgeaTjeS9nOeahOihjCFcIiwgbnVsbCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKGZ1bmMpIHt9XG4gICAgICB9O1xuICAgIH1cbiAgfSxcbiAgSVZpZXdUYWJsZU1hcmVTdXJlU2VsZWN0ZWRPbmU6IGZ1bmN0aW9uIElWaWV3VGFibGVNYXJlU3VyZVNlbGVjdGVkT25lKHNlbGVjdGlvblJvd3MpIHtcbiAgICBpZiAoc2VsZWN0aW9uUm93cyAhPSBudWxsICYmIHNlbGVjdGlvblJvd3MubGVuZ3RoID4gMCAmJiBzZWxlY3Rpb25Sb3dzLmxlbmd0aCA9PSAxKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKGZ1bmMpIHtcbiAgICAgICAgICBmdW5jKHNlbGVjdGlvblJvd3MpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydElkLCB7fSwgXCLor7fpgInkuK3pnIDopoHmk43kvZznmoTooYzvvIzmr4/mrKHlj6rog73pgInkuK3kuIDooYwhXCIsIG51bGwpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gdGhlbihmdW5jKSB7fVxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIElWaWV3Q2hhbmdlU2VydmVyU3RhdHVzOiBmdW5jdGlvbiBJVmlld0NoYW5nZVNlcnZlclN0YXR1cyh1cmwsIHNlbGVjdGlvblJvd3MsIGlkRmllbGQsIHN0YXR1c05hbWUsIHBhZ2VBcHBPYmopIHtcbiAgICB2YXIgaWRBcnJheSA9IG5ldyBBcnJheSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3Rpb25Sb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZEFycmF5LnB1c2goc2VsZWN0aW9uUm93c1tpXVtpZEZpZWxkXSk7XG4gICAgfVxuXG4gICAgQWpheFV0aWxpdHkuUG9zdCh1cmwsIHtcbiAgICAgIGlkczogaWRBcnJheS5qb2luKFwiO1wiKSxcbiAgICAgIHN0YXR1czogc3RhdHVzTmFtZVxuICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydElkLCB7fSwgcmVzdWx0Lm1lc3NhZ2UsIGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgICAgcGFnZUFwcE9iai5yZWxvYWREYXRhKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydElkLCB7fSwgcmVzdWx0Lm1lc3NhZ2UsIG51bGwpO1xuICAgICAgfVxuICAgIH0sIFwianNvblwiKTtcbiAgfSxcbiAgLy/kuIrkuIvnp7vliqjlsIHoo4VcbiAgSVZpZXdNb3ZlRmFjZTogZnVuY3Rpb24gSVZpZXdNb3ZlRmFjZSh1cmwsIHNlbGVjdGlvblJvd3MsIGlkRmllbGQsIHR5cGUsIHBhZ2VBcHBPYmopIHtcbiAgICB0aGlzLklWaWV3VGFibGVNYXJlU3VyZVNlbGVjdGVkT25lKHNlbGVjdGlvblJvd3MpLnRoZW4oZnVuY3Rpb24gKHNlbGVjdGlvblJvd3MpIHtcbiAgICAgIC8vZGVidWdnZXI7XG4gICAgICBBamF4VXRpbGl0eS5Qb3N0KHVybCwge1xuICAgICAgICByZWNvcmRJZDogc2VsZWN0aW9uUm93c1swXVtpZEZpZWxkXSxcbiAgICAgICAgdHlwZTogdHlwZVxuICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBwYWdlQXBwT2JqLnJlbG9hZERhdGEoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydElkLCB7fSwgcmVzdWx0Lm1lc3NhZ2UsIG51bGwpO1xuICAgICAgICB9XG4gICAgICB9LCBcImpzb25cIik7XG4gICAgfSk7XG4gIH0sXG4gIC8v5pS55Y+Y54q25oCB5bCB6KOFXG4gIElWaWV3Q2hhbmdlU2VydmVyU3RhdHVzRmFjZTogZnVuY3Rpb24gSVZpZXdDaGFuZ2VTZXJ2ZXJTdGF0dXNGYWNlKHVybCwgc2VsZWN0aW9uUm93cywgaWRGaWVsZCwgc3RhdHVzTmFtZSwgcGFnZUFwcE9iaikge1xuICAgIHRoaXMuSVZpZXdUYWJsZU1hcmVTdXJlU2VsZWN0ZWQoc2VsZWN0aW9uUm93cykudGhlbihmdW5jdGlvbiAoc2VsZWN0aW9uUm93cykge1xuICAgICAgTGlzdFBhZ2VVdGlsaXR5LklWaWV3Q2hhbmdlU2VydmVyU3RhdHVzKHVybCwgc2VsZWN0aW9uUm93cywgaWRGaWVsZCwgc3RhdHVzTmFtZSwgcGFnZUFwcE9iaik7XG4gICAgfSk7XG4gIH0sXG4gIElWaWV3VGFibGVEZWxldGVSb3c6IGZ1bmN0aW9uIElWaWV3VGFibGVEZWxldGVSb3codXJsLCByZWNvcmRJZCwgcGFnZUFwcE9iaikge1xuICAgIERpYWxvZ1V0aWxpdHkuQ29uZmlybSh3aW5kb3csIFwi56Gu6K6k6KaB5Yig6Zmk5b2T5YmN6K6w5b2V5ZCX77yfXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIEFqYXhVdGlsaXR5LlBvc3QodXJsLCB7XG4gICAgICAgIHJlY29yZElkOiByZWNvcmRJZFxuICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydElkLCB7fSwgcmVzdWx0Lm1lc3NhZ2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBhZ2VBcHBPYmoucmVsb2FkRGF0YSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCByZXN1bHQubWVzc2FnZSwgZnVuY3Rpb24gKCkge30pO1xuICAgICAgICB9XG4gICAgICB9LCBcImpzb25cIik7XG4gICAgfSk7XG4gIH0sXG4gIElWaWV3VGFibGVMb2FkRGF0YVNlYXJjaDogZnVuY3Rpb24gSVZpZXdUYWJsZUxvYWREYXRhU2VhcmNoKHVybCwgcGFnZU51bSwgcGFnZVNpemUsIHNlYXJjaENvbmRpdGlvbiwgcGFnZUFwcE9iaiwgaWRGaWVsZCwgYXV0b1NlbGVjdGVkT2xkUm93cywgc3VjY2Vzc0Z1bmMsIGxvYWREaWN0KSB7XG4gICAgLy92YXIgbG9hZERpY3Q9ZmFsc2U7XG4gICAgLy9pZihwYWdlTnVtPT09MSkge1xuICAgIC8vICAgIGxvYWREaWN0ID0gdHJ1ZTtcbiAgICAvL31cbiAgICBpZiAobG9hZERpY3QgPT0gdW5kZWZpbmVkIHx8IGxvYWREaWN0ID09IG51bGwpIHtcbiAgICAgIGxvYWREaWN0ID0gZmFsc2U7XG4gICAgfSAvL2RlYnVnZ2VyO1xuXG5cbiAgICBBamF4VXRpbGl0eS5Qb3N0KHVybCwge1xuICAgICAgXCJwYWdlTnVtXCI6IHBhZ2VOdW0sXG4gICAgICBcInBhZ2VTaXplXCI6IHBhZ2VTaXplLFxuICAgICAgXCJzZWFyY2hDb25kaXRpb25cIjogU2VhcmNoVXRpbGl0eS5TZXJpYWxpemF0aW9uU2VhcmNoQ29uZGl0aW9uKHNlYXJjaENvbmRpdGlvbiksXG4gICAgICBcImxvYWREaWN0XCI6IGxvYWREaWN0XG4gICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3VjY2Vzc0Z1bmMgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgc3VjY2Vzc0Z1bmMocmVzdWx0LCBwYWdlQXBwT2JqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhZ2VBcHBPYmoudGFibGVEYXRhID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHBhZ2VBcHBPYmoudGFibGVEYXRhID0gcmVzdWx0LmRhdGEubGlzdDtcbiAgICAgICAgcGFnZUFwcE9iai5wYWdlVG90YWwgPSByZXN1bHQuZGF0YS50b3RhbDtcblxuICAgICAgICBpZiAoYXV0b1NlbGVjdGVkT2xkUm93cykge1xuICAgICAgICAgIGlmIChwYWdlQXBwT2JqLnNlbGVjdGlvblJvd3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlQXBwT2JqLnRhYmxlRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhZ2VBcHBPYmouc2VsZWN0aW9uUm93cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChwYWdlQXBwT2JqLnNlbGVjdGlvblJvd3Nbal1baWRGaWVsZF0gPT0gcGFnZUFwcE9iai50YWJsZURhdGFbaV1baWRGaWVsZF0pIHtcbiAgICAgICAgICAgICAgICAgIHBhZ2VBcHBPYmoudGFibGVEYXRhW2ldLl9jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRFcnJvcih3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nQWxlcnRJZCwge30sIHJlc3VsdC5tZXNzYWdlLCBmdW5jdGlvbiAoKSB7fSk7XG4gICAgICB9XG4gICAgfSwgXCJqc29uXCIpO1xuICB9LFxuICBJVmlld1RhYmxlTG9hZERhdGFOb1NlYXJjaDogZnVuY3Rpb24gSVZpZXdUYWJsZUxvYWREYXRhTm9TZWFyY2godXJsLCBwYWdlTnVtLCBwYWdlU2l6ZSwgcGFnZUFwcE9iaiwgaWRGaWVsZCwgYXV0b1NlbGVjdGVkT2xkUm93cywgc3VjY2Vzc0Z1bmMpIHtcbiAgICAvL2RlYnVnZ2VyO1xuICAgIEFqYXhVdGlsaXR5LlBvc3QodXJsLCB7XG4gICAgICBwYWdlTnVtOiBwYWdlTnVtLFxuICAgICAgcGFnZVNpemU6IHBhZ2VTaXplXG4gICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHBhZ2VBcHBPYmoudGFibGVEYXRhID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHBhZ2VBcHBPYmoudGFibGVEYXRhID0gcmVzdWx0LmRhdGEubGlzdDtcbiAgICAgICAgcGFnZUFwcE9iai5wYWdlVG90YWwgPSByZXN1bHQuZGF0YS50b3RhbDtcblxuICAgICAgICBpZiAoYXV0b1NlbGVjdGVkT2xkUm93cykge1xuICAgICAgICAgIGlmIChwYWdlQXBwT2JqLnNlbGVjdGlvblJvd3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlQXBwT2JqLnRhYmxlRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhZ2VBcHBPYmouc2VsZWN0aW9uUm93cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChwYWdlQXBwT2JqLnNlbGVjdGlvblJvd3Nbal1baWRGaWVsZF0gPT0gcGFnZUFwcE9iai50YWJsZURhdGFbaV1baWRGaWVsZF0pIHtcbiAgICAgICAgICAgICAgICAgIHBhZ2VBcHBPYmoudGFibGVEYXRhW2ldLl9jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHN1Y2Nlc3NGdW5jID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHN1Y2Nlc3NGdW5jKHJlc3VsdCwgcGFnZUFwcE9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBcImpzb25cIik7XG4gIH0sXG4gIElWaWV3VGFibGVJbm5lckJ1dHRvbjoge1xuICAgIFZpZXdCdXR0b246IGZ1bmN0aW9uIFZpZXdCdXR0b24oaCwgcGFyYW1zLCBpZEZpZWxkLCBwYWdlQXBwT2JqKSB7XG4gICAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgICBjbGFzczogXCJsaXN0LXJvdy1idXR0b24gbGlzdC1yb3ctYnV0dG9uLXZpZXdcIixcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7XG4gICAgICAgICAgICBwYWdlQXBwT2JqLnZpZXcocGFyYW1zLnJvd1tpZEZpZWxkXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIEVkaXRCdXR0b246IGZ1bmN0aW9uIEVkaXRCdXR0b24oaCwgcGFyYW1zLCBpZEZpZWxkLCBwYWdlQXBwT2JqKSB7XG4gICAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgICBjbGFzczogXCJsaXN0LXJvdy1idXR0b24gbGlzdC1yb3ctYnV0dG9uLWVkaXRcIixcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7XG4gICAgICAgICAgICBwYWdlQXBwT2JqLmVkaXQocGFyYW1zLnJvd1tpZEZpZWxkXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIERlbGV0ZUJ1dHRvbjogZnVuY3Rpb24gRGVsZXRlQnV0dG9uKGgsIHBhcmFtcywgaWRGaWVsZCwgcGFnZUFwcE9iaikge1xuICAgICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgICAgY2xhc3M6IFwibGlzdC1yb3ctYnV0dG9uIGxpc3Qtcm93LWJ1dHRvbi1kZWxcIixcbiAgICAgICAgb246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7XG4gICAgICAgICAgICAvL2RlYnVnZ2VyO1xuICAgICAgICAgICAgcGFnZUFwcE9iai5kZWwocGFyYW1zLnJvd1tpZEZpZWxkXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8v6aG16Z2i5qC35byP6L6F5Yqp5Yqf6IO957G7XG52YXIgUGFnZVN0eWxlVXRpbGl0eSA9IHtcbiAgR2V0UGFnZUhlaWdodDogZnVuY3Rpb24gR2V0UGFnZUhlaWdodCgpIHtcbiAgICByZXR1cm4galF1ZXJ5KHdpbmRvdy5kb2N1bWVudCkuaGVpZ2h0KCk7XG4gIH0sXG4gIEdldFBhZ2VXaWR0aDogZnVuY3Rpb24gR2V0UGFnZVdpZHRoKCkge1xuICAgIHJldHVybiBqUXVlcnkod2luZG93LmRvY3VtZW50KS53aWR0aCgpO1xuICB9LFxuICBHZXRXaW5kb3dIZWlnaHQ6IGZ1bmN0aW9uIEdldFdpbmRvd0hlaWdodCgpIHtcbiAgICByZXR1cm4gJCh3aW5kb3cpLmhlaWdodCgpO1xuICB9LFxuICBHZXRXaW5kb3dXaWR0aDogZnVuY3Rpb24gR2V0V2luZG93V2lkdGgoKSB7XG4gICAgcmV0dXJuICQod2luZG93KS53aWR0aCgpO1xuICB9LFxuICBHZXRMaXN0QnV0dG9uT3V0ZXJIZWlnaHQ6IGZ1bmN0aW9uIEdldExpc3RCdXR0b25PdXRlckhlaWdodCgpIHtcbiAgICBhbGVydChcIlBhZ2VTdHlsZVV0aWxpdHkuR2V0TGlzdEJ1dHRvbk91dGVySGVpZ2h0IOW3suWBnOeUqFwiKTtcbiAgICByZXR1cm4galF1ZXJ5KFwiLmxpc3QtYnV0dG9uLW91dGVyLWNcIikub3V0ZXJIZWlnaHQoKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy/mn6Xor6LlpITnkIblt6XlhbfnsbtcbnZhciBTZWFyY2hVdGlsaXR5ID0ge1xuICBTZWFyY2hGaWVsZFR5cGU6IHtcbiAgICBJbnRUeXBlOiBcIkludFR5cGVcIixcbiAgICBOdW1iZXJUeXBlOiBcIk51bWJlclR5cGVcIixcbiAgICBEYXRhVHlwZTogXCJEYXRlVHlwZVwiLFxuICAgIExpa2VTdHJpbmdUeXBlOiBcIkxpa2VTdHJpbmdUeXBlXCIsXG4gICAgTGVmdExpa2VTdHJpbmdUeXBlOiBcIkxlZnRMaWtlU3RyaW5nVHlwZVwiLFxuICAgIFJpZ2h0TGlrZVN0cmluZ1R5cGU6IFwiUmlnaHRMaWtlU3RyaW5nVHlwZVwiLFxuICAgIFN0cmluZ1R5cGU6IFwiU3RyaW5nVHlwZVwiLFxuICAgIERhdGFTdHJpbmdUeXBlOiBcIkRhdGVTdHJpbmdUeXBlXCIsXG4gICAgQXJyYXlMaWtlU3RyaW5nVHlwZTogXCJBcnJheUxpa2VTdHJpbmdUeXBlXCJcbiAgfSxcbiAgU2VyaWFsaXphdGlvblNlYXJjaENvbmRpdGlvbjogZnVuY3Rpb24gU2VyaWFsaXphdGlvblNlYXJjaENvbmRpdGlvbihzZWFyY2hDb25kaXRpb24pIHtcbiAgICB2YXIgc2VhcmNoQ29uZGl0aW9uQ2xvbmUgPSBKc29uVXRpbGl0eS5DbG9uZVNpbXBsZShzZWFyY2hDb25kaXRpb24pOyAvL2RlYnVnZ2VyO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNlYXJjaENvbmRpdGlvbkNsb25lKSB7XG4gICAgICBpZiAoc2VhcmNoQ29uZGl0aW9uQ2xvbmVba2V5XS50eXBlID09IFNlYXJjaFV0aWxpdHkuU2VhcmNoRmllbGRUeXBlLkFycmF5TGlrZVN0cmluZ1R5cGUpIHtcbiAgICAgICAgaWYgKHNlYXJjaENvbmRpdGlvbkNsb25lW2tleV0udmFsdWUgIT0gbnVsbCAmJiBzZWFyY2hDb25kaXRpb25DbG9uZVtrZXldLnZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBzZWFyY2hDb25kaXRpb25DbG9uZVtrZXldLnZhbHVlID0gc2VhcmNoQ29uZGl0aW9uQ2xvbmVba2V5XS52YWx1ZS5qb2luKFwiO1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWFyY2hDb25kaXRpb25DbG9uZVtrZXldLnZhbHVlID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy9kZWJ1Z2dlcjtcblxuXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHNlYXJjaENvbmRpdGlvbkNsb25lKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIEpCdWlsZDREU2VsZWN0VmlldyA9IHtcbiAgU2VsZWN0RW52VmFyaWFibGU6IHtcbiAgICBVUkw6IFwiL1BsYXRGb3JtL1NlbGVjdFZpZXcvU2VsZWN0RW52VmFyaWFibGUvU2VsZWN0XCIsXG4gICAgYmVnaW5TZWxlY3Q6IGZ1bmN0aW9uIGJlZ2luU2VsZWN0KGluc3RhbmNlTmFtZSkge1xuICAgICAgdmFyIHVybCA9IEJhc2VVdGlsaXR5LkJ1aWxkQWN0aW9uKHRoaXMuVVJMLCB7XG4gICAgICAgIFwiaW5zdGFuY2VOYW1lXCI6IGluc3RhbmNlTmFtZVxuICAgICAgfSk7XG4gICAgICBEaWFsb2dVdGlsaXR5Lk9wZW5JZnJhbWVXaW5kb3cod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0lkLCB1cmwsIHtcbiAgICAgICAgdGl0bGU6IFwi6YCJ5oup5Y+Y6YePXCIsXG4gICAgICAgIG1vZGFsOiB0cnVlXG4gICAgICB9LCAyKTtcbiAgICB9LFxuICAgIGJlZ2luU2VsZWN0SW5GcmFtZTogZnVuY3Rpb24gYmVnaW5TZWxlY3RJbkZyYW1lKG9wZW5lciwgaW5zdGFuY2VOYW1lLCBvcHRpb24pIHtcbiAgICAgIHZhciB1cmwgPSBCYXNlVXRpbGl0eS5CdWlsZEFjdGlvbih0aGlzLlVSTCwge1xuICAgICAgICBcImluc3RhbmNlTmFtZVwiOiBpbnN0YW5jZU5hbWVcbiAgICAgIH0pO1xuICAgICAgdmFyIG9wdGlvbiA9ICQuZXh0ZW5kKHRydWUsIHt9LCB7XG4gICAgICAgIG1vZGFsOiB0cnVlLFxuICAgICAgICB0aXRsZTogXCLpgInmi6nlj5jph49cIlxuICAgICAgfSwgb3B0aW9uKTtcbiAgICAgIERpYWxvZ1V0aWxpdHkuRnJhbWVfT3BlbklmcmFtZVdpbmRvdyhvcGVuZXIsIERpYWxvZ1V0aWxpdHkuRGlhbG9nSWQwNSwgdXJsLCBvcHRpb24sIDEpOyAvL2FsZXJ0KFwiMVwiKTtcblxuICAgICAgJCh3aW5kb3cucGFyZW50LmRvY3VtZW50KS5maW5kKFwiLnVpLXdpZGdldC1vdmVybGF5XCIpLmNzcyhcInpJbmRleFwiLCAxMDEwMCk7XG4gICAgICAkKHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQpLmZpbmQoXCIudWktZGlhbG9nXCIpLmNzcyhcInpJbmRleFwiLCAxMDEwMSk7XG4gICAgfSxcbiAgICBmb3JtYXRUZXh0OiBmdW5jdGlvbiBmb3JtYXRUZXh0KHR5cGUsIHRleHQpIHtcbiAgICAgIC8vZGVidWdnZXI7XG4gICAgICBpZiAodHlwZSA9PSBcIkNvbnN0XCIpIHtcbiAgICAgICAgcmV0dXJuIFwi6Z2Z5oCB5YC8OuOAkFwiICsgdGV4dCArIFwi44CRXCI7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJEYXRlVGltZVwiKSB7XG4gICAgICAgIHJldHVybiBcIuaXpeacn+aXtumXtDrjgJBcIiArIHRleHQgKyBcIuOAkVwiO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09IFwiQXBpVmFyXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiQVBJ5Y+Y6YePOuOAkFwiICsgdGV4dCArIFwi44CRXCI7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJOdW1iZXJDb2RlXCIpIHtcbiAgICAgICAgcmV0dXJuIFwi5bqP5Y+357yW56CBOuOAkFwiICsgdGV4dCArIFwi44CRXCI7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJJZENvZGVyXCIpIHtcbiAgICAgICAgcmV0dXJuIFwi5Li76ZSu55Sf5oiQOuOAkFwiICsgdGV4dCArIFwi44CRXCI7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJcIikge1xuICAgICAgICByZXR1cm4gXCLjgJDml6DjgJFcIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFwi5pyq55+l57G75Z6LXCIgKyB0ZXh0O1xuICAgIH1cbiAgfSxcbiAgU2VsZWN0QmluZFRvRmllbGQ6IHtcbiAgICBVUkw6IFwiL1BsYXRGb3JtL1NlbGVjdFZpZXcvU2VsZWN0QmluZFRvVGFibGVGaWVsZC9TZWxlY3RcIixcbiAgICBiZWdpblNlbGVjdDogZnVuY3Rpb24gYmVnaW5TZWxlY3QoaW5zdGFuY2VOYW1lKSB7XG4gICAgICB2YXIgdXJsID0gdGhpcy5VUkwgKyBcIj9pbnN0YW5jZU5hbWU9XCIgKyBpbnN0YW5jZU5hbWU7XG4gICAgICBEaWFsb2dVdGlsaXR5Lk9wZW5JZnJhbWVXaW5kb3cod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0lkLCB1cmwsIHtcbiAgICAgICAgdGl0bGU6IFwi6YCJ5oup5Y+Y6YePXCIsXG4gICAgICAgIG1vZGFsOiB0cnVlXG4gICAgICB9LCAyKTtcbiAgICB9LFxuICAgIGJlZ2luU2VsZWN0SW5GcmFtZTogZnVuY3Rpb24gYmVnaW5TZWxlY3RJbkZyYW1lKG9wZW5lciwgaW5zdGFuY2VOYW1lLCBvcHRpb24pIHtcbiAgICAgIHZhciB1cmwgPSBCYXNlVXRpbGl0eS5CdWlsZEFjdGlvbih0aGlzLlVSTCwge1xuICAgICAgICBcImluc3RhbmNlTmFtZVwiOiBpbnN0YW5jZU5hbWVcbiAgICAgIH0pO1xuICAgICAgdmFyIG9wdGlvbiA9ICQuZXh0ZW5kKHRydWUsIHt9LCB7XG4gICAgICAgIG1vZGFsOiB0cnVlLFxuICAgICAgICB0aXRsZTogXCLpgInmi6nnu5HlrprlrZfmrrVcIlxuICAgICAgfSwgb3B0aW9uKTtcbiAgICAgIERpYWxvZ1V0aWxpdHkuRnJhbWVfT3BlbklmcmFtZVdpbmRvdyhvcGVuZXIsIERpYWxvZ1V0aWxpdHkuRGlhbG9nSWQwNSwgdXJsLCBvcHRpb24sIDEpOyAvL2FsZXJ0KFwiMVwiKTtcblxuICAgICAgJCh3aW5kb3cucGFyZW50LmRvY3VtZW50KS5maW5kKFwiLnVpLXdpZGdldC1vdmVybGF5XCIpLmNzcyhcInpJbmRleFwiLCAxMDEwMCk7XG4gICAgICAkKHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQpLmZpbmQoXCIudWktZGlhbG9nXCIpLmNzcyhcInpJbmRleFwiLCAxMDEwMSk7XG4gICAgfVxuICB9LFxuICBTZWxlY3RWYWxpZGF0ZVJ1bGU6IHtcbiAgICBVUkw6IFwiL1BsYXRGb3JtL1NlbGVjdFZpZXcvU2VsZWN0VmFsaWRhdGVSdWxlL1NlbGVjdFwiLFxuICAgIGJlZ2luU2VsZWN0OiBmdW5jdGlvbiBiZWdpblNlbGVjdChpbnN0YW5jZU5hbWUpIHtcbiAgICAgIHZhciB1cmwgPSB0aGlzLlVSTCArIFwiP2luc3RhbmNlTmFtZT1cIiArIGluc3RhbmNlTmFtZTtcbiAgICAgIERpYWxvZ1V0aWxpdHkuT3BlbklmcmFtZVdpbmRvdyh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nSWQsIHVybCwge1xuICAgICAgICB0aXRsZTogXCLpqozor4Hop4TliJlcIixcbiAgICAgICAgbW9kYWw6IHRydWVcbiAgICAgIH0sIDIpO1xuICAgIH0sXG4gICAgYmVnaW5TZWxlY3RJbkZyYW1lOiBmdW5jdGlvbiBiZWdpblNlbGVjdEluRnJhbWUob3BlbmVyLCBpbnN0YW5jZU5hbWUsIG9wdGlvbikge1xuICAgICAgdmFyIHVybCA9IEJhc2VVdGlsaXR5LkJ1aWxkQWN0aW9uKHRoaXMuVVJMLCB7XG4gICAgICAgIFwiaW5zdGFuY2VOYW1lXCI6IGluc3RhbmNlTmFtZVxuICAgICAgfSk7XG4gICAgICB2YXIgb3B0aW9uID0gJC5leHRlbmQodHJ1ZSwge30sIHtcbiAgICAgICAgbW9kYWw6IHRydWUsXG4gICAgICAgIHRpdGxlOiBcIumqjOivgeinhOWImVwiXG4gICAgICB9LCBvcHRpb24pO1xuICAgICAgRGlhbG9nVXRpbGl0eS5GcmFtZV9PcGVuSWZyYW1lV2luZG93KG9wZW5lciwgRGlhbG9nVXRpbGl0eS5EaWFsb2dJZDA1LCB1cmwsIG9wdGlvbiwgMSk7IC8vYWxlcnQoXCIxXCIpO1xuXG4gICAgICAkKHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQpLmZpbmQoXCIudWktd2lkZ2V0LW92ZXJsYXlcIikuY3NzKFwiekluZGV4XCIsIDEwMTAwKTtcbiAgICAgICQod2luZG93LnBhcmVudC5kb2N1bWVudCkuZmluZChcIi51aS1kaWFsb2dcIikuY3NzKFwiekluZGV4XCIsIDEwMTAxKTtcbiAgICB9XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbi8v5a2X56ym5Liy5pON5L2c57G7XG52YXIgU3RyaW5nVXRpbGl0eSA9IHtcbiAgR2V0VGltZVN0YW1wVXJsOiBmdW5jdGlvbiBHZXRUaW1lU3RhbXBVcmwodXJsKSB7XG4gICAgYWxlcnQoXCLov4Hnp7vliLBCYXNlVXRpbGl0eS5BcHBlbmRUaW1lU3RhbXBVcmxcIik7XG4gIH0sXG4gIEdldEFsbFF1ZXJ5U3RyaW5nOiBmdW5jdGlvbiBHZXRBbGxRdWVyeVN0cmluZygpIHtcbiAgICBhbGVydChcIlN0cmluZ1V0aWxpdHkuR2V0QWxsUXVlcnlTdHJpbmcg5bey5YGc55SoXCIpO1xuICAgIC8qdmFyIHVybFN0cmluZyA9IGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaDtcclxuICAgIHZhciB1cmxTdHJpbmdBcnJheSA9IFtdO1xyXG4gICAgaWYgKHVybFN0cmluZyAhPSBudWxsKSB7XHJcbiAgICAgICAgdmFyIGl0ZW1BcnJheSA9IHVybFN0cmluZy5zcGxpdChcIiZcIik7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtQXJyYXlbaV07XHJcbiAgICAgICAgICAgIHVybFN0cmluZ0FycmF5LnB1c2goe05hbWU6IGl0ZW0uc3BsaXQoXCI9XCIpWzBdLCBWYWx1ZTogaXRlbS5zcGxpdChcIj1cIilbMV19KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdXJsU3RyaW5nQXJyYXk7Ki9cbiAgfSxcbiAgUXVlcnlTdHJpbmc6IGZ1bmN0aW9uIFF1ZXJ5U3RyaW5nKGZpZWxkTmFtZSkge1xuICAgIGFsZXJ0KFwi6L+B56e75YiwQmFzZVV0aWxpdHkuR2V0VXJsUGFyYVZhbHVlXCIpO1xuICAgIC8qdmFyIHVybFN0cmluZyA9IGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaDtcclxuICAgIHdoaWxlICh1cmxTdHJpbmcuaW5kZXhPZihcIiYgXCIpID49IDApIHtcclxuICAgICAgICB1cmxTdHJpbmcgPSB1cmxTdHJpbmcucmVwbGFjZShcIiYgXCIsIFwiJlwiKVxyXG4gICAgfVxyXG4gICAgd2hpbGUgKHVybFN0cmluZy5pbmRleE9mKFwiPyBcIikgPj0gMCkge1xyXG4gICAgICAgIHVybFN0cmluZyA9IHVybFN0cmluZy5yZXBsYWNlKFwiPyBcIiwgXCI/XCIpXHJcbiAgICB9XHJcbiAgICBpZiAodXJsU3RyaW5nICE9IG51bGwpIHtcclxuICAgICAgICB2YXIgdHlwZVF1ID0gXCI/XCIgKyBmaWVsZE5hbWUgKyBcIj1cIjtcclxuICAgICAgICB2YXIgdXJsRW5kID0gdXJsU3RyaW5nLnRvVXBwZXJDYXNlKCkuaW5kZXhPZih0eXBlUXUudG9VcHBlckNhc2UoKSk7XHJcbiAgICAgICAgaWYgKHVybEVuZCA9PSAtMSkge1xyXG4gICAgICAgICAgICB0eXBlUXUgPSBcIiZcIiArIGZpZWxkTmFtZSArIFwiPVwiO1xyXG4gICAgICAgICAgICB1cmxFbmQgPSB1cmxTdHJpbmcudG9VcHBlckNhc2UoKS5pbmRleE9mKHR5cGVRdS50b1VwcGVyQ2FzZSgpKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXJsRW5kICE9IC0xKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbXNVcmwgPSB1cmxTdHJpbmcuc3Vic3RyaW5nKHVybEVuZCArIHR5cGVRdS5sZW5ndGgpO1xyXG4gICAgICAgICAgICB2YXIgaXNFbmQgPSBwYXJhbXNVcmwuaW5kZXhPZignJicpO1xyXG4gICAgICAgICAgICBpZiAoaXNFbmQgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXNVcmwuc3Vic3RyaW5nKDAsIGlzRW5kKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtc1VybFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHJldHVybiBcIlwiXHJcbiAgICB9IGVsc2UgcmV0dXJuIFwiXCI7Ki9cbiAgfSxcbiAgUXVlcnlTdHJpbmdVcmxTdHJpbmc6IGZ1bmN0aW9uIFF1ZXJ5U3RyaW5nVXJsU3RyaW5nKGZpZWxkTmFtZSwgdXJsU3RyaW5nKSB7XG4gICAgYWxlcnQoXCLov4Hnp7vliLBCYXNlVXRpbGl0eS5HZXRVcmxQYXJhVmFsdWVCeVN0cmluZ1wiKTtcbiAgICAvKndoaWxlICh1cmxTdHJpbmcuaW5kZXhPZihcIiYgXCIpID49IDApIHtcclxuICAgICAgICB1cmxTdHJpbmcgPSB1cmxTdHJpbmcucmVwbGFjZShcIiYgXCIsIFwiJlwiKVxyXG4gICAgfVxyXG4gICAgd2hpbGUgKHVybFN0cmluZy5pbmRleE9mKFwiPyBcIikgPj0gMCkge1xyXG4gICAgICAgIHVybFN0cmluZyA9IHVybFN0cmluZy5yZXBsYWNlKFwiPyBcIiwgXCI/XCIpXHJcbiAgICB9XHJcbiAgICBpZiAodXJsU3RyaW5nICE9IG51bGwpIHtcclxuICAgICAgICB2YXIgdHlwZVF1ID0gXCI/XCIgKyBmaWVsZE5hbWUgKyBcIj1cIjtcclxuICAgICAgICB2YXIgdXJsRW5kID0gdXJsU3RyaW5nLnRvVXBwZXJDYXNlKCkuaW5kZXhPZih0eXBlUXUudG9VcHBlckNhc2UoKSk7XHJcbiAgICAgICAgaWYgKHVybEVuZCA9PSAtMSkge1xyXG4gICAgICAgICAgICB0eXBlUXUgPSBcIiZcIiArIGZpZWxkTmFtZSArIFwiPVwiO1xyXG4gICAgICAgICAgICB1cmxFbmQgPSB1cmxTdHJpbmcudG9VcHBlckNhc2UoKS5pbmRleE9mKHR5cGVRdS50b1VwcGVyQ2FzZSgpKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXJsRW5kICE9IC0xKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbXNVcmwgPSB1cmxTdHJpbmcuc3Vic3RyaW5nKHVybEVuZCArIHR5cGVRdS5sZW5ndGgpO1xyXG4gICAgICAgICAgICB2YXIgaXNFbmQgPSBwYXJhbXNVcmwuaW5kZXhPZignJicpO1xyXG4gICAgICAgICAgICBpZiAoaXNFbmQgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXNVcmwuc3Vic3RyaW5nKDAsIGlzRW5kKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtc1VybFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHJldHVybiBcIlwiXHJcbiAgICB9IGVsc2UgcmV0dXJuIFwiXCI7Ki9cbiAgfSxcbiAgWE1MRW5jb2RlOiBmdW5jdGlvbiBYTUxFbmNvZGUoc3RyKSB7XG4gICAgYWxlcnQoXCJTdHJpbmdVdGlsaXR5LlhNTEVuY29kZSDlt7LlgZznlKhcIik7XG4gICAgLyppZiAoc3RyKSB7XHJcbiAgICAgICAgdmFyIHJlO1xyXG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChcIiZcIiwgXCJnXCIpO1xyXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKHJlLCBcIiZhbXA7XCIpO1xyXG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChcIjxcIiwgXCJnXCIpO1xyXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKHJlLCBcIiZsdDtcIik7XHJcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKFwiPlwiLCBcImdcIik7XHJcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UocmUsIFwiJmd0O1wiKTtcclxuICAgICAgICByZSA9IG5ldyBSZWdFeHAoXCInXCIsIFwiZ1wiKTtcclxuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShyZSwgXCImYXBvcztcIik7XHJcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKFwiXFxcIlwiLCBcImdcIik7XHJcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UocmUsIFwiJnF1b3Q7XCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0cjsqL1xuICB9LFxuICBYTUxEZUNvZGU6IGZ1bmN0aW9uIFhNTERlQ29kZShzdHIpIHtcbiAgICBhbGVydChcIlN0cmluZ1V0aWxpdHkuWE1MRGVDb2RlIOW3suWBnOeUqFwiKTtcbiAgICAvKmlmIChzdHIpIHtcclxuICAgICAgICB2YXIgcmU7XHJcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKFwiJmx0O1wiLCBcImdcIik7XHJcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UocmUsIFwiPFwiKTtcclxuICAgICAgICByZSA9IG5ldyBSZWdFeHAoXCImZ3Q7XCIsIFwiZ1wiKTtcclxuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShyZSwgXCI+XCIpO1xyXG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChcIiZhcG9zO1wiLCBcImdcIik7XHJcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UocmUsIFwiJ1wiKTtcclxuICAgICAgICByZSA9IG5ldyBSZWdFeHAoXCImcXVvdDtcIiwgXCJnXCIpO1xyXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKHJlLCBcIlxcXCJcIik7XHJcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKFwiJmFtcDtcIiwgXCJnXCIpO1xyXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKHJlLCBcIiZcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RyOyovXG4gIH0sXG4gIEhUTUxFbmNvZGU6IGZ1bmN0aW9uIEhUTUxFbmNvZGUoc3RyKSB7XG4gICAgYWxlcnQoXCJTdHJpbmdVdGlsaXR5LkhUTUxFbmNvZGUg5bey5YGc55SoXCIpO1xuICAgIC8qdmFyIHRlbXAgPSAkKFwiPGRpdiAvPlwiKTtcclxuICAgIHRlbXAudGV4dChzdHIpO1xyXG4gICAgcmV0dXJuIHRlbXAuaHRtbCgpOyovXG4gIH0sXG4gIEhUTUxEZWNvZGU6IGZ1bmN0aW9uIEhUTUxEZWNvZGUoc3RyKSB7XG4gICAgYWxlcnQoXCJTdHJpbmdVdGlsaXR5LkhUTUxEZWNvZGUg5bey5YGc55SoXCIpO1xuICAgIC8qdmFyIHRlbXAgPSAkKFwiPGRpdiAvPlwiKTtcclxuICAgIHRlbXAuaHRtbChzdHIpO1xyXG4gICAgcmV0dXJuIHRlbXAudGV4dCgpOyovXG4gIH0sXG4gIEZvcm1hdDogZnVuY3Rpb24gRm9ybWF0KCkge1xuICAgIGFsZXJ0KFwiU3RyaW5nVXRpbGl0eS5IVE1MRGVjb2RlIOW3suWBnOeUqFwiKTtcbiAgICAvKmlmIChhcmd1bWVudHMubGVuZ3RoID09IDApIHJldHVybiBudWxsO1xyXG4gICAgdmFyIHN0ciA9IGFyZ3VtZW50c1swXTtcclxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgnXFxcXHsnICsgKGkgLSAxKSArICdcXFxcfScsICdnbScpO1xyXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKHJlLCBhcmd1bWVudHNbaV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0cjsqL1xuICB9LFxuICBHdWlkTm90U3BsaXQ6IGZ1bmN0aW9uIEd1aWROb3RTcGxpdCgpIHtcbiAgICBhbGVydChcIlN0cmluZ1V0aWxpdHkuR3VpZE5vdFNwbGl0IOW3suWBnOeUqFwiKTtcbiAgfSxcbiAgR3VpZFNwbGl0OiBmdW5jdGlvbiBHdWlkU3BsaXQoc3BsaXQpIHtcbiAgICB2YXIgZ3VpZCA9IFwiXCI7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAzMjsgaSsrKSB7XG4gICAgICBndWlkICs9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2LjApLnRvU3RyaW5nKDE2KTtcbiAgICAgIGlmIChpID09IDggfHwgaSA9PSAxMiB8fCBpID09IDE2IHx8IGkgPT0gMjApIGd1aWQgKz0gc3BsaXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGd1aWQ7XG4gIH0sXG4gIEd1aWQ6IGZ1bmN0aW9uIEd1aWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuR3VpZFNwbGl0KFwiLVwiKTtcbiAgfSxcbiAgUlRpbWVzdGFtcDogZnVuY3Rpb24gUlRpbWVzdGFtcCgpIHtcbiAgICBhbGVydChcIui/geenu+WIsFN0cmluZ1V0aWxpdHkuVGltZXN0YW1wXCIpO1xuICAgIC8qdmFyIGdldFRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgLy92YXIgbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMC4wKS50b1N0cmluZyg1KTtcclxuICAgIHJldHVybiBnZXRUaW1lc3RhbXAudG9TdHJpbmcoKS5zdWJzdHIoNCwgOSk7Ki9cbiAgfSxcbiAgVGltZXN0YW1wOiBmdW5jdGlvbiBUaW1lc3RhbXAoKSB7XG4gICAgdmFyIHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHJldHVybiB0aW1lc3RhbXAudG9TdHJpbmcoKS5zdWJzdHIoNCwgMTApO1xuICB9LFxuICBUcmltOiBmdW5jdGlvbiBUcmltKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvKF5b44CAXFxzXSopfChb44CAXFxzXSokKS9nLCBcIlwiKTtcbiAgfSxcbiAgTFRyaW06IGZ1bmN0aW9uIExUcmltKHN0cikge1xuICAgIGFsZXJ0KFwiU3RyaW5nVXRpbGl0eS5MVHJpbSDlt7LlgZznlKhcIik7IC8vcmV0dXJuIHN0ci5yZXBsYWNlKC8oXlvjgIBcXHNdKikvZywgXCJcIik7XG4gIH0sXG4gIFJUcmltOiBmdW5jdGlvbiBSVHJpbShzdHIpIHtcbiAgICBhbGVydChcIlN0cmluZ1V0aWxpdHkuUlRyaW0g5bey5YGc55SoXCIpOyAvL3JldHVybiBzdHIucmVwbGFjZSgvKFvjgIBcXHNdKiQpL2csIFwiXCIpO1xuICB9LFxuICBUcmltTGFzdENoYXI6IGZ1bmN0aW9uIFRyaW1MYXN0Q2hhcihzdHIpIHtcbiAgICBhbGVydChcIui/geenu+WIsFN0cmluZ1V0aWxpdHkuUmVtb3ZlTGFzdENoYXJcIik7XG4gICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpO1xuICB9LFxuICBSZW1vdmVMYXN0Q2hhcjogZnVuY3Rpb24gUmVtb3ZlTGFzdENoYXIoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIDEpO1xuICB9LFxuICBTdHJpbmdUb0pzb246IGZ1bmN0aW9uIFN0cmluZ1RvSnNvbihzdHIpIHtcbiAgICBhbGVydChcIui/geenu+WIsEpzb25VdGlsaXR5LlN0cmluZ1RvSnNvblwiKTsgLy9yZXR1cm4gZXZhbChcIihcIiArIHN0ciArIFwiKVwiKTtcbiAgfSxcbiAgTGV2ZWwxSnNvblRvU3RyaW5nOiBmdW5jdGlvbiBMZXZlbDFKc29uVG9TdHJpbmcoanNvbk9iaikge1xuICAgIGFsZXJ0KFwi6L+B56e75YiwSnNvblV0aWxpdHkuSnNvblRvU3RyaW5nXCIpO1xuICAgIC8qdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgcmVzdWx0LnB1c2goXCJ7XCIpO1xyXG4gICAgZm9yICh2YXIga2V5IGluIGpzb25PYmopIHtcclxuICAgICAgICAvL2FsZXJ0KGtleStcIjpcXFwiXCIranNvbk9ialtrZXldLnJlcGxhY2UoL1wiL2csXCJcXFxcXFxcIlwiKStcIlxcXCIsXCIpO1xyXG4gICAgICAgIC8vYWxlcnQoXCJcXFxcXFxcIlwiKTtcclxuICAgICAgICAvL2FsZXJ0KCk7XHJcbiAgICAgICAgaWYgKGpRdWVyeS50eXBlKGpzb25PYmpba2V5XSkgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChrZXkgKyBcIjpcXFwiXCIgKyBqc29uT2JqW2tleV0ucmVwbGFjZSgvXCIvZywgXCJcXFxcXFxcIlwiKSArIFwiXFxcIixcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGpRdWVyeS50eXBlKGpzb25PYmpba2V5XSkgPT0gXCJhcnJheVwiKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSArIFwiOltcIik7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwganNvbk9ialtrZXldLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5uanNvbiA9IGpzb25PYmpba2V5XVtpXTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuTGV2ZWwxSnNvblRvU3RyaW5nKGlubmpzb24pKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFwiLFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoanNvbk9ialtrZXldLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPSB0aGlzLlRyaW1MYXN0Q2hhcihyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChcIl1cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0uaW5kZXhPZihcIixcIikgPT0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXS5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IHRoaXMuVHJpbUxhc3RDaGFyKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0pO1xyXG4gICAgfVxyXG4gICAgcmVzdWx0LnB1c2goXCJ9XCIpO1xyXG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpOyovXG4gIH0sXG4gIExldmVsMUpzb25Ub1N0cmluZ0tleVN0cmluZzogZnVuY3Rpb24gTGV2ZWwxSnNvblRvU3RyaW5nS2V5U3RyaW5nKGpzb25PYmopIHtcbiAgICBhbGVydChcIui/geenu+WIsEpzb25VdGlsaXR5Lkpzb25Ub1N0cmluZ1wiKTtcbiAgICAvKnZhciByZXN1bHQgPSBbXTtcclxuICAgIHJlc3VsdC5wdXNoKFwie1wiKTtcclxuICAgIGZvciAodmFyIGtleSBpbiBqc29uT2JqKSB7XHJcbiAgICAgICAgLy9hbGVydChrZXkrXCI6XFxcIlwiK2pzb25PYmpba2V5XS5yZXBsYWNlKC9cIi9nLFwiXFxcXFxcXCJcIikrXCJcXFwiLFwiKTtcclxuICAgICAgICAvL2FsZXJ0KFwiXFxcXFxcXCJcIik7XHJcbiAgICAgICAgLy9hbGVydCgpO1xyXG4gICAgICAgIGlmIChqUXVlcnkudHlwZShqc29uT2JqW2tleV0pID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goXCJcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIiArIFwiOlxcXCJcIiArIGpzb25PYmpba2V5XS5yZXBsYWNlKC9cIi9nLCBcIlxcXFxcXFwiXCIpICsgXCJcXFwiLFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoalF1ZXJ5LnR5cGUoanNvbk9ialtrZXldKSA9PSBcImFycmF5XCIpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goXCJcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIiArIFwiOltcIik7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwganNvbk9ialtrZXldLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5uanNvbiA9IGpzb25PYmpba2V5XVtpXTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuTGV2ZWwxSnNvblRvU3RyaW5nS2V5U3RyaW5nKGlubmpzb24pKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFwiLFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoanNvbk9ialtrZXldLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPSB0aGlzLlRyaW1MYXN0Q2hhcihyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChcIl1cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0uaW5kZXhPZihcIixcIikgPT0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXS5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IHRoaXMuVHJpbUxhc3RDaGFyKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0pO1xyXG4gICAgfVxyXG4gICAgcmVzdWx0LnB1c2goXCJ9XCIpO1xyXG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpOyovXG4gIH0sXG4gIExldmVsMUpzb25Ub1N0cmluZ1ZhbHVlRW5jb2RlOiBmdW5jdGlvbiBMZXZlbDFKc29uVG9TdHJpbmdWYWx1ZUVuY29kZShqc29uT2JqKSB7XG4gICAgYWxlcnQoXCLov4Hnp7vliLBKc29uVXRpbGl0eS5Kc29uVG9TdHJpbmdcIik7XG4gICAgLyp2YXIgcmVzdWx0ID0gW107XHJcbiAgICByZXN1bHQucHVzaChcIntcIik7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4ganNvbk9iaikge1xyXG4gICAgICAgIC8vYWxlcnQoa2V5K1wiOlxcXCJcIitqc29uT2JqW2tleV0ucmVwbGFjZSgvXCIvZyxcIlxcXFxcXFwiXCIpK1wiXFxcIixcIik7XHJcbiAgICAgICAgLy9hbGVydChcIlxcXFxcXFwiXCIpO1xyXG4gICAgICAgIC8vYWxlcnQoKTtcclxuICAgICAgICBpZiAoalF1ZXJ5LnR5cGUoanNvbk9ialtrZXldKSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSArIFwiOlxcXCJcIiArIGVuY29kZVVSSUNvbXBvbmVudChqc29uT2JqW2tleV0pICsgXCJcXFwiLFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoalF1ZXJ5LnR5cGUoanNvbk9ialtrZXldKSA9PSBcImFycmF5XCIpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goa2V5ICsgXCI6W1wiKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqc29uT2JqW2tleV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbm5qc29uID0ganNvbk9ialtrZXldW2ldO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5MZXZlbDFKc29uVG9TdHJpbmdWYWx1ZUVuY29kZShpbm5qc29uKSk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChcIixcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IHRoaXMuVHJpbUxhc3RDaGFyKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChcIl1cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0uaW5kZXhPZihcIixcIikgPT0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXS5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IHRoaXMuVHJpbUxhc3RDaGFyKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0pO1xyXG4gICAgfVxyXG4gICAgcmVzdWx0LnB1c2goXCJ9XCIpO1xyXG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpOyovXG4gIH0sXG4gIExldmVsMVN0cmluZ1RvSnNvblZhbHVlRGVjb2RlOiBmdW5jdGlvbiBMZXZlbDFTdHJpbmdUb0pzb25WYWx1ZURlY29kZShzdHIpIHtcbiAgICBhbGVydChcIui/geenu+WIsEpzb25VdGlsaXR5Lkpzb25Ub1N0cmluZ1wiKTtcbiAgICAvKnZhciBqc29uID0gdGhpcy5TdHJpbmdUb0pzb24oc3RyKTtcclxuICAgIGZvciAodmFyIGtleSBpbiBqc29uKSB7XHJcbiAgICAgICAgaWYgKGpRdWVyeS50eXBlKGpzb25ba2V5XSkgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBqc29uW2tleV0gPSBkZWNvZGVVUklDb21wb25lbnQoanNvbltrZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoalF1ZXJ5LnR5cGUoanNvbltrZXldKSA9PSBcImFycmF5XCIpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqc29uW2tleV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbm5vYmogPSBqc29uW2tleV1baV07XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpbm5rZXkgaW4gaW5ub2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5ub2JqW2lubmtleV0gPSBkZWNvZGVVUklDb21wb25lbnQoaW5ub2JqW2lubmtleV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGpzb247Ki9cbiAgfSxcbiAgR2V0QnJpdGhkYXlCeUlkQ2FyZDogZnVuY3Rpb24gR2V0QnJpdGhkYXlCeUlkQ2FyZChzdHIpIHtcbiAgICBhbGVydChcIlN0cmluZ1V0aWxpdHkuR2V0QnJpdGhkYXlCeUlkQ2FyZCDlt7LlgZznlKhcIik7XG4gICAgLyp2YXIgeWVhciwgbW9udGgsIGRheTtcclxuICAgIGlmIChzdHIubGVuZ3RoICE9IDE1ICYmIHN0ci5sZW5ndGggIT0gMTgpIHtcclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxuICAgIGlmIChzdHIubGVuZ3RoID09IDE1KSB7XHJcbiAgICAgICAgeWVhciA9IHN0ci5zdWJzdHJpbmcoNiwgOCk7XHJcbiAgICAgICAgbW9udGggPSBzdHIuc3Vic3RyaW5nKDgsIDEwKTtcclxuICAgICAgICBkYXkgPSBzdHIuc3Vic3RyaW5nKDEwLCAxMik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzdHIubGVuZ3RoID09IDE4KSB7XHJcbiAgICAgICAgeWVhciA9IHN0ci5zdWJzdHJpbmcoNiwgMTApO1xyXG4gICAgICAgIG1vbnRoID0gc3RyLnN1YnN0cmluZygxMCwgMTIpO1xyXG4gICAgICAgIGRheSA9IHN0ci5zdWJzdHJpbmcoMTIsIDE0KTtcclxuICAgIH1cclxuICAgIGlmICh5ZWFyLmxlbmd0aCA9PSAyKSB5ZWFyID0gXCIxOVwiICsgeWVhcjtcclxuICAgIGlmIChtb250aC5pbmRleE9mKFwiMFwiKSA9PSAwKSBtb250aCA9IG1vbnRoLnN1YnN0cmluZygxKTtcclxuICAgIGlmIChkYXkuaW5kZXhPZihcIjBcIikgPT0gMCkgZGF5ID0gZGF5LnN1YnN0cmluZygxKTtcclxuICAgIHJldHVybiB5ZWFyICsgXCItXCIgKyBtb250aCArIFwiLVwiICsgZGF5OyovXG4gIH0sXG4gIEdldFNleEJ5SWRDYXJkOiBmdW5jdGlvbiBHZXRTZXhCeUlkQ2FyZChzdHIpIHtcbiAgICBhbGVydChcIlN0cmluZ1V0aWxpdHkuR2V0U2V4QnlJZENhcmQg5bey5YGc55SoXCIpO1xuICAgIC8qaWYgKHBhcnNlSW50KHN0ci5zdWJzdHIoMTYsIDEpKSAlIDIgPT0gMSkge1xyXG4gICAgICAgIHJldHVybiBcIueUt+aAp1wiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gXCLlpbPmgKdcIjtcclxuICAgIH0qL1xuICB9LFxuICBJc051bGxPckVtcHR5OiBmdW5jdGlvbiBJc051bGxPckVtcHR5KG9iaikge1xuICAgIHJldHVybiBvYmogPT0gdW5kZWZpbmVkIHx8IG9iaiA9PSBcIlwiIHx8IG9iaiA9PSBudWxsIHx8IG9iaiA9PSBcInVuZGVmaW5lZFwiIHx8IG9iaiA9PSBcIm51bGxcIjtcbiAgfSxcbiAgSXNOdWxsT3JFbXB0eU9iamVjdDogZnVuY3Rpb24gSXNOdWxsT3JFbXB0eU9iamVjdChvYmopIHtcbiAgICBhbGVydChcIlN0cmluZ1V0aWxpdHkuSXNOdWxsT3JFbXB0eU9iamVjdCDlt7LlgZznlKhcIik7IC8vcmV0dXJuIG9iaiA9PSB1bmRlZmluZWQgfHwgb2JqID09IG51bGxcbiAgfSxcbiAgR2V0RnVudGlvbk5hbWU6IGZ1bmN0aW9uIEdldEZ1bnRpb25OYW1lKGZ1bmMpIHtcbiAgICBpZiAodHlwZW9mIGZ1bmMgPT0gXCJmdW5jdGlvblwiIHx8IF90eXBlb2YoZnVuYykgPT0gXCJvYmplY3RcIikgdmFyIGZOYW1lID0gKFwiXCIgKyBmdW5jKS5tYXRjaCgvZnVuY3Rpb25cXHMqKFtcXHdcXCRdKilcXHMqXFwoLyk7XG4gICAgaWYgKGZOYW1lICE9PSBudWxsKSByZXR1cm4gZk5hbWVbMV07XG4gIH0sXG4gIFRvTG93ZXJDYXNlOiBmdW5jdGlvbiBUb0xvd2VyQ2FzZShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XG4gIH0sXG4gIHRvVXBwZXJDYXNlOiBmdW5jdGlvbiB0b1VwcGVyQ2FzZShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRvVXBwZXJDYXNlKCk7XG4gIH0sXG4gIFBhZGRpbmc6IGZ1bmN0aW9uIFBhZGRpbmcobnVtLCBsZW5ndGgpIHtcbiAgICBhbGVydChcIlN0cmluZ1V0aWxpdHkuUGFkZGluZyDlt7LlgZznlKhcIik7XG4gICAgLyp2YXIgbGVuID0gKG51bSArIFwiXCIpLmxlbmd0aDtcclxuICAgIHZhciBkaWZmID0gbGVuZ3RoIC0gbGVuO1xyXG4gICAgaWYoZGlmZiA+IDApIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkoZGlmZikuam9pbihcIjBcIikgKyBudW07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVtOyovXG4gIH0sXG4gIEVuZFdpdGg6IGZ1bmN0aW9uIEVuZFdpdGgoc3RyLCBlbmRTdHIpIHtcbiAgICB2YXIgZCA9IHN0ci5sZW5ndGggLSBlbmRTdHIubGVuZ3RoO1xuICAgIHJldHVybiBkID49IDAgJiYgc3RyLmxhc3RJbmRleE9mKGVuZFN0cikgPT0gZDtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy9YTUzlpITnkIblt6XlhbfnsbtcbnZhciBYTUxVdGlsaXR5ID0ge307Il19

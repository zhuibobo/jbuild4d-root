"use strict";var AjaxUtility={PostRequestBody:function(t,e,i,n){this.Post(t,e,i,n,"application/json; charset=utf-8")},PostSync:function(t,e,i,n,o){return this.Post(t,e,i,n,o,!1)},Post:function(t,e,i,n,o,r){var a=BaseUtility.BuildAction(t);null!=n&&null!=n||(n="text"),null!=r&&null!=r||(r=!0),null!=o&&null!=o||(o="application/x-www-form-urlencoded; charset=UTF-8");var l=null;return $.ajax({type:"POST",url:a,cache:!1,async:r,contentType:o,dataType:n,data:e,success:function(t){try{null==t||null==t.success||t.success||"登录Session过期"==t.message&&DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},"Session超时，请重新登陆系统",function(){BaseUtility.RedirectToLogin()})}catch(t){console.log("AjaxUtility.Post Exception "+a)}i(t),l=t},complete:function(t){},error:function(t){try{0<=t.responseText.indexOf("请重新登陆系统")&&BaseUtility.RedirectToLogin(),console.log(t),DialogUtility.Alert(window,"AjaxUtility.Post.Error",{},"Ajax请求发生错误！status:"+t.status+",responseText:"+t.responseText,null)}catch(t){}}}),l},GetSync:function(t,e,i,n){this.Post(t,e,i,n,!1)},Get:function(t,e,i,n,o){var r=BaseUtility.BuildUrl(t);null!=n&&null!=n||(n="text"),null!=o&&null!=o||(o=!0),$.ajax({type:"GET",url:r,cache:!1,async:o,contentType:"application/json; charset=utf-8",dataType:n,data:e,success:function(t){i(t)},complete:function(t){},error:function(t){debugger}})}},BaseUtility={GetRootPath:function(){var t=window.document.location.href,e=window.document.location.pathname,i=t.indexOf(e);return t.substring(0,i)+e.substring(0,e.substr(1).indexOf("/")+1)},ReplaceUrlVariable:function(t){alert("ReplaceUrlVariable迁移到BuildAction")},GetTopWindow:function(){alert("BaseUtility.GetTopWindow 已停用")},TrySetControlFocus:function(){alert("BaseUtility.TrySetControlFocus 已停用")},BuildUrl:function(t){alert("BaseUtility.BuildUrl 已停用")},BuildView:function(t,e){return StringUtility.EndWith(t,"View")?this.BuildAction(t,e):(DialogUtility.AlertText(t+"视图Url请用View作为结尾."),"")},BuildAction:function(t,e){var i="";e&&(i=$.param(e));var n=this.GetRootPath()+t+".do";return""!=i&&(n+="?"+i),this.AppendTimeStampUrl(n)},RedirectToLogin:function(){var t=BaseUtility.GetRootPath()+"/LoginView.do";window.parent.parent.location.href=t},AppendTimeStampUrl:function(t){if("0"<t.indexOf("timestamp"))return t;var e=(new Date).getTime();return t=-1<t.indexOf("?")?t+"&timestamp="+e:t+"?timestamp="+e},GetUrlParaValue:function(t){return this.GetUrlParaValueByString(t,window.location.search)},GetUrlParaValueByString:function(t,e){var i=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=e.substr(1).match(i);return null!=n?decodeURIComponent(n[2]):""}},BrowserInfoUtility={BrowserAppName:function(){return 0<navigator.userAgent.indexOf("Firefox")?"Firefox":0<navigator.userAgent.indexOf("MSIE")?"IE":0<navigator.userAgent.indexOf("Chrome")?"Chrome":void 0},IsIE:function(){return!!(window.ActiveXObject||"ActiveXObject"in window)},IsIE6:function(){return 0<navigator.userAgent.indexOf("MSIE 6.0")},IsIE7:function(){return 0<navigator.userAgent.indexOf("MSIE 7.0")},IsIE8:function(){return 0<navigator.userAgent.indexOf("MSIE 8.0")},IsIE8X64:function(){return 0<navigator.userAgent.indexOf("MSIE 8.0")&&0<navigator.userAgent.indexOf("x64")},IsIE9:function(){return 0<navigator.userAgent.indexOf("MSIE 9.0")},IsIE9X64:function(){return 0<navigator.userAgent.indexOf("MSIE 9.0")&&0<navigator.userAgent.indexOf("x64")},IsIE10:function(){return 0<navigator.userAgent.indexOf("MSIE 10.0")},IsIE10X64:function(){return 0<navigator.userAgent.indexOf("MSIE 10.0")&&0<navigator.userAgent.indexOf("x64")},IEDocumentMode:function(){return document.documentMode},IsIE8DocumentMode:function(){return 8==this.IEDocumentMode()},IsFirefox:function(){return"Firefox"==this.BrowserAppName()},IsChrome:function(){return"Chrome"==this.BrowserAppName()}},CacheDataUtility={IninClientCache:function(){this.GetCurrentUserInfo()},_CurrentUserInfo:null,GetCurrentUserInfo:function(){return null==this._CurrentUserInfo?null!=window.parent.CacheDataUtility._CurrentUserInfo?window.parent.CacheDataUtility._CurrentUserInfo:(AjaxUtility.PostSync("/PlatForm/MyInfo/GetUserInfo",{},function(t){t.success&&(CacheDataUtility._CurrentUserInfo=t.data)},"json"),this._CurrentUserInfo):this._CurrentUserInfo}},CookieUtility={SetCookie1Day:function(t,e){var i=new Date;i.setTime(i.getTime()+864e5),document.cookie=t+"="+escape(e)+";expires="+i.toGMTString()+";path=/"},SetCookie1Month:function(t,e){var i=new Date;i.setTime(i.getTime()+2592e6),document.cookie=t+"="+escape(e)+";expires="+i.toGMTString()+";path=/"},SetCookie1Year:function(t,e){var i=new Date;i.setTime(i.getTime()+94608e7),document.cookie=t+"="+escape(e)+";expires="+i.toGMTString()+";path=/"},GetCookie:function(t){var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!=e?unescape(e[2]):null},DelCookie:function(t){var e=new Date;e.setTime(e.getTime()-1);var i=this.getCookie(t);null!=i&&(document.cookie=t+"="+i+";expires="+e.toGMTString()+";path=/")}},DateUtility={GetCurrentDataString:function(t){alert("DateUtility.GetCurrentDataString 已停用")},DateFormat:function(t,e){alert("DateUtility.GetCurrentDataString 已停用")},Format:function(t,e){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e},FormatCurrentData:function(t){var e=new Date;return this.Format(e,t)},GetCurrentData:function(){return new Date}},DetailPageUtility={IViewPageToViewStatus:function(){},OverrideObjectValue:function(t,e){for(var i in t)null!=e[i]&&null!=e[i]&&""!=e[i]&&(t[i]=e[i])},BindFormData:function(t,e,i,n,o,r){AjaxUtility.Post(t,{recordId:i,op:n},function(t){t.success?("function"==typeof o&&o(t),DetailPageUtility.OverrideObjectValue(e,t.data),"function"==typeof r&&r(t),"view"==n&&DetailPageUtility.IViewPageToViewStatus()):DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t.message,null)},"json")}},DialogUtility={DialogAlertId:"DefaultDialogAlertUtility01",DialogPromptId:"DefaultDialogPromptUtility01",DialogId:"DefaultDialogUtility01",DialogId02:"DefaultDialogUtility02",DialogId03:"DefaultDialogUtility03",DialogId04:"DefaultDialogUtility04",DialogId05:"DefaultDialogUtility05",_GetElem:function(t){return $("#"+t)},_CreateDialogElem:function(t,e){if(0!=this._GetElem(e).length)return this._GetElem(e);var i=$("<div id="+e+" title='系统提示' style='display:none'>                    </div>");return $(t.body).append(i),i},_CreateAlertLoadingMsgElement:function(t,e){if(0!=this._GetElem(e).length)return this._GetElem(e);var i=$("<div id="+e+" title='系统提示' style='display:none'>                               <div class='alertloading-img'></div>                               <div class='alertloading-txt'></div>                           </div>");return $(t.body).append(i),i},_CreateIfrmaeDialogElement:function(t,e,i){var n=$("<div id="+e+" title='Basic dialog'>                        <iframe name='dialogIframe' width='100%' height='98%' frameborder='0'>                        </iframe>                    </div>");return $(t.body).append(n),n},_TestDialogElemIsExist:function(t){return 0<this._GetElem(t).length},_TestRunEnable:function(){return!0},AlertError:function(t,e,i,n,o){var r={height:400,width:600};r=$.extend(!0,{},r,i),this.Alert(t,e,r,n,o)},AlertText:function(t){DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t,null)},Alert:function(t,e,i,n,o){var r=this._CreateDialogElem(t.document.body,e),a={height:200,width:300,title:"系统提示",show:!0,modal:!0,buttons:{"关闭":function(){$(r).dialog("close")}},open:function(){},close:function(){o&&o()}};a=$.extend(!0,{},a,i);$(r).html(n),$(r).dialog(a)},AlertJsonCode:function(t){t=(t=(t=JsonUtility.JsonToStringFormat(t)).replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(t){var e="json-number";return/^"/.test(t)?e=/:$/.test(t)?"json-key":"json-string":/true|false/.test(t)?e="json-boolean":/null/.test(t)&&(e="json-null"),'<span class="'+e+'">'+t+"</span>"}),this.Alert(window,DialogUtility.DialogAlertId,{width:900,height:600},"<pre class='json-pre'>"+t+"</pre>",null)},ShowHTML:function(t,e,i,n,o,r){var a=this._CreateDialogElem(t.document.body,e),l={height:200,width:300,title:"系统提示",show:!0,modal:!0,close:function(t,e){try{"function"==typeof o&&o(r)}catch(t){}}};l=$.extend(!0,{},l,i);return $(a).html(n),$(a).dialog(l)},AlertLoading:function(t,e,i,n){var o=this._CreateAlertLoadingMsgElement(t.document.body,e),r={height:200,width:300,title:"",show:!0,modal:!0};r=$.extend(!0,{},r,i);$(o).find(".alertloading-txt").html(n),$(o).dialog(r)},Confirm:function(t,e,i){this.ConfirmConfig(t,e,null,i)},ConfirmConfig:function(e,t,i,n){var o=this._CreateDialogElem(e.document.body,"AlertConfirmMsg"),r=null,a={okfunc:function(t){if(null!=n)return n();e.close()},cancelfunc:function(t){},validatefunc:function(t){return!0},closeafterfunc:!0,height:200,width:300,title:"系统提示",show:!0,modal:!0,buttons:{"确认":function(){if(a.validatefunc(r)){var t=a.okfunc(r);(t=null==t||t)&&a.closeafterfunc&&$(o).dialog("close")}},"取消":function(){a.cancelfunc(r),a.closeafterfunc&&$(o).dialog("close")}}};a=$.extend(!0,{},a,i);$(o).html(t),$(o).dialog(a),r={ElementObj:o}},Prompt:function(t,e,i,n,o){var r=this._CreateDialogElem(t.document.body,i),a=$("<textarea />"),l={height:200,width:300,title:"",show:!0,modal:!0,buttons:{"确认":function(){if("function"==typeof o){var t=a.val();o(t)}$(r).dialog("close")},"取消":function(){$(r).dialog("close")}}};l=$.extend(!0,{},l,e);$(a).css("height",l.height-130);var u=$("<div>"+n+"：</div>").append(a);$(r).html(u),$(r).dialog(l)},DialogElem:function(t,e){$(t).dialog(e)},OpenIframeWindow:function(t,e,i,n,o){var r={height:410,width:600,close:function(t,e){var i=$(this).attr("id");$(this).find("iframe").remove(),$(this).dialog("close"),$(this).dialog("destroy"),$("#"+i).remove(),BrowserInfoUtility.IsIE8DocumentMode()&&CollectGarbage(),"function"==typeof n.close_after_event&&n.close_after_event();try{0<$("#Forfocus").length&&$("#Forfocus")[0].focus()}catch(t){}}};1==o?r=$.extend(!0,{},r,{height:680,width:980}):2==o?r=$.extend(!0,{},r,{height:600,width:800}):4==o?r=$.extend(!0,{},r,{height:380,width:480}):5==o&&(r=$.extend(!0,{},r,{height:180,width:300})),0==n.width&&(n.width=PageStyleUtil.GetPageWidth()-20),0==n.height&&(n.height=PageStyleUtil.GetPageHeight()-10),r=$.extend(!0,{},r,n);var a=e,l=this._CreateIfrmaeDialogElement(t.document,a,i),u=$(l).dialog(r),s=$(l).find("iframe");return s.attr(src,i),s[0].contentWindow.FrameWindowId=a,s[0].contentWindow.OpenerWindowObj=t,u},CloseOpenIframeWindow:function(t,e){t.OpenerWindowObj.DialogUtility.CloseDialog(e)},CloseDialog:function(t){this._GetElem(t).find("iframe").remove(),$(this._GetElem(t)).dialog("close");try{0<$("#Forfocus").length&&$("#Forfocus")[0].focus()}catch(t){}},OpenNewWindow:function(t,e,i,n,o){var r=n.width,a=n.height,l=parseInt((screen.availWidth-r)/2).toString(),u=parseInt((screen.availHeight-a)/2).toString();"0"==r.toString()&&"0"==a.toString()&&(r=window.screen.availWidth-30,a=window.screen.availHeight-60,u=l="0"),null==window.open(i,"","scrollbars=no,toolbar=no,menubar=no,resizable=yes,center=yes,help=no, status=yes,top= "+u+"px,left="+l+"px,width="+r+"px,height="+a+"px")&&alert("请解除浏览器对本系统弹出窗口的阻止设置！")},_TryGetParentWindow:function(t){return null!=t.parent?t.parent:null},_Frame_TryGetFrameWindowObj:function(e,i,n){if(n<i){n++;try{return e.IsTopFramePage?e:this._Frame_TryGetFrameWindowObj(this._TryGetParentWindow(e),i,n)}catch(t){return this._Frame_TryGetFrameWindowObj(this._TryGetParentWindow(e),i,n)}}return null},_OpenWindowInFramePage:function(t,e,i,n,o){if(StringUtility.IsNullOrEmpty(e))alert("dialogId不能为空");else{i=BaseUtility.AppendTimeStampUrl(i);var r="FrameDialogEle"+e;if(0==$(this.FramePageRef.document).find("#"+r).length){var a=this._CreateIfrmaeDialogElement(this.FramePageRef.document,r,i),l={height:400,width:600,modal:!0,title:"系统",close:function(t,e){var i=$(this).attr("id");$(this).find("iframe").remove(),$(this).dialog("close"),$(this).dialog("destroy"),$("#"+i).remove(),BrowserInfoUtility.IsIE8DocumentMode()&&CollectGarbage(),"function"==typeof n.close_after_event&&n.close_after_event()}};0==o?(n.width=PageStyleUtility.GetPageWidth()-20,n.height=PageStyleUtility.GetPageHeight()-10):1==o?l=$.extend(!0,{},l,{height:680,width:980}):2==o?l=$.extend(!0,{},l,{height:600,width:800}):4==o?l=$.extend(!0,{},l,{height:380,width:480}):5==o&&(l=$.extend(!0,{},l,{height:180,width:300})),0==n.width&&(n.width=PageStyleUtility.GetPageWidth()-20),0==n.height&&(n.height=PageStyleUtility.GetPageHeight()-10),l=$.extend(!0,{},l,n),$(a).dialog(l),$(".ui-widget-overlay").css("zIndex","1000"),$(".ui-dialog").css("zIndex","1001");var u=$(a).find("iframe");u.attr("src",i),u.on("load",function(){this.contentWindow.FrameWindowId=r,this.contentWindow.OpenerWindowObj=t,this.contentWindow.IsOpenForFrame=!0})}else $("#"+r).dialog("moveToTop")}},_Frame_FramePageCloseDialog:function(t){$("#"+t).dialog("close")},Frame_TryGetFrameWindowObj:function(){return this._Frame_TryGetFrameWindowObj(window,5,1)},Frame_Alert:function(){},Frame_Comfirm:function(){},Frame_OpenIframeWindow:function(t,e,i,n,o){var r=this.Frame_TryGetFrameWindowObj();null!=(this.FramePageRef=r)?(this.FramePageRef.DialogUtility.FramePageRef=r,this.FramePageRef.DialogUtility._OpenWindowInFramePage(t,e,i,n,o)):alert("找不到FramePage!!")},Frame_CloseDialog:function(t){var e=this.Frame_TryGetFrameWindowObj(),i=(t.OpenerWindowObj,t.FrameWindowId);e.DialogUtility._Frame_FramePageCloseDialog(i)}},DictionaryUtility={_GroupValueListJsonToSimpleJson:null,GroupValueListJsonToSimpleJson:function(t){if(null==this._GroupValueListJsonToSimpleJson&&null!=t){var e={};for(var i in t){e[i]={};for(var n=0;n<t[i].length;n++)e[i][t[i][n].dictValue]=t[i][n].dictText}this._GroupValueListJsonToSimpleJson=e}return this._GroupValueListJsonToSimpleJson}},console=console||{log:function(){},warn:function(){},error:function(){}};function DateExtend_DateFormat(t,e){if(null==t||null==t)return"";var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e}function refCssLink(t){var e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("link");return i.type="text/css",i.rel="stylesheet",i.href=t,e.appendChild(i),i.sheet||i.styleSheet}Date.prototype.toJSON=function(){return DateExtend_DateFormat(this,"yyyy-MM-dd mm:hh:ss")},Object.create||(Object.create=function(){function e(){}return alert("Extend Object.create"),function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),$.fn.outerHTML=function(){return this.length?this[0].outerHTML||function(t){var e=document.createElement("div");e.appendChild(t.cloneNode(!0));var i=e.innerHTML;return e=null,alert(i),i}(this[0]):this};var JsonUtility={ParseArrayJsonToTreeJson:function(a,l,t){var e={},i=function(t,e){for(var i=0;i<l.length;i++)if(l[i][t]==e)return l[i];alert("ParseArrayJsonToTreeJson.FindJsonById:在sourceArray中找不到指定Id的记录")}(a.KeyField,t);return function t(e,i){var n=function(t,e){for(var i=[],n=0;n<l.length;n++)l[n][t]==e&&i.push(l[n]);return i}(a.RelationField,e);if(0<n.length){null==i[a.ChildFieldName]&&(i[a.ChildFieldName]=[]);for(var o=0;o<n.length;o++){var r={};r=JsonUtility.SimpleCloneAttr(r,n[o]),i[a.ChildFieldName].push(r),t(r[a.KeyField],r)}}}(t,e=this.SimpleCloneAttr(e,i)),e},ResolveSimpleArrayJsonToTreeJson:function(t,e,i){alert("JsonUtility.ResolveSimpleArrayJsonToTreeJson 已停用")},SimpleCloneAttr:function(t,e){for(var i in e)t[i]=e[i];return t},CloneSimple:function(t){return jQuery.extend(!0,{},t)},JsonToString:function(t){return JSON.stringify(t)},JsonToStringFormat:function(t){return JSON.stringify(t,null,2)},StringToJson:function StringToJson(str){return eval("("+str+")")}},ListPageUtility={GetGeneralPageHeight:function(t){var e=jQuery(document).height();return e=0<$("#list-simple-search-wrap").length?e-$("#list-simple-search-wrap").outerHeight()+t-$("#list-button-wrap").outerHeight()-$("#list-pager-wrap").outerHeight()-30:e-$("#list-button-wrap").outerHeight()+t-$("#list-pager-wrap").outerHeight()-30},GetFixHeight:function(){return-70},IViewTableRenderer:{ToDateYYYY_MM_DD:function(t,e){var i=new Date(e);return t("div",DateUtility.Format(i,"yyyy-MM-dd"))},StringToDateYYYY_MM_DD:function(t,e){return t("div",e.split(" ")[0])},ToStatusEnable:function(t,e){return 0==e?t("div","禁用"):1==e?t("div","启用"):void 0},ToYesNoEnable:function(t,e){return 0==e?t("div","否"):1==e?t("div","是"):void 0},ToDictionaryText:function(t,e,i,n){var o=DictionaryUtility.GroupValueListJsonToSimpleJson(e);return null==n||""==n?t("div",""):null!=o[i]&&o[i]?o[i][n]?t("div",o[i][n]):t("div","找不到装换的TEXT"):t("div","找不到装换的分组")}},IViewTableMareSureSelected:function(e){return null!=e&&0<e.length?{then:function(t){t(e)}}:(DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},"请选中需要操作的行!",null),{then:function(t){}})},IViewTableMareSureSelectedOne:function(e){return null!=e&&0<e.length&&1==e.length?{then:function(t){t(e)}}:(DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},"请选中需要操作的行，每次只能选中一行!",null),{then:function(t){}})},IViewChangeServerStatus:function(t,e,i,n,o){for(var r=new Array,a=0;a<e.length;a++)r.push(e[a][i]);AjaxUtility.Post(t,{ids:r.join(";"),status:n},function(t){t.success?(DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t.message,function(){}),o.reloadData()):DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t.message,null)},"json")},IViewMoveFace:function(e,t,i,n,o){this.IViewTableMareSureSelectedOne(t).then(function(t){AjaxUtility.Post(e,{recordId:t[0][i],type:n},function(t){t.success?o.reloadData():DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t.message,null)},"json")})},IViewChangeServerStatusFace:function(e,t,i,n,o){this.IViewTableMareSureSelected(t).then(function(t){ListPageUtility.IViewChangeServerStatus(e,t,i,n,o)})},IViewTableDeleteRow:function(t,e,i){DialogUtility.Confirm(window,"确认要删除当前记录吗？",function(){AjaxUtility.Post(t,{recordId:e},function(t){t.success?DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t.message,function(){i.reloadData()}):DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},t.message,function(){})},"json")})},IViewTableLoadDataSearch:function(t,e,i,n,o,r,a,l,u){null!=u&&null!=u||(u=!1),AjaxUtility.Post(t,{pageNum:e,pageSize:i,searchCondition:SearchUtility.SerializationSearchCondition(n),loadDict:u},function(t){if(t.success){if("function"==typeof l&&l(t,o),o.tableData=new Array,o.tableData=t.data.list,o.pageTotal=t.data.total,a&&null!=o.selectionRows)for(var e=0;e<o.tableData.length;e++)for(var i=0;i<o.selectionRows.length;i++)o.selectionRows[i][r]==o.tableData[e][r]&&(o.tableData[e]._checked=!0)}else DialogUtility.AlertError(window,DialogUtility.DialogAlertId,{},t.message,function(){})},"json")},IViewTableLoadDataNoSearch:function(t,e,i,n,o,r,a){AjaxUtility.Post(t,{pageNum:e,pageSize:i},function(t){if(t.success){if(n.tableData=new Array,n.tableData=t.data.list,n.pageTotal=t.data.total,r&&null!=n.selectionRows)for(var e=0;e<n.tableData.length;e++)for(var i=0;i<n.selectionRows.length;i++)n.selectionRows[i][o]==n.tableData[e][o]&&(n.tableData[e]._checked=!0);"function"==typeof a&&a(t,n)}},"json")},IViewTableInnerButton:{ViewButton:function(t,e,i,n){return t("div",{class:"list-row-button list-row-button-view",on:{click:function(){n.view(e.row[i])}}})},EditButton:function(t,e,i,n){return t("div",{class:"list-row-button list-row-button-edit",on:{click:function(){n.edit(e.row[i])}}})},DeleteButton:function(t,e,i,n){return t("div",{class:"list-row-button list-row-button-del",on:{click:function(){n.del(e.row[i])}}})}}},PageStyleUtility={GetPageHeight:function(){return jQuery(window.document).height()},GetPageWidth:function(){return jQuery(window.document).width()},GetWindowHeight:function(){return $(window).height()},GetWindowWidth:function(){return $(window).width()},GetListButtonOuterHeight:function(){return alert("PageStyleUtility.GetListButtonOuterHeight 已停用"),jQuery(".list-button-outer-c").outerHeight()}},SearchUtility={SearchFieldType:{IntType:"IntType",NumberType:"NumberType",DataType:"DateType",LikeStringType:"LikeStringType",LeftLikeStringType:"LeftLikeStringType",RightLikeStringType:"RightLikeStringType",StringType:"StringType",DataStringType:"DateStringType",ArrayLikeStringType:"ArrayLikeStringType"},SerializationSearchCondition:function(t){var e=JsonUtility.CloneSimple(t);for(var i in e)e[i].type==SearchUtility.SearchFieldType.ArrayLikeStringType&&(null!=e[i].value&&0<e[i].value.length?e[i].value=e[i].value.join(";"):e[i].value="");return JSON.stringify(e)}},JBuild4DSelectView={SelectEnvVariable:{URL:"/PlatForm/SelectView/SelectEnvVariable/Select",beginSelect:function(t){var e=BaseUtility.BuildAction(this.URL,{instanceName:t});DialogUtility.OpenIframeWindow(window,DialogUtility.DialogId,e,{title:"选择变量",modal:!0},2)},beginSelectInFrame:function(t,e,i){var n=BaseUtility.BuildAction(this.URL,{instanceName:e});i=$.extend(!0,{},{modal:!0,title:"选择变量"},i);DialogUtility.Frame_OpenIframeWindow(t,DialogUtility.DialogId05,n,i,1),$(window.parent.document).find(".ui-widget-overlay").css("zIndex",10100),$(window.parent.document).find(".ui-dialog").css("zIndex",10101)},formatText:function(t,e){return"Const"==t?"静态值:【"+e+"】":"DateTime"==t?"日期时间:【"+e+"】":"ApiVar"==t?"API变量:【"+e+"】":"NumberCode"==t?"序号编码:【"+e+"】":"IdCoder"==t?"主键生成:【"+e+"】":""==t?"【无】":"未知类型"+e}},SelectBindToField:{URL:"/PlatForm/SelectView/SelectBindToTableField/Select",beginSelect:function(t){var e=this.URL+"?instanceName="+t;DialogUtility.OpenIframeWindow(window,DialogUtility.DialogId,e,{title:"选择变量",modal:!0},2)},beginSelectInFrame:function(t,e,i){var n=BaseUtility.BuildAction(this.URL,{instanceName:e});i=$.extend(!0,{},{modal:!0,title:"选择绑定字段"},i);DialogUtility.Frame_OpenIframeWindow(t,DialogUtility.DialogId05,n,i,1),$(window.parent.document).find(".ui-widget-overlay").css("zIndex",10100),$(window.parent.document).find(".ui-dialog").css("zIndex",10101)}},SelectValidateRule:{URL:"/PlatForm/SelectView/SelectValidateRule/Select",beginSelect:function(t){var e=this.URL+"?instanceName="+t;DialogUtility.OpenIframeWindow(window,DialogUtility.DialogId,e,{title:"验证规则",modal:!0},2)},beginSelectInFrame:function(t,e,i){var n=BaseUtility.BuildAction(this.URL,{instanceName:e});i=$.extend(!0,{},{modal:!0,title:"验证规则"},i);DialogUtility.Frame_OpenIframeWindow(t,DialogUtility.DialogId05,n,i,1),$(window.parent.document).find(".ui-widget-overlay").css("zIndex",10100),$(window.parent.document).find(".ui-dialog").css("zIndex",10101)}}};function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var StringUtility={GetTimeStampUrl:function(t){alert("迁移到BaseUtility.AppendTimeStampUrl")},GetAllQueryString:function(){alert("StringUtility.GetAllQueryString 已停用")},QueryString:function(t){alert("迁移到BaseUtility.GetUrlParaValue")},QueryStringUrlString:function(t,e){alert("迁移到BaseUtility.GetUrlParaValueByString")},XMLEncode:function(t){alert("StringUtility.XMLEncode 已停用")},XMLDeCode:function(t){alert("StringUtility.XMLDeCode 已停用")},HTMLEncode:function(t){alert("StringUtility.HTMLEncode 已停用")},HTMLDecode:function(t){alert("StringUtility.HTMLDecode 已停用")},Format:function(){alert("StringUtility.HTMLDecode 已停用")},GuidNotSplit:function(){alert("StringUtility.GuidNotSplit 已停用")},GuidSplit:function(t){for(var e="",i=1;i<=32;i++)e+=Math.floor(16*Math.random()).toString(16),8!=i&&12!=i&&16!=i&&20!=i||(e+=t);return e},Guid:function(){return this.GuidSplit("-")},RTimestamp:function(){alert("迁移到StringUtility.Timestamp")},Timestamp:function(){return(new Date).getTime().toString().substr(4,10)},Trim:function(t){return t.replace(/(^[　\s]*)|([　\s]*$)/g,"")},LTrim:function(t){alert("StringUtility.LTrim 已停用")},RTrim:function(t){alert("StringUtility.RTrim 已停用")},TrimLastChar:function(t){return alert("迁移到StringUtility.RemoveLastChar"),t.substring(0,t.length-1)},RemoveLastChar:function(t){return t.substring(0,t.length-1)},StringToJson:function(t){alert("迁移到JsonUtility.StringToJson")},Level1JsonToString:function(t){alert("迁移到JsonUtility.JsonToString")},Level1JsonToStringKeyString:function(t){alert("迁移到JsonUtility.JsonToString")},Level1JsonToStringValueEncode:function(t){alert("迁移到JsonUtility.JsonToString")},Level1StringToJsonValueDecode:function(t){alert("迁移到JsonUtility.JsonToString")},GetBrithdayByIdCard:function(t){alert("StringUtility.GetBrithdayByIdCard 已停用")},GetSexByIdCard:function(t){alert("StringUtility.GetSexByIdCard 已停用")},IsNullOrEmpty:function(t){return null==t||""==t||null==t||"undefined"==t||"null"==t},IsNullOrEmptyObject:function(t){alert("StringUtility.IsNullOrEmptyObject 已停用")},GetFuntionName:function(t){if("function"==typeof t||"object"==_typeof(t))var e=(""+t).match(/function\s*([\w\$]*)\s*\(/);if(null!==e)return e[1]},ToLowerCase:function(t){return t.toLowerCase()},toUpperCase:function(t){return t.toUpperCase()},Padding:function(t,e){alert("StringUtility.Padding 已停用")},EndWith:function(t,e){var i=t.length-e.length;return 0<=i&&t.lastIndexOf(e)==i}},XMLUtility={};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFqYXhVdGlsaXR5LmpzIiwiQmFzZVV0aWxpdHkuanMiLCJCcm93c2VySW5mb1V0aWxpdHkuanMiLCJDYWNoZURhdGFVdGlsaXR5LmpzIiwiQ29va2llVXRpbGl0eS5qcyIsIkRhdGVVdGlsaXR5LmpzIiwiRGV0YWlsUGFnZVV0aWxpdHkuanMiLCJEaWFsb2dVdGlsaXR5LmpzIiwiRGljdGlvbmFyeVV0aWxpdHkuanMiLCJKQnVpbGQ0REJhc2VMaWIuanMiLCJKc29uVXRpbGl0eS5qcyIsIkxpc3RQYWdlVXRpbGl0eS5qcyIsIlBhZ2VTdHlsZVV0aWxpdHkuanMiLCJTZWFyY2hVdGlsaXR5LmpzIiwiU2VsZWN0Vmlld0xpYi5qcyIsIlN0cmluZ1V0aWxpdHkuanMiLCJYTUxVdGlsaXR5LmpzIl0sIm5hbWVzIjpbIkFqYXhVdGlsaXR5IiwiUG9zdFJlcXVlc3RCb2R5IiwiX3VybCIsInNlbmREYXRhIiwiZnVuYyIsImRhdGFUeXBlIiwidGhpcyIsIlBvc3QiLCJQb3N0U3luYyIsImNvbnRlbnRUeXBlIiwiaXNBc3luYyIsInVybCIsIkJhc2VVdGlsaXR5IiwiQnVpbGRBY3Rpb24iLCJ1bmRlZmluZWQiLCJpbm5lclJlc3VsdCIsIiQiLCJhamF4IiwidHlwZSIsImNhY2hlIiwiYXN5bmMiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsIm1lc3NhZ2UiLCJEaWFsb2dVdGlsaXR5IiwiQWxlcnQiLCJ3aW5kb3ciLCJEaWFsb2dBbGVydElkIiwiUmVkaXJlY3RUb0xvZ2luIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJjb21wbGV0ZSIsIm1zZyIsImVycm9yIiwicmVzcG9uc2VUZXh0IiwiaW5kZXhPZiIsInN0YXR1cyIsIkdldFN5bmMiLCJHZXQiLCJCdWlsZFVybCIsIkdldFJvb3RQYXRoIiwiZnVsbEhyZWYiLCJkb2N1bWVudCIsImxvY2F0aW9uIiwiaHJlZiIsInBhdGhOYW1lIiwicGF0aG5hbWUiLCJsYWMiLCJzdWJzdHJpbmciLCJzdWJzdHIiLCJSZXBsYWNlVXJsVmFyaWFibGUiLCJzb3VyY2VVcmwiLCJhbGVydCIsIkdldFRvcFdpbmRvdyIsIlRyeVNldENvbnRyb2xGb2N1cyIsIkJ1aWxkVmlldyIsImFjdGlvbiIsInBhcmEiLCJTdHJpbmdVdGlsaXR5IiwiRW5kV2l0aCIsIkFsZXJ0VGV4dCIsInVybFBhcmEiLCJwYXJhbSIsIkFwcGVuZFRpbWVTdGFtcFVybCIsInBhcmVudCIsImdldFRpbWVzdGFtcCIsIkRhdGUiLCJnZXRUaW1lIiwiR2V0VXJsUGFyYVZhbHVlIiwicGFyYU5hbWUiLCJHZXRVcmxQYXJhVmFsdWVCeVN0cmluZyIsInNlYXJjaCIsInVybFN0cmluZyIsInJlZyIsIlJlZ0V4cCIsInIiLCJtYXRjaCIsImRlY29kZVVSSUNvbXBvbmVudCIsIkJyb3dzZXJJbmZvVXRpbGl0eSIsIkJyb3dzZXJBcHBOYW1lIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiSXNJRSIsIkFjdGl2ZVhPYmplY3QiLCJJc0lFNiIsIklzSUU3IiwiSXNJRTgiLCJJc0lFOFg2NCIsIklzSUU5IiwiSXNJRTlYNjQiLCJJc0lFMTAiLCJJc0lFMTBYNjQiLCJJRURvY3VtZW50TW9kZSIsImRvY3VtZW50TW9kZSIsIklzSUU4RG9jdW1lbnRNb2RlIiwiSXNGaXJlZm94IiwiSXNDaHJvbWUiLCJDYWNoZURhdGFVdGlsaXR5IiwiSW5pbkNsaWVudENhY2hlIiwiR2V0Q3VycmVudFVzZXJJbmZvIiwiX0N1cnJlbnRVc2VySW5mbyIsIkNvb2tpZVV0aWxpdHkiLCJTZXRDb29raWUxRGF5IiwibmFtZSIsInZhbHVlIiwiZXhwIiwic2V0VGltZSIsImNvb2tpZSIsImVzY2FwZSIsInRvR01UU3RyaW5nIiwiU2V0Q29va2llMU1vbnRoIiwiU2V0Q29va2llMVllYXIiLCJHZXRDb29raWUiLCJhcnIiLCJ1bmVzY2FwZSIsIkRlbENvb2tpZSIsImN2YWwiLCJnZXRDb29raWUiLCJEYXRlVXRpbGl0eSIsIkdldEN1cnJlbnREYXRhU3RyaW5nIiwic3BsaXQiLCJEYXRlRm9ybWF0IiwibXlEYXRlIiwiRm9ybWF0IiwiZm9ybWF0U3RyaW5nIiwibyIsIk0rIiwiZ2V0TW9udGgiLCJkKyIsImdldERhdGUiLCJoKyIsImdldEhvdXJzIiwibSsiLCJnZXRNaW51dGVzIiwicysiLCJnZXRTZWNvbmRzIiwicSsiLCJNYXRoIiwiZmxvb3IiLCJTIiwiZ2V0TWlsbGlzZWNvbmRzIiwiayIsInRlc3QiLCJyZXBsYWNlIiwiJDEiLCJnZXRGdWxsWWVhciIsImxlbmd0aCIsIkZvcm1hdEN1cnJlbnREYXRhIiwiR2V0Q3VycmVudERhdGEiLCJEZXRhaWxQYWdlVXRpbGl0eSIsIklWaWV3UGFnZVRvVmlld1N0YXR1cyIsIk92ZXJyaWRlT2JqZWN0VmFsdWUiLCJzb3VyY2VPYmplY3QiLCJkYXRhT2JqZWN0Iiwia2V5IiwiQmluZEZvcm1EYXRhIiwiaW50ZXJmYWNlVXJsIiwidnVlRm9ybURhdGEiLCJyZWNvcmRJZCIsIm9wIiwiYmVmRnVuYyIsImFmRnVuYyIsIkRpYWxvZ1Byb21wdElkIiwiRGlhbG9nSWQiLCJEaWFsb2dJZDAyIiwiRGlhbG9nSWQwMyIsIkRpYWxvZ0lkMDQiLCJEaWFsb2dJZDA1IiwiX0dldEVsZW0iLCJkaWFsb2dJZCIsIl9DcmVhdGVEaWFsb2dFbGVtIiwiZG9jb2JqIiwiZGlhbG9nRWxlIiwiYm9keSIsImFwcGVuZCIsIl9DcmVhdGVBbGVydExvYWRpbmdNc2dFbGVtZW50IiwiX0NyZWF0ZUlmcm1hZURpYWxvZ0VsZW1lbnQiLCJkaWFsb2dpZCIsIl9UZXN0RGlhbG9nRWxlbUlzRXhpc3QiLCJfVGVzdFJ1bkVuYWJsZSIsIkFsZXJ0RXJyb3IiLCJvcGVyZXJXaW5kb3ciLCJjb25maWciLCJodG1sbXNnIiwic0Z1bmMiLCJkZWZhdWx0Q29uZmlnIiwiaGVpZ2h0Iiwid2lkdGgiLCJleHRlbmQiLCJ0ZXh0IiwiaHRtbEVsZW0iLCJ0aXRsZSIsInNob3ciLCJtb2RhbCIsImJ1dHRvbnMiLCLlhbPpl60iLCJkaWFsb2ciLCJvcGVuIiwiY2xvc2UiLCJodG1sIiwiQWxlcnRKc29uQ29kZSIsImpzb24iLCJKc29uVXRpbGl0eSIsIkpzb25Ub1N0cmluZ0Zvcm1hdCIsImNscyIsIlNob3dIVE1MIiwiY2xvc2VfYWZ0ZXJfZXZlbnQiLCJwYXJhbXMiLCJldmVudCIsInVpIiwiQWxlcnRMb2FkaW5nIiwiZmluZCIsIkNvbmZpcm0iLCJva0ZuIiwiQ29uZmlybUNvbmZpZyIsInBhcmFzIiwib2tmdW5jIiwiY2FuY2VsZnVuYyIsInZhbGlkYXRlZnVuYyIsImNsb3NlYWZ0ZXJmdW5jIiwi56Gu6K6kIiwi5Y+W5raIIiwiRWxlbWVudE9iaiIsIlByb21wdCIsImxhYmVsTXNnIiwib2tGdW5jIiwidGV4dEFyZWEiLCJpbnB1dFRleHQiLCJ2YWwiLCJjc3MiLCJodG1sQ29udGVudCIsIkRpYWxvZ0VsZW0iLCJlbGVtIiwiT3BlbklmcmFtZVdpbmRvdyIsIm9wZW5lcndpbmRvdyIsIm9wdGlvbnMiLCJ3aHR5cGUiLCJkZWZhdWx0b3B0aW9ucyIsImF1dG9kaWFsb2dpZCIsImF0dHIiLCJyZW1vdmUiLCJDb2xsZWN0R2FyYmFnZSIsImZvY3VzIiwiUGFnZVN0eWxlVXRpbCIsIkdldFBhZ2VXaWR0aCIsIkdldFBhZ2VIZWlnaHQiLCJkaWFsb2dPYmoiLCIkaWZyYW1lb2JqIiwic3JjIiwiY29udGVudFdpbmRvdyIsIkZyYW1lV2luZG93SWQiLCJPcGVuZXJXaW5kb3dPYmoiLCJDbG9zZU9wZW5JZnJhbWVXaW5kb3ciLCJDbG9zZURpYWxvZyIsIk9wZW5OZXdXaW5kb3ciLCJsZWZ0IiwicGFyc2VJbnQiLCJzY3JlZW4iLCJhdmFpbFdpZHRoIiwidG9TdHJpbmciLCJ0b3AiLCJhdmFpbEhlaWdodCIsIl9UcnlHZXRQYXJlbnRXaW5kb3ciLCJ3aW4iLCJfRnJhbWVfVHJ5R2V0RnJhbWVXaW5kb3dPYmoiLCJ0cnlmaW5kdGltZSIsImN1cnJlbnR0cnlmaW5kdGltZSIsIklzVG9wRnJhbWVQYWdlIiwiX09wZW5XaW5kb3dJbkZyYW1lUGFnZSIsIklzTnVsbE9yRW1wdHkiLCJGcmFtZVBhZ2VSZWYiLCJQYWdlU3R5bGVVdGlsaXR5Iiwib24iLCJJc09wZW5Gb3JGcmFtZSIsIl9GcmFtZV9GcmFtZVBhZ2VDbG9zZURpYWxvZyIsIkZyYW1lX1RyeUdldEZyYW1lV2luZG93T2JqIiwiRnJhbWVfQWxlcnQiLCJGcmFtZV9Db21maXJtIiwiRnJhbWVfT3BlbklmcmFtZVdpbmRvdyIsIndyd2luIiwiRnJhbWVfQ2xvc2VEaWFsb2ciLCJEaWN0aW9uYXJ5VXRpbGl0eSIsIl9Hcm91cFZhbHVlTGlzdEpzb25Ub1NpbXBsZUpzb24iLCJHcm91cFZhbHVlTGlzdEpzb25Ub1NpbXBsZUpzb24iLCJzb3VyY2VEaWN0aW9uYXJ5SnNvbiIsImdyb3VwVmFsdWUiLCJpIiwiZGljdFZhbHVlIiwiZGljdFRleHQiLCJ3YXJuIiwiRGF0ZUV4dGVuZF9EYXRlRm9ybWF0IiwiZGF0ZSIsImZtdCIsInJlZkNzc0xpbmsiLCJoZWFkIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJyZWwiLCJhcHBlbmRDaGlsZCIsInNoZWV0Iiwic3R5bGVTaGVldCIsInByb3RvdHlwZSIsInRvSlNPTiIsIk9iamVjdCIsImNyZWF0ZSIsIkYiLCJhcmd1bWVudHMiLCJFcnJvciIsImZuIiwib3V0ZXJIVE1MIiwiZWwiLCJkaXYiLCJjbG9uZU5vZGUiLCJjb250ZW50cyIsImlubmVySFRNTCIsIlBhcnNlQXJyYXlKc29uVG9UcmVlSnNvbiIsInNvdXJjZUFycmF5Iiwicm9vdElkIiwicm9vdEpzb24iLCJrZXlGaWVsZCIsImlkIiwiRmluZEpzb25CeUlkIiwiS2V5RmllbGQiLCJGaW5kQ2hpbGROb2RlQW5kUGFyc2UiLCJwaWQiLCJjaGlsZGpzb25zIiwicmVsYXRpb25GaWVsZCIsInB1c2giLCJGaW5kQ2hpbGRKc29uIiwiUmVsYXRpb25GaWVsZCIsIkNoaWxkRmllbGROYW1lIiwidG9PYmoiLCJTaW1wbGVDbG9uZUF0dHIiLCJSZXNvbHZlU2ltcGxlQXJyYXlKc29uVG9UcmVlSnNvbiIsInNvdXJjZUpzb24iLCJyb290Tm9kZUlkIiwiZnJvbU9iaiIsIkNsb25lU2ltcGxlIiwic291cmNlIiwialF1ZXJ5IiwiSnNvblRvU3RyaW5nIiwib2JqIiwiSlNPTiIsInN0cmluZ2lmeSIsIlN0cmluZ1RvSnNvbiIsInN0ciIsImV2YWwiLCJMaXN0UGFnZVV0aWxpdHkiLCJHZXRHZW5lcmFsUGFnZUhlaWdodCIsImZpeEhlaWdodCIsInBhZ2VIZWlnaHQiLCJvdXRlckhlaWdodCIsIkdldEZpeEhlaWdodCIsIklWaWV3VGFibGVSZW5kZXJlciIsIlRvRGF0ZVlZWVlfTU1fREQiLCJoIiwiZGF0ZXRpbWUiLCJTdHJpbmdUb0RhdGVZWVlZX01NX0REIiwiVG9TdGF0dXNFbmFibGUiLCJUb1llc05vRW5hYmxlIiwiVG9EaWN0aW9uYXJ5VGV4dCIsImRpY3Rpb25hcnlKc29uIiwiZGljdGlvbmFyeVZhbHVlIiwic2ltcGxlRGljdGlvbmFyeUpzb24iLCJJVmlld1RhYmxlTWFyZVN1cmVTZWxlY3RlZCIsInNlbGVjdGlvblJvd3MiLCJ0aGVuIiwiSVZpZXdUYWJsZU1hcmVTdXJlU2VsZWN0ZWRPbmUiLCJJVmlld0NoYW5nZVNlcnZlclN0YXR1cyIsImlkRmllbGQiLCJzdGF0dXNOYW1lIiwicGFnZUFwcE9iaiIsImlkQXJyYXkiLCJBcnJheSIsImlkcyIsImpvaW4iLCJyZWxvYWREYXRhIiwiSVZpZXdNb3ZlRmFjZSIsIklWaWV3Q2hhbmdlU2VydmVyU3RhdHVzRmFjZSIsIklWaWV3VGFibGVEZWxldGVSb3ciLCJJVmlld1RhYmxlTG9hZERhdGFTZWFyY2giLCJwYWdlTnVtIiwicGFnZVNpemUiLCJzZWFyY2hDb25kaXRpb24iLCJhdXRvU2VsZWN0ZWRPbGRSb3dzIiwic3VjY2Vzc0Z1bmMiLCJsb2FkRGljdCIsIlNlYXJjaFV0aWxpdHkiLCJTZXJpYWxpemF0aW9uU2VhcmNoQ29uZGl0aW9uIiwidGFibGVEYXRhIiwibGlzdCIsInBhZ2VUb3RhbCIsInRvdGFsIiwiaiIsIl9jaGVja2VkIiwiSVZpZXdUYWJsZUxvYWREYXRhTm9TZWFyY2giLCJJVmlld1RhYmxlSW5uZXJCdXR0b24iLCJWaWV3QnV0dG9uIiwiY2xhc3MiLCJjbGljayIsInZpZXciLCJyb3ciLCJFZGl0QnV0dG9uIiwiZWRpdCIsIkRlbGV0ZUJ1dHRvbiIsImRlbCIsIkdldFdpbmRvd0hlaWdodCIsIkdldFdpbmRvd1dpZHRoIiwiR2V0TGlzdEJ1dHRvbk91dGVySGVpZ2h0IiwiU2VhcmNoRmllbGRUeXBlIiwiSW50VHlwZSIsIk51bWJlclR5cGUiLCJEYXRhVHlwZSIsIkxpa2VTdHJpbmdUeXBlIiwiTGVmdExpa2VTdHJpbmdUeXBlIiwiUmlnaHRMaWtlU3RyaW5nVHlwZSIsIlN0cmluZ1R5cGUiLCJEYXRhU3RyaW5nVHlwZSIsIkFycmF5TGlrZVN0cmluZ1R5cGUiLCJzZWFyY2hDb25kaXRpb25DbG9uZSIsIkpCdWlsZDREU2VsZWN0VmlldyIsIlNlbGVjdEVudlZhcmlhYmxlIiwiVVJMIiwiYmVnaW5TZWxlY3QiLCJpbnN0YW5jZU5hbWUiLCJiZWdpblNlbGVjdEluRnJhbWUiLCJvcGVuZXIiLCJvcHRpb24iLCJmb3JtYXRUZXh0IiwiU2VsZWN0QmluZFRvRmllbGQiLCJTZWxlY3RWYWxpZGF0ZVJ1bGUiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsIkdldFRpbWVTdGFtcFVybCIsIkdldEFsbFF1ZXJ5U3RyaW5nIiwiUXVlcnlTdHJpbmciLCJmaWVsZE5hbWUiLCJRdWVyeVN0cmluZ1VybFN0cmluZyIsIlhNTEVuY29kZSIsIlhNTERlQ29kZSIsIkhUTUxFbmNvZGUiLCJIVE1MRGVjb2RlIiwiR3VpZE5vdFNwbGl0IiwiR3VpZFNwbGl0IiwiZ3VpZCIsInJhbmRvbSIsIkd1aWQiLCJSVGltZXN0YW1wIiwiVGltZXN0YW1wIiwiVHJpbSIsIkxUcmltIiwiUlRyaW0iLCJUcmltTGFzdENoYXIiLCJSZW1vdmVMYXN0Q2hhciIsIkxldmVsMUpzb25Ub1N0cmluZyIsImpzb25PYmoiLCJMZXZlbDFKc29uVG9TdHJpbmdLZXlTdHJpbmciLCJMZXZlbDFKc29uVG9TdHJpbmdWYWx1ZUVuY29kZSIsIkxldmVsMVN0cmluZ1RvSnNvblZhbHVlRGVjb2RlIiwiR2V0QnJpdGhkYXlCeUlkQ2FyZCIsIkdldFNleEJ5SWRDYXJkIiwiSXNOdWxsT3JFbXB0eU9iamVjdCIsIkdldEZ1bnRpb25OYW1lIiwiZk5hbWUiLCJUb0xvd2VyQ2FzZSIsInRvTG93ZXJDYXNlIiwidG9VcHBlckNhc2UiLCJQYWRkaW5nIiwibnVtIiwiZW5kU3RyIiwiZCJdLCJtYXBwaW5ncyI6IkFBQUEsYUFHQSxJQUFBQSxZQUFBLENBQ0FDLGdCQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FDLEtBQUFDLEtBQUFMLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUEsb0NBRUFHLFNBQUEsU0FBQU4sRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUksR0FFQSxPQURBSCxLQUFBQyxLQUFBTCxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBSSxHQUFBLElBR0FGLEtBQUEsU0FBQUwsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUksRUFBQUMsR0FDQSxJQUFBQyxFQUFBQyxZQUFBQyxZQUFBWCxHQUVBWSxNQUFBVCxHQUFBLE1BQUFBLElBQ0FBLEVBQUEsUUFHQVMsTUFBQUosR0FBQSxNQUFBQSxJQUNBQSxHQUFBLEdBR0FJLE1BQUFMLEdBQUEsTUFBQUEsSUFDQUEsRUFBQSxvREFHQSxJQUFBTSxFQUFBLEtBd0NBLE9BdkNBQyxFQUFBQyxLQUFBLENBQ0FDLEtBQUEsT0FDQVAsSUFBQUEsRUFDQVEsT0FBQSxFQUNBQyxNQUFBVixFQUNBRCxZQUFBQSxFQUVBSixTQUFBQSxFQUNBZ0IsS0FBQWxCLEVBQ0FtQixRQUFBLFNBQUFDLEdBQ0EsSUFDQSxNQUFBQSxHQUFBLE1BQUFBLEVBQUFELFNBQUFDLEVBQUFELFNBQ0EsZUFBQUMsRUFBQUMsU0FDQUMsY0FBQUMsTUFBQUMsT0FBQUYsY0FBQUcsY0FBQSxHQUFBLG9CQUFBLFdBQ0FoQixZQUFBaUIsb0JBSUEsTUFBQUMsR0FDQUMsUUFBQUMsSUFB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LFNBQUFySCxHQUNBdFMsTUFBQSxxQ0FPQXlOLGNBQUEsU0FBQXlFLEdBQ0EsT0FBQTFVLE1BQUEwVSxHQUFBLElBQUFBLEdBQUEsTUFBQUEsR0FBQSxhQUFBQSxHQUFBLFFBQUFBLEdBRUEwSCxvQkFBQSxTQUFBMUgsR0FDQWxTLE1BQUEsMENBRUE2WixlQUFBLFNBQUEvYyxHQUNBLEdBQUEsbUJBQUFBLEdBQUEsVUFBQThhLFFBQUE5YSxHQUFBLElBQUFnZCxHQUFBLEdBQUFoZCxHQUFBMEUsTUFBQSw2QkFDQSxHQUFBLE9BQUFzWSxFQUFBLE9BQUFBLEVBQUEsSUFFQUMsWUFBQSxTQUFBekgsR0FDQSxPQUFBQSxFQUFBMEgsZUFFQUMsWUFBQSxTQUFBM0gsR0FDQSxPQUFBQSxFQUFBMkgsZUFFQUMsUUFBQSxTQUFBQyxFQUFBclUsR0FDQTlGLE1BQUEsOEJDOVVBTyxRQUFBLFNBQUErUixFQUFBOEgsR0FDQSxJQUFBQyxFQUFBL0gsRUFBQXhNLE9BQUFzVSxFQUFBdFUiLCJmaWxlIjoiSkJ1aWxkNERQbGF0Zm9ybUxpYi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vL0FqYXjlpITnkIblt6XlhbfnsbtcbnZhciBBamF4VXRpbGl0eSA9IHtcbiAgUG9zdFJlcXVlc3RCb2R5OiBmdW5jdGlvbiBQb3N0UmVxdWVzdEJvZHkoX3VybCwgc2VuZERhdGEsIGZ1bmMsIGRhdGFUeXBlKSB7XG4gICAgdGhpcy5Qb3N0KF91cmwsIHNlbmREYXRhLCBmdW5jLCBkYXRhVHlwZSwgXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIpO1xuICB9LFxuICBQb3N0U3luYzogZnVuY3Rpb24gUG9zdFN5bmMoX3VybCwgc2VuZERhdGEsIGZ1bmMsIGRhdGFUeXBlLCBjb250ZW50VHlwZSkge1xuICAgIHZhciByZXN1bHQgPSB0aGlzLlBvc3QoX3VybCwgc2VuZERhdGEsIGZ1bmMsIGRhdGFUeXBlLCBjb250ZW50VHlwZSwgZmFsc2UpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG4gIFBvc3Q6IGZ1bmN0aW9uIFBvc3QoX3VybCwgc2VuZERhdGEsIGZ1bmMsIGRhdGFUeXBlLCBjb250ZW50VHlwZSwgaXNBc3luYykge1xuICAgIHZhciB1cmwgPSBCYXNlVXRpbGl0eS5CdWlsZEFjdGlvbihfdXJsKTtcblxuICAgIGlmIChkYXRhVHlwZSA9PSB1bmRlZmluZWQgfHwgZGF0YVR5cGUgPT0gbnVsbCkge1xuICAgICAgZGF0YVR5cGUgPSBcInRleHRcIjtcbiAgICB9XG5cbiAgICBpZiAoaXNBc3luYyA9PSB1bmRlZmluZWQgfHwgaXNBc3luYyA9PSBudWxsKSB7XG4gICAgICBpc0FzeW5jID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoY29udGVudFR5cGUgPT0gdW5kZWZpbmVkIHx8IGNvbnRlbnRUeXBlID09IG51bGwpIHtcbiAgICAgIGNvbnRlbnRUeXBlID0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIjtcbiAgICB9XG5cbiAgICB2YXIgaW5uZXJSZXN1bHQgPSBudWxsO1xuICAgICQuYWpheCh7XG4gICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgIHVybDogdXJsLFxuICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgYXN5bmM6IGlzQXN5bmMsXG4gICAgICBjb250ZW50VHlwZTogY29udGVudFR5cGUsXG4gICAgICAvL1wiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLCovXG4gICAgICBkYXRhVHlwZTogZGF0YVR5cGUsXG4gICAgICBkYXRhOiBzZW5kRGF0YSxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzdWx0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsICYmIHJlc3VsdC5zdWNjZXNzICE9IG51bGwgJiYgIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0Lm1lc3NhZ2UgPT0gXCLnmbvlvZVTZXNzaW9u6L+H5pyfXCIpIHtcbiAgICAgICAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydCh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nQWxlcnRJZCwge30sIFwiU2Vzc2lvbui2heaXtu+8jOivt+mHjeaWsOeZu+mZhuezu+e7n1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgQmFzZVV0aWxpdHkuUmVkaXJlY3RUb0xvZ2luKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWpheFV0aWxpdHkuUG9zdCBFeGNlcHRpb24gXCIgKyB1cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuYyhyZXN1bHQpO1xuICAgICAgICBpbm5lclJlc3VsdCA9IHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUobXNnKSB7Ly9kZWJ1Z2dlcjtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IobXNnKSB7XG4gICAgICAgIC8vZGVidWdnZXI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKG1zZy5yZXNwb25zZVRleHQuaW5kZXhPZihcIuivt+mHjeaWsOeZu+mZhuezu+e7n1wiKSA+PSAwKSB7XG4gICAgICAgICAgICBCYXNlVXRpbGl0eS5SZWRpcmVjdFRvTG9naW4oKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xuICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBcIkFqYXhVdGlsaXR5LlBvc3QuRXJyb3JcIiwge30sIFwiQWpheOivt+axguWPkeeUn+mUmeivr++8gVwiICsgXCJzdGF0dXM6XCIgKyBtc2cuc3RhdHVzICsgXCIscmVzcG9uc2VUZXh0OlwiICsgbXNnLnJlc3BvbnNlVGV4dCwgbnVsbCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGlubmVyUmVzdWx0O1xuICB9LFxuICBHZXRTeW5jOiBmdW5jdGlvbiBHZXRTeW5jKF91cmwsIHNlbmREYXRhLCBmdW5jLCBkYXRhVHlwZSkge1xuICAgIHRoaXMuUG9zdChfdXJsLCBzZW5kRGF0YSwgZnVuYywgZGF0YVR5cGUsIGZhbHNlKTtcbiAgfSxcbiAgR2V0OiBmdW5jdGlvbiBHZXQoX3VybCwgc2VuZERhdGEsIGZ1bmMsIGRhdGFUeXBlLCBpc0FzeW5jKSB7XG4gICAgdmFyIHVybCA9IEJhc2VVdGlsaXR5LkJ1aWxkVXJsKF91cmwpO1xuXG4gICAgaWYgKGRhdGFUeXBlID09IHVuZGVmaW5lZCB8fCBkYXRhVHlwZSA9PSBudWxsKSB7XG4gICAgICBkYXRhVHlwZSA9IFwidGV4dFwiO1xuICAgIH1cblxuICAgIGlmIChpc0FzeW5jID09IHVuZGVmaW5lZCB8fCBpc0FzeW5jID09IG51bGwpIHtcbiAgICAgIGlzQXN5bmMgPSB0cnVlO1xuICAgIH1cblxuICAgICQuYWpheCh7XG4gICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBjYWNoZTogZmFsc2UsXG4gICAgICBhc3luYzogaXNBc3luYyxcbiAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgIGRhdGFUeXBlOiBkYXRhVHlwZSxcbiAgICAgIGRhdGE6IHNlbmREYXRhLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXN1bHQpIHtcbiAgICAgICAgZnVuYyhyZXN1bHQpO1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShtc2cpIHsvL2RlYnVnZ2VyO1xuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihtc2cpIHtcbiAgICAgICAgZGVidWdnZXI7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8v5Z+656GA5bel5YW3XG52YXIgQmFzZVV0aWxpdHkgPSB7XG4gIEdldFJvb3RQYXRoOiBmdW5jdGlvbiBHZXRSb290UGF0aCgpIHtcbiAgICB2YXIgZnVsbEhyZWYgPSB3aW5kb3cuZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcbiAgICB2YXIgcGF0aE5hbWUgPSB3aW5kb3cuZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgdmFyIGxhYyA9IGZ1bGxIcmVmLmluZGV4T2YocGF0aE5hbWUpO1xuICAgIHZhciBsb2NhbGhvc3RQYXRoID0gZnVsbEhyZWYuc3Vic3RyaW5nKDAsIGxhYyk7XG4gICAgdmFyIHByb2plY3ROYW1lID0gcGF0aE5hbWUuc3Vic3RyaW5nKDAsIHBhdGhOYW1lLnN1YnN0cigxKS5pbmRleE9mKCcvJykgKyAxKTtcbiAgICByZXR1cm4gbG9jYWxob3N0UGF0aCArIHByb2plY3ROYW1lO1xuICB9LFxuICBSZXBsYWNlVXJsVmFyaWFibGU6IGZ1bmN0aW9uIFJlcGxhY2VVcmxWYXJpYWJsZShzb3VyY2VVcmwpIHtcbiAgICBhbGVydChcIlJlcGxhY2VVcmxWYXJpYWJsZei/geenu+WIsEJ1aWxkQWN0aW9uXCIpOyAvL3JldHVybiBzb3VyY2VVcmwucmVwbGFjZShcIiR7Y3R4cGF0aH1cIiwgdGhpcy5HZXRSb290UGF0aCgpKTtcbiAgfSxcbiAgR2V0VG9wV2luZG93OiBmdW5jdGlvbiBHZXRUb3BXaW5kb3coKSB7XG4gICAgYWxlcnQoXCJCYXNlVXRpbGl0eS5HZXRUb3BXaW5kb3cg5bey5YGc55SoXCIpO1xuICAgIC8qdmFyIHdpbmRvd1RvcCA9IHdpbmRvdztcclxuICAgIHZhciB3aW5kb3dQYXJlbnQgPSB3aW5kb3cuZGlhbG9nQXJndW1lbnRzIHx8IG9wZW5lciB8fCBwYXJlbnQ7XHJcbiAgICB3aGlsZSAod2luZG93UGFyZW50ICYmIHdpbmRvd1RvcCAhPSB3aW5kb3dQYXJlbnQpIHtcclxuICAgICAgICB3aW5kb3dUb3AgPSB3aW5kb3dQYXJlbnQ7XHJcbiAgICAgICAgaWYod2luZG93VG9wLklzVG9wV29ya2Fyb3VuZFBhZ2Upe1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93UGFyZW50ID0gd2luZG93UGFyZW50LmRpYWxvZ0FyZ3VtZW50cyB8fCB3aW5kb3dQYXJlbnQub3BlbmVyIHx8IHdpbmRvd1BhcmVudC5wYXJlbnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gd2luZG93VG9wOyovXG4gIH0sXG4gIFRyeVNldENvbnRyb2xGb2N1czogZnVuY3Rpb24gVHJ5U2V0Q29udHJvbEZvY3VzKCkge1xuICAgIGFsZXJ0KFwiQmFzZVV0aWxpdHkuVHJ5U2V0Q29udHJvbEZvY3VzIOW3suWBnOeUqFwiKTtcbiAgICAvKnZhciBjdHM9JChcImlucHV0W3R5cGU9J3RleHQnXVwiKTtcclxuICAgIGZvcih2YXIgaT0wO2k8Y3RzLmxlbmd0aDtpKyspe1xyXG4gICAgICAgIHZhciBjdD0kKGN0c1tpXSk7XHJcbiAgICAgICAgaWYgKGN0LmF0dHIoXCJyZWFkb25seVwiKSAhPSBcInJlYWRvbmx5XCImJiBjdC5hdHRyKFwiZGlzYWJsZWRcIikgIT0gXCJkaXNhYmxlZFwiKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjdFswXS5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfSovXG4gIH0sXG4gIEJ1aWxkVXJsOiBmdW5jdGlvbiBCdWlsZFVybCh1cmwpIHtcbiAgICBhbGVydChcIkJhc2VVdGlsaXR5LkJ1aWxkVXJsIOW3suWBnOeUqFwiKTtcbiAgICAvKnZhciBfdXJsPXRoaXMuR2V0Um9vdFBhdGgoKSt1cmw7XHJcbiAgICByZXR1cm4gU3RyaW5nVXRpbGl0eS5HZXRUaW1lU3RhbXBVcmwoX3VybCk7Ki9cbiAgfSxcbiAgQnVpbGRWaWV3OiBmdW5jdGlvbiBCdWlsZFZpZXcoYWN0aW9uLCBwYXJhKSB7XG4gICAgLy9kZWJ1Z2dlcjtcbiAgICAvL2FsZXJ0KDExKTtcbiAgICAvL2FsZXJ0KFN0cmluZ1V0aWxpdHkuRW5kV2l0aChhY3Rpb24sXCJWaWV3XCIpKTtcbiAgICBpZiAoU3RyaW5nVXRpbGl0eS5FbmRXaXRoKGFjdGlvbiwgXCJWaWV3XCIpKSB7XG4gICAgICByZXR1cm4gdGhpcy5CdWlsZEFjdGlvbihhY3Rpb24sIHBhcmEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0VGV4dChhY3Rpb24gKyBcIuinhuWbvlVybOivt+eUqFZpZXfkvZzkuLrnu5PlsL4uXCIpO1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICB9LFxuICBCdWlsZEFjdGlvbjogZnVuY3Rpb24gQnVpbGRBY3Rpb24oYWN0aW9uLCBwYXJhKSB7XG4gICAgdmFyIHVybFBhcmEgPSBcIlwiO1xuXG4gICAgaWYgKHBhcmEpIHtcbiAgICAgIHVybFBhcmEgPSAkLnBhcmFtKHBhcmEpO1xuICAgIH1cblxuICAgIHZhciBfdXJsID0gdGhpcy5HZXRSb290UGF0aCgpICsgYWN0aW9uICsgXCIuZG9cIjtcblxuICAgIGlmICh1cmxQYXJhICE9IFwiXCIpIHtcbiAgICAgIF91cmwgKz0gXCI/XCIgKyB1cmxQYXJhO1xuICAgIH0gLy9hbGVydChfdXJsKTtcblxuXG4gICAgcmV0dXJuIHRoaXMuQXBwZW5kVGltZVN0YW1wVXJsKF91cmwpO1xuICB9LFxuICBSZWRpcmVjdFRvTG9naW46IGZ1bmN0aW9uIFJlZGlyZWN0VG9Mb2dpbigpIHtcbiAgICB2YXIgdXJsID0gQmFzZVV0aWxpdHkuR2V0Um9vdFBhdGgoKSArIFwiL0xvZ2luVmlldy5kb1wiO1xuICAgIHdpbmRvdy5wYXJlbnQucGFyZW50LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gIH0sXG4gIEFwcGVuZFRpbWVTdGFtcFVybDogZnVuY3Rpb24gQXBwZW5kVGltZVN0YW1wVXJsKHVybCkge1xuICAgIGlmICh1cmwuaW5kZXhPZihcInRpbWVzdGFtcFwiKSA+IFwiMFwiKSB7XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cblxuICAgIHZhciBnZXRUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIGlmICh1cmwuaW5kZXhPZihcIj9cIikgPiAtMSkge1xuICAgICAgdXJsID0gdXJsICsgXCImdGltZXN0YW1wPVwiICsgZ2V0VGltZXN0YW1wO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgPSB1cmwgKyBcIj90aW1lc3RhbXA9XCIgKyBnZXRUaW1lc3RhbXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybDtcbiAgfSxcbiAgR2V0VXJsUGFyYVZhbHVlOiBmdW5jdGlvbiBHZXRVcmxQYXJhVmFsdWUocGFyYU5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5HZXRVcmxQYXJhVmFsdWVCeVN0cmluZyhwYXJhTmFtZSwgd2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gIH0sXG4gIEdldFVybFBhcmFWYWx1ZUJ5U3RyaW5nOiBmdW5jdGlvbiBHZXRVcmxQYXJhVmFsdWVCeVN0cmluZyhwYXJhTmFtZSwgdXJsU3RyaW5nKSB7XG4gICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoXCIoXnwmKVwiICsgcGFyYU5hbWUgKyBcIj0oW14mXSopKCZ8JClcIik7XG4gICAgdmFyIHIgPSB1cmxTdHJpbmcuc3Vic3RyKDEpLm1hdGNoKHJlZyk7XG4gICAgaWYgKHIgIT0gbnVsbCkgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyWzJdKTtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy/mtY/op4jkuIvkv6Hmga/nsbtcbnZhciBCcm93c2VySW5mb1V0aWxpdHkgPSB7XG4gIEJyb3dzZXJBcHBOYW1lOiBmdW5jdGlvbiBCcm93c2VyQXBwTmFtZSgpIHtcbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRmlyZWZveFwiKSA+IDApIHtcbiAgICAgIHJldHVybiBcIkZpcmVmb3hcIjtcbiAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUVcIikgPiAwKSB7XG4gICAgICByZXR1cm4gXCJJRVwiO1xuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQ2hyb21lXCIpID4gMCkge1xuICAgICAgcmV0dXJuIFwiQ2hyb21lXCI7XG4gICAgfVxuICB9LFxuICBJc0lFOiBmdW5jdGlvbiBJc0lFKCkge1xuICAgIGlmICghIXdpbmRvdy5BY3RpdmVYT2JqZWN0IHx8IFwiQWN0aXZlWE9iamVjdFwiIGluIHdpbmRvdykgcmV0dXJuIHRydWU7ZWxzZSByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIElzSUU2OiBmdW5jdGlvbiBJc0lFNigpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSA2LjBcIikgPiAwO1xuICB9LFxuICBJc0lFNzogZnVuY3Rpb24gSXNJRTcoKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgNy4wXCIpID4gMDtcbiAgfSxcbiAgSXNJRTg6IGZ1bmN0aW9uIElzSUU4KCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDguMFwiKSA+IDA7XG4gIH0sXG4gIElzSUU4WDY0OiBmdW5jdGlvbiBJc0lFOFg2NCgpIHtcbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSA4LjBcIikgPiAwKSB7XG4gICAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwieDY0XCIpID4gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIElzSUU5OiBmdW5jdGlvbiBJc0lFOSgpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSA5LjBcIikgPiAwO1xuICB9LFxuICBJc0lFOVg2NDogZnVuY3Rpb24gSXNJRTlYNjQoKSB7XG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgOS4wXCIpID4gMCkge1xuICAgICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIng2NFwiKSA+IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBJc0lFMTA6IGZ1bmN0aW9uIElzSUUxMCgpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSAxMC4wXCIpID4gMDtcbiAgfSxcbiAgSXNJRTEwWDY0OiBmdW5jdGlvbiBJc0lFMTBYNjQoKSB7XG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgMTAuMFwiKSA+IDApIHtcbiAgICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJ4NjRcIikgPiAwO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgSUVEb2N1bWVudE1vZGU6IGZ1bmN0aW9uIElFRG9jdW1lbnRNb2RlKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG4gIH0sXG4gIElzSUU4RG9jdW1lbnRNb2RlOiBmdW5jdGlvbiBJc0lFOERvY3VtZW50TW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5JRURvY3VtZW50TW9kZSgpID09IDg7XG4gIH0sXG4gIElzRmlyZWZveDogZnVuY3Rpb24gSXNGaXJlZm94KCkge1xuICAgIHJldHVybiB0aGlzLkJyb3dzZXJBcHBOYW1lKCkgPT0gXCJGaXJlZm94XCI7XG4gIH0sXG4gIElzQ2hyb21lOiBmdW5jdGlvbiBJc0Nocm9tZSgpIHtcbiAgICByZXR1cm4gdGhpcy5Ccm93c2VyQXBwTmFtZSgpID09IFwiQ2hyb21lXCI7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBDYWNoZURhdGFVdGlsaXR5ID0ge1xuICBJbmluQ2xpZW50Q2FjaGU6IGZ1bmN0aW9uIEluaW5DbGllbnRDYWNoZSgpIHtcbiAgICB0aGlzLkdldEN1cnJlbnRVc2VySW5mbygpO1xuICB9LFxuICAvL+eUqOaIt+ebuOWFs+S/oeaBr1xuICBfQ3VycmVudFVzZXJJbmZvOiBudWxsLFxuICBHZXRDdXJyZW50VXNlckluZm86IGZ1bmN0aW9uIEdldEN1cnJlbnRVc2VySW5mbygpIHtcbiAgICBpZiAodGhpcy5fQ3VycmVudFVzZXJJbmZvID09IG51bGwpIHtcbiAgICAgIGlmICh3aW5kb3cucGFyZW50LkNhY2hlRGF0YVV0aWxpdHkuX0N1cnJlbnRVc2VySW5mbyAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cucGFyZW50LkNhY2hlRGF0YVV0aWxpdHkuX0N1cnJlbnRVc2VySW5mbztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEFqYXhVdGlsaXR5LlBvc3RTeW5jKFwiL1BsYXRGb3JtL015SW5mby9HZXRVc2VySW5mb1wiLCB7fSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgQ2FjaGVEYXRhVXRpbGl0eS5fQ3VycmVudFVzZXJJbmZvID0gcmVzdWx0LmRhdGE7XG4gICAgICAgICAgfSBlbHNlIHt9XG4gICAgICAgIH0sIFwianNvblwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX0N1cnJlbnRVc2VySW5mbztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX0N1cnJlbnRVc2VySW5mbztcbiAgICB9XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBDb29raWVVdGlsaXR5ID0ge1xuICAvKipcclxuICAgKiDorr7nva5jb29raWVcclxuICAgKiBAcGFyYW0gbmFtZSAgY29va2ll5ZCN56ewXHJcbiAgICogQHBhcmFtIHZhbHVlICBjb29raWXlgLxcclxuICAgKi9cbiAgU2V0Q29va2llMURheTogZnVuY3Rpb24gU2V0Q29va2llMURheShuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBleHAgPSBuZXcgRGF0ZSgpOyAvL25ldyBEYXRlKFwiRGVjZW1iZXIgMzEsIDk5OThcIik7XG5cbiAgICBleHAuc2V0VGltZShleHAuZ2V0VGltZSgpICsgMjQgKiA2MCAqIDYwICogMTAwMCk7IC8vMeWkqVxuICAgIC8vIOi/memHjOS4gOWumuimgeWKoOS4inBhdGjjgILkuI3nhLbliLBpbmRleC5qc3DpobXpnaLljrvmuIXpmaRjb29raWXnmoTml7blgJnkvJrlh7rnjrDmib7kuI3liLBjb29raWXnmoTpl67popjjgIJcblxuICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj1cIiArIGVzY2FwZSh2YWx1ZSkgKyBcIjtleHBpcmVzPVwiICsgZXhwLnRvR01UU3RyaW5nKCkgKyBcIjtwYXRoPS9cIjtcbiAgfSxcbiAgU2V0Q29va2llMU1vbnRoOiBmdW5jdGlvbiBTZXRDb29raWUxTW9udGgobmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgZXhwID0gbmV3IERhdGUoKTsgLy9uZXcgRGF0ZShcIkRlY2VtYmVyIDMxLCA5OTk4XCIpO1xuXG4gICAgZXhwLnNldFRpbWUoZXhwLmdldFRpbWUoKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCk7IC8vMeaciFxuICAgIC8vIOi/memHjOS4gOWumuimgeWKoOS4inBhdGjjgILkuI3nhLbliLBpbmRleC5qc3DpobXpnaLljrvmuIXpmaRjb29raWXnmoTml7blgJnkvJrlh7rnjrDmib7kuI3liLBjb29raWXnmoTpl67popjjgIJcblxuICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj1cIiArIGVzY2FwZSh2YWx1ZSkgKyBcIjtleHBpcmVzPVwiICsgZXhwLnRvR01UU3RyaW5nKCkgKyBcIjtwYXRoPS9cIjtcbiAgfSxcbiAgU2V0Q29va2llMVllYXI6IGZ1bmN0aW9uIFNldENvb2tpZTFZZWFyKG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIGV4cCA9IG5ldyBEYXRlKCk7IC8vbmV3IERhdGUoXCJEZWNlbWJlciAzMSwgOTk5OFwiKTtcblxuICAgIGV4cC5zZXRUaW1lKGV4cC5nZXRUaW1lKCkgKyAzMCAqIDI0ICogNjAgKiA2MCAqIDM2NSAqIDEwMDApOyAvLzHlubRcbiAgICAvLyDov5nph4zkuIDlrpropoHliqDkuIpwYXRo44CC5LiN54S25YiwaW5kZXguanNw6aG16Z2i5Y675riF6ZmkY29va2ll55qE5pe25YCZ5Lya5Ye6546w5om+5LiN5YiwY29va2ll55qE6Zeu6aKY44CCXG5cbiAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9XCIgKyBlc2NhcGUodmFsdWUpICsgXCI7ZXhwaXJlcz1cIiArIGV4cC50b0dNVFN0cmluZygpICsgXCI7cGF0aD0vXCI7XG4gIH0sXG5cbiAgLyoqXHJcbiAgICog6K+75Y+WY29va2llc+WHveaVsFxyXG4gICAqIEBwYXJhbSBuYW1lXHJcbiAgICogQHJldHVybnNcclxuICAgKi9cbiAgR2V0Q29va2llOiBmdW5jdGlvbiBHZXRDb29raWUobmFtZSkge1xuICAgIHZhciBhcnIgPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cChcIihefCApXCIgKyBuYW1lICsgXCI9KFteO10qKSg7fCQpXCIpKTtcbiAgICBpZiAoYXJyICE9IG51bGwpIHJldHVybiB1bmVzY2FwZShhcnJbMl0pO1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuXG4gIC8qKlxyXG4gICAqIOWIoOmZpGNvb2tpZVxyXG4gICAqIEBwYXJhbSBuYW1lIGNvb2tpZeWQjeensFxyXG4gICAqL1xuICBEZWxDb29raWU6IGZ1bmN0aW9uIERlbENvb2tpZShuYW1lKSB7XG4gICAgdmFyIGV4cCA9IG5ldyBEYXRlKCk7XG4gICAgZXhwLnNldFRpbWUoZXhwLmdldFRpbWUoKSAtIDEpO1xuICAgIHZhciBjdmFsID0gdGhpcy5nZXRDb29raWUobmFtZSk7XG4gICAgaWYgKGN2YWwgIT0gbnVsbCkgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPVwiICsgY3ZhbCArIFwiO2V4cGlyZXM9XCIgKyBleHAudG9HTVRTdHJpbmcoKSArIFwiO3BhdGg9L1wiO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vL+aXpeacn+aXtumXtOW3peWFt+exu1xudmFyIERhdGVVdGlsaXR5ID0ge1xuICBHZXRDdXJyZW50RGF0YVN0cmluZzogZnVuY3Rpb24gR2V0Q3VycmVudERhdGFTdHJpbmcoc3BsaXQpIHtcbiAgICBhbGVydChcIkRhdGVVdGlsaXR5LkdldEN1cnJlbnREYXRhU3RyaW5nIOW3suWBnOeUqFwiKTtcbiAgICAvKnRoaXMuU2V0U3BsaXQoc3BsaXQpOyovXG5cbiAgICAvKnZhciBteURhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdmFyIHllYXIgPSBteURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgIHZhciBtb250aCA9IG15RGF0ZS5nZXRNb250aCgpICsgMTtcclxuICAgIGlmIChtb250aCA8IDEwKSB7XHJcbiAgICAgICAgbW9udGggPSBcIjBcIiArIG1vbnRoO1xyXG4gICAgfVxyXG4gICAgdmFyIGRheSA9IG15RGF0ZS5nZXREYXRlKCk7XHJcbiAgICBpZiAoZGF5IDwgMTApIHtcclxuICAgICAgICBkYXkgPSBcIjBcIiArIGRheTtcclxuICAgIH1cclxuICAgIHJldHVybiB5ZWFyICsgc3BsaXQgKyBtb250aCArIHNwbGl0ICsgZGF5OyovXG4gIH0sXG4gIERhdGVGb3JtYXQ6IGZ1bmN0aW9uIERhdGVGb3JtYXQobXlEYXRlLCBzcGxpdCkge1xuICAgIGFsZXJ0KFwiRGF0ZVV0aWxpdHkuR2V0Q3VycmVudERhdGFTdHJpbmcg5bey5YGc55SoXCIpO1xuICAgIC8qdGhpcy5TZXRTcGxpdChzcGxpdCk7Ki9cblxuICAgIC8qdmFyIHllYXIgPSBteURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgIHZhciBtb250aCA9IG15RGF0ZS5nZXRNb250aCgpICsgMTtcclxuICAgIGlmIChtb250aCA8IDEwKSB7XHJcbiAgICAgICAgbW9udGggPSBcIjBcIiArIG1vbnRoO1xyXG4gICAgfVxyXG4gICAgdmFyIGRheSA9IG15RGF0ZS5nZXREYXRlKCk7XHJcbiAgICBpZiAoZGF5IDwgMTApIHtcclxuICAgICAgICBkYXkgPSBcIjBcIiArIGRheTtcclxuICAgIH1cclxuICAgIHJldHVybiB5ZWFyICsgc3BsaXQgKyBtb250aCArIHNwbGl0ICsgZGF5OyovXG4gIH0sXG4gIEZvcm1hdDogZnVuY3Rpb24gRm9ybWF0KG15RGF0ZSwgZm9ybWF0U3RyaW5nKSB7XG4gICAgdmFyIG8gPSB7XG4gICAgICBcIk0rXCI6IG15RGF0ZS5nZXRNb250aCgpICsgMSxcbiAgICAgIC8vbW9udGhcbiAgICAgIFwiZCtcIjogbXlEYXRlLmdldERhdGUoKSxcbiAgICAgIC8vZGF5XG4gICAgICBcImgrXCI6IG15RGF0ZS5nZXRIb3VycygpLFxuICAgICAgLy9ob3VyXG4gICAgICBcIm0rXCI6IG15RGF0ZS5nZXRNaW51dGVzKCksXG4gICAgICAvL21pbnV0ZVxuICAgICAgXCJzK1wiOiBteURhdGUuZ2V0U2Vjb25kcygpLFxuICAgICAgLy9zZWNvbmRcbiAgICAgIFwicStcIjogTWF0aC5mbG9vcigobXlEYXRlLmdldE1vbnRoKCkgKyAzKSAvIDMpLFxuICAgICAgLy9xdWFydGVyXG4gICAgICBcIlNcIjogbXlEYXRlLmdldE1pbGxpc2Vjb25kcygpIC8vbWlsbGlzZWNvbmRcblxuICAgIH07XG4gICAgaWYgKC8oeSspLy50ZXN0KGZvcm1hdFN0cmluZykpIGZvcm1hdFN0cmluZyA9IGZvcm1hdFN0cmluZy5yZXBsYWNlKFJlZ0V4cC4kMSwgKG15RGF0ZS5nZXRGdWxsWWVhcigpICsgXCJcIikuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSk7XG5cbiAgICBmb3IgKHZhciBrIGluIG8pIHtcbiAgICAgIGlmIChuZXcgUmVnRXhwKFwiKFwiICsgayArIFwiKVwiKS50ZXN0KGZvcm1hdFN0cmluZykpIGZvcm1hdFN0cmluZyA9IGZvcm1hdFN0cmluZy5yZXBsYWNlKFJlZ0V4cC4kMSwgUmVnRXhwLiQxLmxlbmd0aCA9PSAxID8gb1trXSA6IChcIjAwXCIgKyBvW2tdKS5zdWJzdHIoKFwiXCIgKyBvW2tdKS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybWF0U3RyaW5nO1xuICB9LFxuICBGb3JtYXRDdXJyZW50RGF0YTogZnVuY3Rpb24gRm9ybWF0Q3VycmVudERhdGEoZm9ybWF0U3RyaW5nKSB7XG4gICAgdmFyIG15RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgcmV0dXJuIHRoaXMuRm9ybWF0KG15RGF0ZSwgZm9ybWF0U3RyaW5nKTtcbiAgfSxcbiAgR2V0Q3VycmVudERhdGE6IGZ1bmN0aW9uIEdldEN1cnJlbnREYXRhKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgRGV0YWlsUGFnZVV0aWxpdHkgPSB7XG4gIElWaWV3UGFnZVRvVmlld1N0YXR1czogZnVuY3Rpb24gSVZpZXdQYWdlVG9WaWV3U3RhdHVzKCkge1xuICAgIC8vYWxlcnQoXCIxXCIpO1xuICAgIHJldHVybjtcbiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAvL2FsZXJ0KFwiMVwiKTtcbiAgICAgICQoXCJpbnB1dFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgIHZhciB2YWwgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAkKHRoaXMpLmFmdGVyKCQoXCI8bGFiZWwgLz5cIikudGV4dCh2YWwpKTtcbiAgICAgIH0pO1xuICAgICAgJChcIi5pdnUtZGF0ZS1waWNrZXItZWRpdG9yXCIpLmZpbmQoXCIuaXZ1LWljb25cIikuaGlkZSgpO1xuICAgICAgJChcIi5pdnUtcmFkaW9cIikuaGlkZSgpO1xuICAgICAgJChcIi5pdnUtcmFkaW8tZ3JvdXAtaXRlbVwiKS5oaWRlKCk7XG4gICAgICAkKFwiLml2dS1yYWRpby13cmFwcGVyLWNoZWNrZWRcIikuc2hvdygpO1xuICAgICAgJChcIi5pdnUtcmFkaW8td3JhcHBlci1jaGVja2VkXCIpLmZpbmQoXCJzcGFuXCIpLmhpZGUoKTtcbiAgICAgICQoXCJ0ZXh0YXJlYVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgIHZhciB2YWwgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAkKHRoaXMpLmFmdGVyKCQoXCI8bGFiZWwgLz5cIikudGV4dCh2YWwpKTtcbiAgICAgIH0pO1xuICAgIH0sIDEwMCk7XG4gIH0sXG4gIE92ZXJyaWRlT2JqZWN0VmFsdWU6IGZ1bmN0aW9uIE92ZXJyaWRlT2JqZWN0VmFsdWUoc291cmNlT2JqZWN0LCBkYXRhT2JqZWN0KSB7XG4gICAgLy9jb25zb2xlLmxvZyhkYXRhT2JqZWN0KTtcbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlT2JqZWN0KSB7XG4gICAgICBpZiAoZGF0YU9iamVjdFtrZXldICE9IHVuZGVmaW5lZCAmJiBkYXRhT2JqZWN0W2tleV0gIT0gbnVsbCAmJiBkYXRhT2JqZWN0W2tleV0gIT0gXCJcIikge1xuICAgICAgICBzb3VyY2VPYmplY3Rba2V5XSA9IGRhdGFPYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIEJpbmRGb3JtRGF0YTogZnVuY3Rpb24gQmluZEZvcm1EYXRhKGludGVyZmFjZVVybCwgdnVlRm9ybURhdGEsIHJlY29yZElkLCBvcCwgYmVmRnVuYywgYWZGdW5jKSB7XG4gICAgLy/ojrflj5bmlbDmja7lubbotYvlgLxcbiAgICBBamF4VXRpbGl0eS5Qb3N0KGludGVyZmFjZVVybCwge1xuICAgICAgcmVjb3JkSWQ6IHJlY29yZElkLFxuICAgICAgb3A6IG9wXG4gICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYmVmRnVuYyA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBiZWZGdW5jKHJlc3VsdCk7XG4gICAgICAgIH1cblxuICAgICAgICBEZXRhaWxQYWdlVXRpbGl0eS5PdmVycmlkZU9iamVjdFZhbHVlKHZ1ZUZvcm1EYXRhLCByZXN1bHQuZGF0YSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBhZkZ1bmMgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgYWZGdW5jKHJlc3VsdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3AgPT0gXCJ2aWV3XCIpIHtcbiAgICAgICAgICBEZXRhaWxQYWdlVXRpbGl0eS5JVmlld1BhZ2VUb1ZpZXdTdGF0dXMoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydCh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nQWxlcnRJZCwge30sIHJlc3VsdC5tZXNzYWdlLCBudWxsKTtcbiAgICAgIH1cbiAgICB9LCBcImpzb25cIik7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8v5a+56K+d5qGG5bel5YW357G7XG52YXIgRGlhbG9nVXRpbGl0eSA9IHtcbiAgRGlhbG9nQWxlcnRJZDogXCJEZWZhdWx0RGlhbG9nQWxlcnRVdGlsaXR5MDFcIixcbiAgRGlhbG9nUHJvbXB0SWQ6IFwiRGVmYXVsdERpYWxvZ1Byb21wdFV0aWxpdHkwMVwiLFxuICBEaWFsb2dJZDogXCJEZWZhdWx0RGlhbG9nVXRpbGl0eTAxXCIsXG4gIERpYWxvZ0lkMDI6IFwiRGVmYXVsdERpYWxvZ1V0aWxpdHkwMlwiLFxuICBEaWFsb2dJZDAzOiBcIkRlZmF1bHREaWFsb2dVdGlsaXR5MDNcIixcbiAgRGlhbG9nSWQwNDogXCJEZWZhdWx0RGlhbG9nVXRpbGl0eTA0XCIsXG4gIERpYWxvZ0lkMDU6IFwiRGVmYXVsdERpYWxvZ1V0aWxpdHkwNVwiLFxuICBfR2V0RWxlbTogZnVuY3Rpb24gX0dldEVsZW0oZGlhbG9nSWQpIHtcbiAgICByZXR1cm4gJChcIiNcIiArIGRpYWxvZ0lkKTtcbiAgfSxcbiAgX0NyZWF0ZURpYWxvZ0VsZW06IGZ1bmN0aW9uIF9DcmVhdGVEaWFsb2dFbGVtKGRvY29iaiwgZGlhbG9nSWQpIHtcbiAgICBpZiAodGhpcy5fR2V0RWxlbShkaWFsb2dJZCkubGVuZ3RoID09IDApIHtcbiAgICAgIHZhciBkaWFsb2dFbGUgPSAkKFwiPGRpdiBpZD1cIiArIGRpYWxvZ0lkICsgXCIgdGl0bGU9J+ezu+e7n+aPkOekuicgc3R5bGU9J2Rpc3BsYXk6bm9uZSc+XFxcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cIik7XG4gICAgICAkKGRvY29iai5ib2R5KS5hcHBlbmQoZGlhbG9nRWxlKTtcbiAgICAgIHJldHVybiBkaWFsb2dFbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9HZXRFbGVtKGRpYWxvZ0lkKTtcbiAgICB9XG4gIH0sXG4gIF9DcmVhdGVBbGVydExvYWRpbmdNc2dFbGVtZW50OiBmdW5jdGlvbiBfQ3JlYXRlQWxlcnRMb2FkaW5nTXNnRWxlbWVudChkb2NvYmosIGRpYWxvZ0lkKSB7XG4gICAgaWYgKHRoaXMuX0dldEVsZW0oZGlhbG9nSWQpLmxlbmd0aCA9PSAwKSB7XG4gICAgICB2YXIgZGlhbG9nRWxlID0gJChcIjxkaXYgaWQ9XCIgKyBkaWFsb2dJZCArIFwiIHRpdGxlPSfns7vnu5/mj5DnpLonIHN0eWxlPSdkaXNwbGF5Om5vbmUnPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdhbGVydGxvYWRpbmctaW1nJz48L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nYWxlcnRsb2FkaW5nLXR4dCc+PC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XCIpO1xuICAgICAgJChkb2NvYmouYm9keSkuYXBwZW5kKGRpYWxvZ0VsZSk7XG4gICAgICByZXR1cm4gZGlhbG9nRWxlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fR2V0RWxlbShkaWFsb2dJZCk7XG4gICAgfVxuICB9LFxuICBfQ3JlYXRlSWZybWFlRGlhbG9nRWxlbWVudDogZnVuY3Rpb24gX0NyZWF0ZUlmcm1hZURpYWxvZ0VsZW1lbnQoZG9jb2JqLCBkaWFsb2dpZCwgdXJsKSB7XG4gICAgLyp2YXIgZGlhbG9nRWxlID0gJChcIjxkaXYgaWQ9XCIgKyBkaWFsb2dpZCArIFwiIHRpdGxlPSdCYXNpYyBkaWFsb2cnPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgPGlmcmFtZSBuYW1lPSdkaWFsb2dJZnJhbWUnIHdpZHRoPScxMDAlJyBoZWlnaHQ9Jzk4JScgZnJhbWVib3JkZXI9JzAnIHNyYz0nXCIgKyB1cmwgKyBcIic+XFxcclxuICAgICAgICAgICAgICAgICAgICA8L2lmcmFtZT5cXFxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XCIpOyovXG4gICAgLy/nm7TmjqXorr7nva5pZnJhbWXnmoRzcmPkvJrpgKDmiJDkuIDmrKHor7fmsYJodHRw55qEY2FuY2VsZWQuXG4gICAgdmFyIGRpYWxvZ0VsZSA9ICQoXCI8ZGl2IGlkPVwiICsgZGlhbG9naWQgKyBcIiB0aXRsZT0nQmFzaWMgZGlhbG9nJz5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aWZyYW1lIG5hbWU9J2RpYWxvZ0lmcmFtZScgd2lkdGg9JzEwMCUnIGhlaWdodD0nOTglJyBmcmFtZWJvcmRlcj0nMCc+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pZnJhbWU+XFxcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cIik7XG4gICAgJChkb2NvYmouYm9keSkuYXBwZW5kKGRpYWxvZ0VsZSk7IC8vYWxlcnQodXJsKTtcblxuICAgIHJldHVybiBkaWFsb2dFbGU7XG4gIH0sXG4gIF9UZXN0RGlhbG9nRWxlbUlzRXhpc3Q6IGZ1bmN0aW9uIF9UZXN0RGlhbG9nRWxlbUlzRXhpc3QoZGlhbG9nSWQpIHtcbiAgICBpZiAodGhpcy5fR2V0RWxlbShkaWFsb2dJZCkubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBfVGVzdFJ1bkVuYWJsZTogZnVuY3Rpb24gX1Rlc3RSdW5FbmFibGUoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIEFsZXJ0RXJyb3I6IGZ1bmN0aW9uIEFsZXJ0RXJyb3Iob3BlcmVyV2luZG93LCBkaWFsb2dJZCwgY29uZmlnLCBodG1sbXNnLCBzRnVuYykge1xuICAgIHZhciBkZWZhdWx0Q29uZmlnID0ge1xuICAgICAgaGVpZ2h0OiA0MDAsXG4gICAgICB3aWR0aDogNjAwXG4gICAgfTtcbiAgICBkZWZhdWx0Q29uZmlnID0gJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRDb25maWcsIGNvbmZpZyk7XG4gICAgdGhpcy5BbGVydChvcGVyZXJXaW5kb3csIGRpYWxvZ0lkLCBkZWZhdWx0Q29uZmlnLCBodG1sbXNnLCBzRnVuYyk7XG4gIH0sXG4gIEFsZXJ0VGV4dDogZnVuY3Rpb24gQWxlcnRUZXh0KHRleHQpIHtcbiAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydElkLCB7fSwgdGV4dCwgbnVsbCk7XG4gIH0sXG4gIEFsZXJ0OiBmdW5jdGlvbiBBbGVydChvcGVyZXJXaW5kb3csIGRpYWxvZ0lkLCBjb25maWcsIGh0bWxtc2csIHNGdW5jKSB7XG4gICAgLy9kZWJ1Z2dlcjtcbiAgICB2YXIgaHRtbEVsZW0gPSB0aGlzLl9DcmVhdGVEaWFsb2dFbGVtKG9wZXJlcldpbmRvdy5kb2N1bWVudC5ib2R5LCBkaWFsb2dJZCk7XG5cbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcbiAgICAgIGhlaWdodDogMjAwLFxuICAgICAgd2lkdGg6IDMwMCxcbiAgICAgIHRpdGxlOiBcIuezu+e7n+aPkOekulwiLFxuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIG1vZGFsOiB0cnVlLFxuICAgICAgYnV0dG9uczoge1xuICAgICAgICBcIuWFs+mXrVwiOiBmdW5jdGlvbiBfKCkge1xuICAgICAgICAgICQoaHRtbEVsZW0pLmRpYWxvZyhcImNsb3NlXCIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHt9LFxuICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICBpZiAoc0Z1bmMpIHtcbiAgICAgICAgICBzRnVuYygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0Q29uZmlnLCBjb25maWcpO1xuICAgICQoaHRtbEVsZW0pLmh0bWwoaHRtbG1zZyk7XG4gICAgJChodG1sRWxlbSkuZGlhbG9nKGRlZmF1bHRDb25maWcpO1xuICB9LFxuICBBbGVydEpzb25Db2RlOiBmdW5jdGlvbiBBbGVydEpzb25Db2RlKGpzb24pIHtcbiAgICBqc29uID0gSnNvblV0aWxpdHkuSnNvblRvU3RyaW5nRm9ybWF0KGpzb24pO1xuICAgIGpzb24gPSBqc29uLnJlcGxhY2UoLyYvZywgJyYnKS5yZXBsYWNlKC88L2csICc8JykucmVwbGFjZSgvPi9nLCAnPicpO1xuICAgIGpzb24gPSBqc29uLnJlcGxhY2UoLyhcIihcXFxcdVthLXpBLVowLTldezR9fFxcXFxbXnVdfFteXFxcXFwiXSkqXCIoXFxzKjopP3xcXGIodHJ1ZXxmYWxzZXxudWxsKVxcYnwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPykvZywgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICB2YXIgY2xzID0gJ2pzb24tbnVtYmVyJztcblxuICAgICAgaWYgKC9eXCIvLnRlc3QobWF0Y2gpKSB7XG4gICAgICAgIGlmICgvOiQvLnRlc3QobWF0Y2gpKSB7XG4gICAgICAgICAgY2xzID0gJ2pzb24ta2V5JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbHMgPSAnanNvbi1zdHJpbmcnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKC90cnVlfGZhbHNlLy50ZXN0KG1hdGNoKSkge1xuICAgICAgICBjbHMgPSAnanNvbi1ib29sZWFuJztcbiAgICAgIH0gZWxzZSBpZiAoL251bGwvLnRlc3QobWF0Y2gpKSB7XG4gICAgICAgIGNscyA9ICdqc29uLW51bGwnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiJyArIGNscyArICdcIj4nICsgbWF0Y2ggKyAnPC9zcGFuPic7XG4gICAgfSk7XG4gICAgdGhpcy5BbGVydCh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nQWxlcnRJZCwge1xuICAgICAgd2lkdGg6IDkwMCxcbiAgICAgIGhlaWdodDogNjAwXG4gICAgfSwgXCI8cHJlIGNsYXNzPSdqc29uLXByZSc+XCIgKyBqc29uICsgXCI8L3ByZT5cIiwgbnVsbCk7XG4gIH0sXG4gIFNob3dIVE1MOiBmdW5jdGlvbiBTaG93SFRNTChvcGVyZXJXaW5kb3csIGRpYWxvZ0lkLCBjb25maWcsIGh0bWxtc2csIGNsb3NlX2FmdGVyX2V2ZW50LCBwYXJhbXMpIHtcbiAgICB2YXIgaHRtbEVsZW0gPSB0aGlzLl9DcmVhdGVEaWFsb2dFbGVtKG9wZXJlcldpbmRvdy5kb2N1bWVudC5ib2R5LCBkaWFsb2dJZCk7XG5cbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcbiAgICAgIGhlaWdodDogMjAwLFxuICAgICAgd2lkdGg6IDMwMCxcbiAgICAgIHRpdGxlOiBcIuezu+e7n+aPkOekulwiLFxuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIG1vZGFsOiB0cnVlLFxuICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGV2ZW50LCB1aSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0eXBlb2YgY2xvc2VfYWZ0ZXJfZXZlbnQgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBjbG9zZV9hZnRlcl9ldmVudChwYXJhbXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBkZWZhdWx0Q29uZmlnID0gJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRDb25maWcsIGNvbmZpZyk7XG4gICAgJChodG1sRWxlbSkuaHRtbChodG1sbXNnKTtcbiAgICByZXR1cm4gJChodG1sRWxlbSkuZGlhbG9nKGRlZmF1bHRDb25maWcpO1xuICB9LFxuICBBbGVydExvYWRpbmc6IGZ1bmN0aW9uIEFsZXJ0TG9hZGluZyhvcGVyZXJXaW5kb3csIGRpYWxvZ0lkLCBjb25maWcsIGh0bWxtc2cpIHtcbiAgICB2YXIgaHRtbEVsZW0gPSB0aGlzLl9DcmVhdGVBbGVydExvYWRpbmdNc2dFbGVtZW50KG9wZXJlcldpbmRvdy5kb2N1bWVudC5ib2R5LCBkaWFsb2dJZCk7XG5cbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcbiAgICAgIGhlaWdodDogMjAwLFxuICAgICAgd2lkdGg6IDMwMCxcbiAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIG1vZGFsOiB0cnVlXG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0Q29uZmlnLCBjb25maWcpO1xuICAgICQoaHRtbEVsZW0pLmZpbmQoXCIuYWxlcnRsb2FkaW5nLXR4dFwiKS5odG1sKGh0bWxtc2cpO1xuICAgICQoaHRtbEVsZW0pLmRpYWxvZyhkZWZhdWx0Q29uZmlnKTtcbiAgfSxcbiAgQ29uZmlybTogZnVuY3Rpb24gQ29uZmlybShvcGVyZXJXaW5kb3csIGh0bWxtc2csIG9rRm4pIHtcbiAgICB0aGlzLkNvbmZpcm1Db25maWcob3BlcmVyV2luZG93LCBodG1sbXNnLCBudWxsLCBva0ZuKTtcbiAgfSxcbiAgQ29uZmlybUNvbmZpZzogZnVuY3Rpb24gQ29uZmlybUNvbmZpZyhvcGVyZXJXaW5kb3csIGh0bWxtc2csIGNvbmZpZywgb2tGbikge1xuICAgIHZhciBodG1sRWxlbSA9IHRoaXMuX0NyZWF0ZURpYWxvZ0VsZW0ob3BlcmVyV2luZG93LmRvY3VtZW50LmJvZHksIFwiQWxlcnRDb25maXJtTXNnXCIpO1xuXG4gICAgdmFyIHBhcmFzID0gbnVsbDtcbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcbiAgICAgIG9rZnVuYzogZnVuY3Rpb24gb2tmdW5jKHBhcmFzKSB7XG4gICAgICAgIGlmIChva0ZuICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBva0ZuKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3BlcmVyV2luZG93LmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYW5jZWxmdW5jOiBmdW5jdGlvbiBjYW5jZWxmdW5jKHBhcmFzKSB7fSxcbiAgICAgIHZhbGlkYXRlZnVuYzogZnVuY3Rpb24gdmFsaWRhdGVmdW5jKHBhcmFzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcbiAgICAgIGNsb3NlYWZ0ZXJmdW5jOiB0cnVlLFxuICAgICAgaGVpZ2h0OiAyMDAsXG4gICAgICB3aWR0aDogMzAwLFxuICAgICAgdGl0bGU6IFwi57O757uf5o+Q56S6XCIsXG4gICAgICBzaG93OiB0cnVlLFxuICAgICAgbW9kYWw6IHRydWUsXG4gICAgICBidXR0b25zOiB7XG4gICAgICAgIFwi56Gu6K6kXCI6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICAgICAgaWYgKGRlZmF1bHRDb25maWcudmFsaWRhdGVmdW5jKHBhcmFzKSkge1xuICAgICAgICAgICAgdmFyIHIgPSBkZWZhdWx0Q29uZmlnLm9rZnVuYyhwYXJhcyk7XG4gICAgICAgICAgICByID0gciA9PSBudWxsID8gdHJ1ZSA6IHI7XG5cbiAgICAgICAgICAgIGlmIChyICYmIGRlZmF1bHRDb25maWcuY2xvc2VhZnRlcmZ1bmMpIHtcbiAgICAgICAgICAgICAgJChodG1sRWxlbSkuZGlhbG9nKFwiY2xvc2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIuWPlua2iFwiOiBmdW5jdGlvbiBfKCkge1xuICAgICAgICAgIGRlZmF1bHRDb25maWcuY2FuY2VsZnVuYyhwYXJhcyk7XG5cbiAgICAgICAgICBpZiAoZGVmYXVsdENvbmZpZy5jbG9zZWFmdGVyZnVuYykge1xuICAgICAgICAgICAgJChodG1sRWxlbSkuZGlhbG9nKFwiY2xvc2VcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0Q29uZmlnLCBjb25maWcpO1xuICAgICQoaHRtbEVsZW0pLmh0bWwoaHRtbG1zZyk7XG4gICAgJChodG1sRWxlbSkuZGlhbG9nKGRlZmF1bHRDb25maWcpO1xuICAgIHBhcmFzID0ge1xuICAgICAgXCJFbGVtZW50T2JqXCI6IGh0bWxFbGVtXG4gICAgfTtcbiAgfSxcbiAgUHJvbXB0OiBmdW5jdGlvbiBQcm9tcHQob3BlcmVyV2luZG93LCBjb25maWcsIGRpYWxvZ0lkLCBsYWJlbE1zZywgb2tGdW5jKSB7XG4gICAgdmFyIGh0bWxFbGVtID0gdGhpcy5fQ3JlYXRlRGlhbG9nRWxlbShvcGVyZXJXaW5kb3cuZG9jdW1lbnQuYm9keSwgZGlhbG9nSWQpO1xuXG4gICAgdmFyIHBhcmFzID0gbnVsbDtcbiAgICB2YXIgdGV4dEFyZWEgPSAkKFwiPHRleHRhcmVhIC8+XCIpO1xuICAgIHZhciBkZWZhdWx0Q29uZmlnID0ge1xuICAgICAgaGVpZ2h0OiAyMDAsXG4gICAgICB3aWR0aDogMzAwLFxuICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICBzaG93OiB0cnVlLFxuICAgICAgbW9kYWw6IHRydWUsXG4gICAgICBidXR0b25zOiB7XG4gICAgICAgIFwi56Gu6K6kXCI6IGZ1bmN0aW9uIF8oKSB7XG4gICAgICAgICAgLy9kZWJ1Z2dlcjtcbiAgICAgICAgICBpZiAodHlwZW9mIG9rRnVuYyA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHZhciBpbnB1dFRleHQgPSB0ZXh0QXJlYS52YWwoKTtcbiAgICAgICAgICAgIG9rRnVuYyhpbnB1dFRleHQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICQoaHRtbEVsZW0pLmRpYWxvZyhcImNsb3NlXCIpO1xuICAgICAgICB9LFxuICAgICAgICBcIuWPlua2iFwiOiBmdW5jdGlvbiBfKCkge1xuICAgICAgICAgICQoaHRtbEVsZW0pLmRpYWxvZyhcImNsb3NlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0Q29uZmlnLCBjb25maWcpO1xuICAgICQodGV4dEFyZWEpLmNzcyhcImhlaWdodFwiLCBkZWZhdWx0Q29uZmlnLmhlaWdodCAtIDEzMCk7XG4gICAgdmFyIGh0bWxDb250ZW50ID0gJChcIjxkaXY+XCIgKyBsYWJlbE1zZyArIFwi77yaPC9kaXY+XCIpLmFwcGVuZCh0ZXh0QXJlYSk7XG4gICAgJChodG1sRWxlbSkuaHRtbChodG1sQ29udGVudCk7XG4gICAgJChodG1sRWxlbSkuZGlhbG9nKGRlZmF1bHRDb25maWcpOyAvL2RpYWxvZy50ZXh0QXJlYU9iaj10ZXh0QXJlYTtcbiAgfSxcbiAgRGlhbG9nRWxlbTogZnVuY3Rpb24gRGlhbG9nRWxlbShlbGVtLCBjb25maWcpIHtcbiAgICAkKGVsZW0pLmRpYWxvZyhjb25maWcpO1xuICB9LFxuICBPcGVuSWZyYW1lV2luZG93OiBmdW5jdGlvbiBPcGVuSWZyYW1lV2luZG93KG9wZW5lcndpbmRvdywgZGlhbG9nSWQsIHVybCwgb3B0aW9ucywgd2h0eXBlKSB7XG4gICAgdmFyIGRlZmF1bHRvcHRpb25zID0ge1xuICAgICAgaGVpZ2h0OiA0MTAsXG4gICAgICB3aWR0aDogNjAwLFxuICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGV2ZW50LCB1aSkge1xuICAgICAgICB2YXIgYXV0b2RpYWxvZ2lkID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XG4gICAgICAgICQodGhpcykuZmluZChcImlmcmFtZVwiKS5yZW1vdmUoKTtcbiAgICAgICAgJCh0aGlzKS5kaWFsb2coJ2Nsb3NlJyk7XG4gICAgICAgICQodGhpcykuZGlhbG9nKFwiZGVzdHJveVwiKTtcbiAgICAgICAgJChcIiNcIiArIGF1dG9kaWFsb2dpZCkucmVtb3ZlKCk7XG5cbiAgICAgICAgaWYgKEJyb3dzZXJJbmZvVXRpbGl0eS5Jc0lFOERvY3VtZW50TW9kZSgpKSB7XG4gICAgICAgICAgQ29sbGVjdEdhcmJhZ2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jbG9zZV9hZnRlcl9ldmVudCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBvcHRpb25zLmNsb3NlX2FmdGVyX2V2ZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICgkKFwiI0ZvcmZvY3VzXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQoXCIjRm9yZm9jdXNcIilbMF0uZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgfTsgLy9kZWJ1Z2dlcjtcblxuICAgIGlmICh3aHR5cGUgPT0gMSkge1xuICAgICAgZGVmYXVsdG9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdG9wdGlvbnMsIHtcbiAgICAgICAgaGVpZ2h0OiA2ODAsXG4gICAgICAgIHdpZHRoOiA5ODBcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAod2h0eXBlID09IDIpIHtcbiAgICAgIGRlZmF1bHRvcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRvcHRpb25zLCB7XG4gICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICB3aWR0aDogODAwXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHdodHlwZSA9PSA0KSB7XG4gICAgICBkZWZhdWx0b3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0b3B0aW9ucywge1xuICAgICAgICBoZWlnaHQ6IDM4MCxcbiAgICAgICAgd2lkdGg6IDQ4MFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh3aHR5cGUgPT0gNSkge1xuICAgICAgZGVmYXVsdG9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdG9wdGlvbnMsIHtcbiAgICAgICAgaGVpZ2h0OiAxODAsXG4gICAgICAgIHdpZHRoOiAzMDBcbiAgICAgIH0pO1xuICAgIH0gLy/lpoLmnpzlrr3luqbvvIzpq5jluqborr7nva7kuLow77yM5YiZ6Ieq5Yqo6K6+572u5Li65YWo5bGPXG5cblxuICAgIGlmIChvcHRpb25zLndpZHRoID09IDApIHtcbiAgICAgIG9wdGlvbnMud2lkdGggPSBQYWdlU3R5bGVVdGlsLkdldFBhZ2VXaWR0aCgpIC0gMjA7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaGVpZ2h0ID09IDApIHtcbiAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gUGFnZVN0eWxlVXRpbC5HZXRQYWdlSGVpZ2h0KCkgLSAxMDtcbiAgICB9XG5cbiAgICBkZWZhdWx0b3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0b3B0aW9ucywgb3B0aW9ucyk7XG4gICAgdmFyIGF1dG9kaWFsb2dpZCA9IGRpYWxvZ0lkO1xuXG4gICAgdmFyIGRpYWxvZ0VsZSA9IHRoaXMuX0NyZWF0ZUlmcm1hZURpYWxvZ0VsZW1lbnQob3BlbmVyd2luZG93LmRvY3VtZW50LCBhdXRvZGlhbG9naWQsIHVybCk7XG5cbiAgICB2YXIgZGlhbG9nT2JqID0gJChkaWFsb2dFbGUpLmRpYWxvZyhkZWZhdWx0b3B0aW9ucyk7XG4gICAgdmFyICRpZnJhbWVvYmogPSAkKGRpYWxvZ0VsZSkuZmluZChcImlmcmFtZVwiKTtcbiAgICAkaWZyYW1lb2JqLmF0dHIoc3JjLCB1cmwpO1xuICAgICRpZnJhbWVvYmpbMF0uY29udGVudFdpbmRvdy5GcmFtZVdpbmRvd0lkID0gYXV0b2RpYWxvZ2lkO1xuICAgICRpZnJhbWVvYmpbMF0uY29udGVudFdpbmRvdy5PcGVuZXJXaW5kb3dPYmogPSBvcGVuZXJ3aW5kb3c7XG4gICAgcmV0dXJuIGRpYWxvZ09iajtcbiAgICAvKiRpZnJhbWVvYmoubG9hZChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGVsZW0gPSAkKHRoaXMpLmNvbnRlbnRzKCkuZmluZChcImlucHV0OnRleHQ6Zmlyc3RcIik7XHJcbiAgICAgICAgICAgIGlmIChlbGVtLmF0dHIoXCJyZWFkb25seVwiKSAhPSBcInJlYWRvbmx5XCImJiBlbGVtLmF0dHIoXCJkaXNhYmxlZFwiKSAhPSBcImRpc2FibGVkXCIpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1bMF0uZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9ICQodGhpcykuY29udGVudHMoKS5maW5kKFwiaW5wdXQ6dGV4dFwiKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9ICQoZWxlbXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLmF0dHIoXCJyZWFkb25seVwiKSAhPSBcInJlYWRvbmx5XCImJmVsZW0uYXR0cihcImRpc2FibGVkXCIpICE9IFwiZGlzYWJsZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtWzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIH1cclxuICAgIH0pOyovXG4gIH0sXG4gIENsb3NlT3BlbklmcmFtZVdpbmRvdzogZnVuY3Rpb24gQ2xvc2VPcGVuSWZyYW1lV2luZG93KG9wZW5lcndpbmRvdywgZGlhbG9nSWQpIHtcbiAgICAvL2FsZXJ0KGRpYWxvZ0lkKTtcbiAgICBvcGVuZXJ3aW5kb3cuT3BlbmVyV2luZG93T2JqLkRpYWxvZ1V0aWxpdHkuQ2xvc2VEaWFsb2coZGlhbG9nSWQpO1xuICB9LFxuICBDbG9zZURpYWxvZzogZnVuY3Rpb24gQ2xvc2VEaWFsb2coZGlhbG9nSWQpIHtcbiAgICAvL2RlYnVnZ2VyO1xuICAgIHRoaXMuX0dldEVsZW0oZGlhbG9nSWQpLmZpbmQoXCJpZnJhbWVcIikucmVtb3ZlKCk7XG5cbiAgICAkKHRoaXMuX0dldEVsZW0oZGlhbG9nSWQpKS5kaWFsb2coXCJjbG9zZVwiKTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoJChcIiNGb3Jmb2N1c1wiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoXCIjRm9yZm9jdXNcIilbMF0uZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxuICB9LFxuICBPcGVuTmV3V2luZG93OiBmdW5jdGlvbiBPcGVuTmV3V2luZG93KG9wZW5lcndpbmRvdywgZGlhbG9nSWQsIHVybCwgb3B0aW9ucywgd2h0eXBlKSB7XG4gICAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgdmFyIGxlZnQgPSBwYXJzZUludCgoc2NyZWVuLmF2YWlsV2lkdGggLSB3aWR0aCkgLyAyKS50b1N0cmluZygpO1xuICAgIHZhciB0b3AgPSBwYXJzZUludCgoc2NyZWVuLmF2YWlsSGVpZ2h0IC0gaGVpZ2h0KSAvIDIpLnRvU3RyaW5nKCk7XG5cbiAgICBpZiAod2lkdGgudG9TdHJpbmcoKSA9PSBcIjBcIiAmJiBoZWlnaHQudG9TdHJpbmcoKSA9PSBcIjBcIikge1xuICAgICAgd2lkdGggPSB3aW5kb3cuc2NyZWVuLmF2YWlsV2lkdGggLSAzMDtcbiAgICAgIGhlaWdodCA9IHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQgLSA2MDtcbiAgICAgIGxlZnQgPSBcIjBcIjtcbiAgICAgIHRvcCA9IFwiMFwiO1xuICAgIH1cblxuICAgIHZhciB3aW5IYW5kbGUgPSB3aW5kb3cub3Blbih1cmwsIFwiXCIsIFwic2Nyb2xsYmFycz1ubyx0b29sYmFyPW5vLG1lbnViYXI9bm8scmVzaXphYmxlPXllcyxjZW50ZXI9eWVzLGhlbHA9bm8sIHN0YXR1cz15ZXMsdG9wPSBcIiArIHRvcCArIFwicHgsbGVmdD1cIiArIGxlZnQgKyBcInB4LHdpZHRoPVwiICsgd2lkdGggKyBcInB4LGhlaWdodD1cIiArIGhlaWdodCArIFwicHhcIik7XG5cbiAgICBpZiAod2luSGFuZGxlID09IG51bGwpIHtcbiAgICAgIGFsZXJ0KFwi6K+36Kej6Zmk5rWP6KeI5Zmo5a+55pys57O757uf5by55Ye656qX5Y+j55qE6Zi75q2i6K6+572u77yBXCIpO1xuICAgIH1cbiAgfSxcbiAgX1RyeUdldFBhcmVudFdpbmRvdzogZnVuY3Rpb24gX1RyeUdldFBhcmVudFdpbmRvdyh3aW4pIHtcbiAgICBpZiAod2luLnBhcmVudCAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gd2luLnBhcmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgX0ZyYW1lX1RyeUdldEZyYW1lV2luZG93T2JqOiBmdW5jdGlvbiBfRnJhbWVfVHJ5R2V0RnJhbWVXaW5kb3dPYmood2luLCB0cnlmaW5kdGltZSwgY3VycmVudHRyeWZpbmR0aW1lKSB7XG4gICAgaWYgKHRyeWZpbmR0aW1lID4gY3VycmVudHRyeWZpbmR0aW1lKSB7XG4gICAgICAvL3ZhciBkb2N1bWVudCA9IHdpbjtcbiAgICAgIHZhciBpc3RvcEZyYW1lcGFnZSA9IGZhbHNlO1xuICAgICAgY3VycmVudHRyeWZpbmR0aW1lKys7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGlzdG9wRnJhbWVwYWdlID0gd2luLklzVG9wRnJhbWVQYWdlO1xuXG4gICAgICAgIGlmIChpc3RvcEZyYW1lcGFnZSkge1xuICAgICAgICAgIHJldHVybiB3aW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX0ZyYW1lX1RyeUdldEZyYW1lV2luZG93T2JqKHRoaXMuX1RyeUdldFBhcmVudFdpbmRvdyh3aW4pLCB0cnlmaW5kdGltZSwgY3VycmVudHRyeWZpbmR0aW1lKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fRnJhbWVfVHJ5R2V0RnJhbWVXaW5kb3dPYmoodGhpcy5fVHJ5R2V0UGFyZW50V2luZG93KHdpbiksIHRyeWZpbmR0aW1lLCBjdXJyZW50dHJ5ZmluZHRpbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBfT3BlbldpbmRvd0luRnJhbWVQYWdlOiBmdW5jdGlvbiBfT3BlbldpbmRvd0luRnJhbWVQYWdlKG9wZW5lcndpbmRvdywgZGlhbG9nSWQsIHVybCwgb3B0aW9ucywgd2h0eXBlKSB7XG4gICAgaWYgKFN0cmluZ1V0aWxpdHkuSXNOdWxsT3JFbXB0eShkaWFsb2dJZCkpIHtcbiAgICAgIGFsZXJ0KFwiZGlhbG9nSWTkuI3og73kuLrnqbpcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXJsID0gQmFzZVV0aWxpdHkuQXBwZW5kVGltZVN0YW1wVXJsKHVybCk7XG4gICAgdmFyIGF1dG9kaWFsb2dpZCA9IFwiRnJhbWVEaWFsb2dFbGVcIiArIGRpYWxvZ0lkO1xuXG4gICAgaWYgKCQodGhpcy5GcmFtZVBhZ2VSZWYuZG9jdW1lbnQpLmZpbmQoXCIjXCIgKyBhdXRvZGlhbG9naWQpLmxlbmd0aCA9PSAwKSB7XG4gICAgICB2YXIgZGlhbG9nRWxlID0gdGhpcy5fQ3JlYXRlSWZybWFlRGlhbG9nRWxlbWVudCh0aGlzLkZyYW1lUGFnZVJlZi5kb2N1bWVudCwgYXV0b2RpYWxvZ2lkLCB1cmwpO1xuXG4gICAgICB2YXIgZGVmYXVsdG9wdGlvbnMgPSB7XG4gICAgICAgIGhlaWdodDogNDAwLFxuICAgICAgICB3aWR0aDogNjAwLFxuICAgICAgICBtb2RhbDogdHJ1ZSxcbiAgICAgICAgdGl0bGU6IFwi57O757ufXCIsXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZShldmVudCwgdWkpIHtcbiAgICAgICAgICB2YXIgYXV0b2RpYWxvZ2lkID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XG4gICAgICAgICAgJCh0aGlzKS5maW5kKFwiaWZyYW1lXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICQodGhpcykuZGlhbG9nKCdjbG9zZScpO1xuICAgICAgICAgICQodGhpcykuZGlhbG9nKFwiZGVzdHJveVwiKTtcbiAgICAgICAgICAkKFwiI1wiICsgYXV0b2RpYWxvZ2lkKS5yZW1vdmUoKTtcblxuICAgICAgICAgIGlmIChCcm93c2VySW5mb1V0aWxpdHkuSXNJRThEb2N1bWVudE1vZGUoKSkge1xuICAgICAgICAgICAgQ29sbGVjdEdhcmJhZ2UoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2xvc2VfYWZ0ZXJfZXZlbnQgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBvcHRpb25zLmNsb3NlX2FmdGVyX2V2ZW50KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAod2h0eXBlID09IDApIHtcbiAgICAgICAgb3B0aW9ucy53aWR0aCA9IFBhZ2VTdHlsZVV0aWxpdHkuR2V0UGFnZVdpZHRoKCkgLSAyMDtcbiAgICAgICAgb3B0aW9ucy5oZWlnaHQgPSBQYWdlU3R5bGVVdGlsaXR5LkdldFBhZ2VIZWlnaHQoKSAtIDEwO1xuICAgICAgfSBlbHNlIGlmICh3aHR5cGUgPT0gMSkge1xuICAgICAgICBkZWZhdWx0b3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0b3B0aW9ucywge1xuICAgICAgICAgIGhlaWdodDogNjgwLFxuICAgICAgICAgIHdpZHRoOiA5ODBcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHdodHlwZSA9PSAyKSB7XG4gICAgICAgIGRlZmF1bHRvcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRvcHRpb25zLCB7XG4gICAgICAgICAgaGVpZ2h0OiA2MDAsXG4gICAgICAgICAgd2lkdGg6IDgwMFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAod2h0eXBlID09IDQpIHtcbiAgICAgICAgZGVmYXVsdG9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdG9wdGlvbnMsIHtcbiAgICAgICAgICBoZWlnaHQ6IDM4MCxcbiAgICAgICAgICB3aWR0aDogNDgwXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh3aHR5cGUgPT0gNSkge1xuICAgICAgICBkZWZhdWx0b3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0b3B0aW9ucywge1xuICAgICAgICAgIGhlaWdodDogMTgwLFxuICAgICAgICAgIHdpZHRoOiAzMDBcbiAgICAgICAgfSk7XG4gICAgICB9IC8v5aaC5p6c5a695bqm77yM6auY5bqm6K6+572u5Li6MO+8jOWImeiHquWKqOiuvue9ruS4uuWFqOWxj1xuXG5cbiAgICAgIGlmIChvcHRpb25zLndpZHRoID09IDApIHtcbiAgICAgICAgb3B0aW9ucy53aWR0aCA9IFBhZ2VTdHlsZVV0aWxpdHkuR2V0UGFnZVdpZHRoKCkgLSAyMDtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuaGVpZ2h0ID09IDApIHtcbiAgICAgICAgb3B0aW9ucy5oZWlnaHQgPSBQYWdlU3R5bGVVdGlsaXR5LkdldFBhZ2VIZWlnaHQoKSAtIDEwO1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0b3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBkZWZhdWx0b3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAkKGRpYWxvZ0VsZSkuZGlhbG9nKGRlZmF1bHRvcHRpb25zKTtcbiAgICAgICQoXCIudWktd2lkZ2V0LW92ZXJsYXlcIikuY3NzKFwiekluZGV4XCIsIFwiMTAwMFwiKTtcbiAgICAgICQoXCIudWktZGlhbG9nXCIpLmNzcyhcInpJbmRleFwiLCBcIjEwMDFcIik7XG4gICAgICB2YXIgJGlmcmFtZW9iaiA9ICQoZGlhbG9nRWxlKS5maW5kKFwiaWZyYW1lXCIpO1xuICAgICAgJGlmcmFtZW9iai5hdHRyKFwic3JjXCIsIHVybCk7XG4gICAgICAkaWZyYW1lb2JqLm9uKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGVudFdpbmRvdy5GcmFtZVdpbmRvd0lkID0gYXV0b2RpYWxvZ2lkO1xuICAgICAgICB0aGlzLmNvbnRlbnRXaW5kb3cuT3BlbmVyV2luZG93T2JqID0gb3BlbmVyd2luZG93O1xuICAgICAgICB0aGlzLmNvbnRlbnRXaW5kb3cuSXNPcGVuRm9yRnJhbWUgPSB0cnVlO1xuICAgICAgfSk7IC8vJGlmcmFtZW9ialswXS5jb250ZW50V2luZG93LkZyYW1lV2luZG93SWQgPSBhdXRvZGlhbG9naWQ7XG4gICAgICAvLyRpZnJhbWVvYmpbMF0uY29udGVudFdpbmRvdy5PcGVuZXJXaW5kb3dPYmogPSBvcGVuZXJ3aW5kb3c7XG4gICAgICAvL2FsZXJ0KDEpO1xuICAgICAgLy8kaWZyYW1lb2JqWzBdLmNvbnRlbnRXaW5kb3cuSXNPcGVuRm9yRnJhbWU9dHJ1ZTtcblxuICAgICAgLyokaWZyYW1lb2JqLmxvYWQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgLy9hbGVydCgkKHRoaXMpLmNvbnRlbnRzKCkuZmluZChcImlucHV0XCIpLmxlbmd0aCk7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIC8vZGVidWdnZXI7XHJcbiAgICAgICAgICAgICAgLy92YXIgZWxlbT0kKHRoaXMpLmNvbnRlbnRzKCkuZmluZChcImlucHV0OmZpcnN0XCIpWzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgdmFyIGVsZW0gPSAkKHRoaXMpLmNvbnRlbnRzKCkuZmluZChcImlucHV0OnRleHQ6Zmlyc3RcIik7XHJcbiAgICAgICAgICAgICAgaWYgKGVsZW0uYXR0cihcInJlYWRvbmx5XCIpICE9IFwicmVhZG9ubHlcIiYmIGVsZW0uYXR0cihcImRpc2FibGVkXCIpICE9IFwiZGlzYWJsZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICBlbGVtWzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSAkKHRoaXMpLmNvbnRlbnRzKCkuZmluZChcImlucHV0OnRleHRcIik7XHJcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gJChlbGVtc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5hdHRyKFwicmVhZG9ubHlcIikgIT0gXCJyZWFkb25seVwiJiZlbGVtLmF0dHIoXCJkaXNhYmxlZFwiKSAhPSBcImRpc2FibGVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtWzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgIH0pOyovXG4gICAgfSBlbHNlIHtcbiAgICAgICQoXCIjXCIgKyBhdXRvZGlhbG9naWQpLmRpYWxvZyhcIm1vdmVUb1RvcFwiKTtcbiAgICB9XG4gIH0sXG4gIF9GcmFtZV9GcmFtZVBhZ2VDbG9zZURpYWxvZzogZnVuY3Rpb24gX0ZyYW1lX0ZyYW1lUGFnZUNsb3NlRGlhbG9nKGRpYWxvZ2lkKSB7XG4gICAgJChcIiNcIiArIGRpYWxvZ2lkKS5kaWFsb2coXCJjbG9zZVwiKTtcbiAgfSxcbiAgRnJhbWVfVHJ5R2V0RnJhbWVXaW5kb3dPYmo6IGZ1bmN0aW9uIEZyYW1lX1RyeUdldEZyYW1lV2luZG93T2JqKCkge1xuICAgIHZhciB0cnlmaW5kdGltZSA9IDU7XG4gICAgdmFyIGN1cnJlbnR0cnlmaW5kdGltZSA9IDE7XG4gICAgcmV0dXJuIHRoaXMuX0ZyYW1lX1RyeUdldEZyYW1lV2luZG93T2JqKHdpbmRvdywgdHJ5ZmluZHRpbWUsIGN1cnJlbnR0cnlmaW5kdGltZSk7XG4gIH0sXG4gIEZyYW1lX0FsZXJ0OiBmdW5jdGlvbiBGcmFtZV9BbGVydCgpIHt9LFxuICBGcmFtZV9Db21maXJtOiBmdW5jdGlvbiBGcmFtZV9Db21maXJtKCkge30sXG4gIEZyYW1lX09wZW5JZnJhbWVXaW5kb3c6IGZ1bmN0aW9uIEZyYW1lX09wZW5JZnJhbWVXaW5kb3cob3BlbmVyd2luZG93LCBkaWFsb2dJZCwgdXJsLCBvcHRpb25zLCB3aHR5cGUpIHtcbiAgICB2YXIgd3J3aW4gPSB0aGlzLkZyYW1lX1RyeUdldEZyYW1lV2luZG93T2JqKCk7XG4gICAgdGhpcy5GcmFtZVBhZ2VSZWYgPSB3cndpbjtcblxuICAgIGlmICh3cndpbiAhPSBudWxsKSB7XG4gICAgICAvL2FsZXJ0KFwic2hvd1wiKTtcbiAgICAgIHRoaXMuRnJhbWVQYWdlUmVmLkRpYWxvZ1V0aWxpdHkuRnJhbWVQYWdlUmVmID0gd3J3aW47XG5cbiAgICAgIHRoaXMuRnJhbWVQYWdlUmVmLkRpYWxvZ1V0aWxpdHkuX09wZW5XaW5kb3dJbkZyYW1lUGFnZShvcGVuZXJ3aW5kb3csIGRpYWxvZ0lkLCB1cmwsIG9wdGlvbnMsIHdodHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KFwi5om+5LiN5YiwRnJhbWVQYWdlISFcIik7XG4gICAgfVxuICB9LFxuICBGcmFtZV9DbG9zZURpYWxvZzogZnVuY3Rpb24gRnJhbWVfQ2xvc2VEaWFsb2cob3BlcmVyV2luZG93KSB7XG4gICAgLy9kZWJ1Z2dlcjtcbiAgICB2YXIgd3J3aW4gPSB0aGlzLkZyYW1lX1RyeUdldEZyYW1lV2luZG93T2JqKCk7XG4gICAgdmFyIG9wZW5lcndpbiA9IG9wZXJlcldpbmRvdy5PcGVuZXJXaW5kb3dPYmo7XG4gICAgdmFyIGF1dG9kaWFsb2dpZCA9IG9wZXJlcldpbmRvdy5GcmFtZVdpbmRvd0lkO1xuXG4gICAgd3J3aW4uRGlhbG9nVXRpbGl0eS5fRnJhbWVfRnJhbWVQYWdlQ2xvc2VEaWFsb2coYXV0b2RpYWxvZ2lkKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIERpY3Rpb25hcnlVdGlsaXR5ID0ge1xuICBfR3JvdXBWYWx1ZUxpc3RKc29uVG9TaW1wbGVKc29uOiBudWxsLFxuICBHcm91cFZhbHVlTGlzdEpzb25Ub1NpbXBsZUpzb246IGZ1bmN0aW9uIEdyb3VwVmFsdWVMaXN0SnNvblRvU2ltcGxlSnNvbihzb3VyY2VEaWN0aW9uYXJ5SnNvbikge1xuICAgIGlmICh0aGlzLl9Hcm91cFZhbHVlTGlzdEpzb25Ub1NpbXBsZUpzb24gPT0gbnVsbCkge1xuICAgICAgaWYgKHNvdXJjZURpY3Rpb25hcnlKc29uICE9IG51bGwpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGdyb3VwVmFsdWUgaW4gc291cmNlRGljdGlvbmFyeUpzb24pIHtcbiAgICAgICAgICByZXN1bHRbZ3JvdXBWYWx1ZV0gPSB7fTtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlRGljdGlvbmFyeUpzb25bZ3JvdXBWYWx1ZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtncm91cFZhbHVlXVtzb3VyY2VEaWN0aW9uYXJ5SnNvbltncm91cFZhbHVlXVtpXS5kaWN0VmFsdWVdID0gc291cmNlRGljdGlvbmFyeUpzb25bZ3JvdXBWYWx1ZV1baV0uZGljdFRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fR3JvdXBWYWx1ZUxpc3RKc29uVG9TaW1wbGVKc29uID0gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9Hcm91cFZhbHVlTGlzdEpzb25Ub1NpbXBsZUpzb247XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBjb25zb2xlID0gY29uc29sZSB8fCB7XG4gIGxvZzogZnVuY3Rpb24gbG9nKCkge30sXG4gIHdhcm46IGZ1bmN0aW9uIHdhcm4oKSB7fSxcbiAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge31cbn07IC8v6YeN5YaZRGF0ZeaWueazle+8jOino+WGs1QxNjowMDowMC4wMDBa6Zeu6aKYXG5cbmZ1bmN0aW9uIERhdGVFeHRlbmRfRGF0ZUZvcm1hdChkYXRlLCBmbXQpIHtcbiAgaWYgKG51bGwgPT0gZGF0ZSB8fCB1bmRlZmluZWQgPT0gZGF0ZSkgcmV0dXJuICcnO1xuICB2YXIgbyA9IHtcbiAgICBcIk0rXCI6IGRhdGUuZ2V0TW9udGgoKSArIDEsXG4gICAgLy/mnIjku71cbiAgICBcImQrXCI6IGRhdGUuZ2V0RGF0ZSgpLFxuICAgIC8v5pelXG4gICAgXCJoK1wiOiBkYXRlLmdldEhvdXJzKCksXG4gICAgLy/lsI/ml7ZcbiAgICBcIm0rXCI6IGRhdGUuZ2V0TWludXRlcygpLFxuICAgIC8v5YiGXG4gICAgXCJzK1wiOiBkYXRlLmdldFNlY29uZHMoKSxcbiAgICAvL+enklxuICAgIFwiU1wiOiBkYXRlLmdldE1pbGxpc2Vjb25kcygpIC8v5q+r56eSXG5cbiAgfTtcbiAgaWYgKC8oeSspLy50ZXN0KGZtdCkpIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKGRhdGUuZ2V0RnVsbFllYXIoKSArIFwiXCIpLnN1YnN0cig0IC0gUmVnRXhwLiQxLmxlbmd0aCkpO1xuXG4gIGZvciAodmFyIGsgaW4gbykge1xuICAgIGlmIChuZXcgUmVnRXhwKFwiKFwiICsgayArIFwiKVwiKS50ZXN0KGZtdCkpIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgUmVnRXhwLiQxLmxlbmd0aCA9PSAxID8gb1trXSA6IChcIjAwXCIgKyBvW2tdKS5zdWJzdHIoKFwiXCIgKyBvW2tdKS5sZW5ndGgpKTtcbiAgfVxuXG4gIHJldHVybiBmbXQ7XG59XG5cbkRhdGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIERhdGVFeHRlbmRfRGF0ZUZvcm1hdCh0aGlzLCAneXl5eS1NTS1kZCBtbTpoaDpzcycpO1xufTsgLy/mianlsZVqc+WvueixoeWKn+iDvVxuXG5cbmlmICghT2JqZWN0LmNyZWF0ZSkge1xuICBPYmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGFsZXJ0KFwiRXh0ZW5kIE9iamVjdC5jcmVhdGVcIik7XG5cbiAgICBmdW5jdGlvbiBGKCkge31cblxuICAgIHJldHVybiBmdW5jdGlvbiAobykge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPYmplY3QuY3JlYXRlIGltcGxlbWVudGF0aW9uIG9ubHkgYWNjZXB0cyBvbmUgcGFyYW1ldGVyLicpO1xuICAgICAgfVxuXG4gICAgICBGLnByb3RvdHlwZSA9IG87XG4gICAgICByZXR1cm4gbmV3IEYoKTtcbiAgICB9O1xuICB9KCk7XG59XG5cbiQuZm4ub3V0ZXJIVE1MID0gZnVuY3Rpb24gKCkge1xuICAvLyBJRSwgQ2hyb21lICYgU2FmYXJpIHdpbGwgY29tcGx5IHdpdGggdGhlIG5vbi1zdGFuZGFyZCBvdXRlckhUTUwsIGFsbCBvdGhlcnMgKEZGKSB3aWxsIGhhdmUgYSBmYWxsLWJhY2sgZm9yIGNsb25pbmdcbiAgcmV0dXJuICF0aGlzLmxlbmd0aCA/IHRoaXMgOiB0aGlzWzBdLm91dGVySFRNTCB8fCBmdW5jdGlvbiAoZWwpIHtcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LmFwcGVuZENoaWxkKGVsLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgdmFyIGNvbnRlbnRzID0gZGl2LmlubmVySFRNTDtcbiAgICBkaXYgPSBudWxsO1xuICAgIGFsZXJ0KGNvbnRlbnRzKTtcbiAgICByZXR1cm4gY29udGVudHM7XG4gIH0odGhpc1swXSk7XG59O1xuXG5mdW5jdGlvbiByZWZDc3NMaW5rKGhyZWYpIHtcbiAgdmFyIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gIHN0eWxlLnJlbCA9ICdzdHlsZXNoZWV0JztcbiAgc3R5bGUuaHJlZiA9IGhyZWY7XG4gIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICByZXR1cm4gc3R5bGUuc2hlZXQgfHwgc3R5bGUuc3R5bGVTaGVldDtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuLy9Kc29u5pON5L2c5bel5YW357G7XG52YXIgSnNvblV0aWxpdHkgPSB7XG4gIFBhcnNlQXJyYXlKc29uVG9UcmVlSnNvbjogZnVuY3Rpb24gUGFyc2VBcnJheUpzb25Ub1RyZWVKc29uKGNvbmZpZywgc291cmNlQXJyYXksIHJvb3RJZCkge1xuICAgIHZhciBfY29uZmlnID0ge1xuICAgICAgS2V5RmllbGQ6IFwiXCIsXG4gICAgICBSZWxhdGlvbkZpZWxkOiBcIlwiLFxuICAgICAgQ2hpbGRGaWVsZE5hbWU6IFwiXCJcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gRmluZEpzb25CeUlkKGtleUZpZWxkLCBpZCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2VBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc291cmNlQXJyYXlbaV1ba2V5RmllbGRdID09IGlkKSB7XG4gICAgICAgICAgcmV0dXJuIHNvdXJjZUFycmF5W2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGFsZXJ0KFwiUGFyc2VBcnJheUpzb25Ub1RyZWVKc29uLkZpbmRKc29uQnlJZDrlnKhzb3VyY2VBcnJheeS4reaJvuS4jeWIsOaMh+Wumklk55qE6K6w5b2VXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEZpbmRDaGlsZEpzb24ocmVsYXRpb25GaWVsZCwgcGlkKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNvdXJjZUFycmF5W2ldW3JlbGF0aW9uRmllbGRdID09IHBpZCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHNvdXJjZUFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEZpbmRDaGlsZE5vZGVBbmRQYXJzZShwaWQsIHJlc3VsdCkge1xuICAgICAgdmFyIGNoaWxkanNvbnMgPSBGaW5kQ2hpbGRKc29uKGNvbmZpZy5SZWxhdGlvbkZpZWxkLCBwaWQpO1xuXG4gICAgICBpZiAoY2hpbGRqc29ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChyZXN1bHRbY29uZmlnLkNoaWxkRmllbGROYW1lXSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHRbY29uZmlnLkNoaWxkRmllbGROYW1lXSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZGpzb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHRvT2JqID0ge307XG4gICAgICAgICAgdG9PYmogPSBKc29uVXRpbGl0eS5TaW1wbGVDbG9uZUF0dHIodG9PYmosIGNoaWxkanNvbnNbaV0pO1xuICAgICAgICAgIHJlc3VsdFtjb25maWcuQ2hpbGRGaWVsZE5hbWVdLnB1c2godG9PYmopO1xuICAgICAgICAgIHZhciBpZCA9IHRvT2JqW2NvbmZpZy5LZXlGaWVsZF07XG4gICAgICAgICAgRmluZENoaWxkTm9kZUFuZFBhcnNlKGlkLCB0b09iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIHJvb3RKc29uID0gRmluZEpzb25CeUlkKGNvbmZpZy5LZXlGaWVsZCwgcm9vdElkKTtcbiAgICByZXN1bHQgPSB0aGlzLlNpbXBsZUNsb25lQXR0cihyZXN1bHQsIHJvb3RKc29uKTtcbiAgICBGaW5kQ2hpbGROb2RlQW5kUGFyc2Uocm9vdElkLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG4gIFJlc29sdmVTaW1wbGVBcnJheUpzb25Ub1RyZWVKc29uOiBmdW5jdGlvbiBSZXNvbHZlU2ltcGxlQXJyYXlKc29uVG9UcmVlSnNvbihjb25maWcsIHNvdXJjZUpzb24sIHJvb3ROb2RlSWQpIHtcbiAgICBhbGVydChcIkpzb25VdGlsaXR5LlJlc29sdmVTaW1wbGVBcnJheUpzb25Ub1RyZWVKc29uIOW3suWBnOeUqFwiKTtcbiAgfSxcbiAgU2ltcGxlQ2xvbmVBdHRyOiBmdW5jdGlvbiBTaW1wbGVDbG9uZUF0dHIodG9PYmosIGZyb21PYmopIHtcbiAgICBmb3IgKHZhciBhdHRyIGluIGZyb21PYmopIHtcbiAgICAgIHRvT2JqW2F0dHJdID0gZnJvbU9ialthdHRyXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9PYmo7XG4gIH0sXG4gIENsb25lU2ltcGxlOiBmdW5jdGlvbiBDbG9uZVNpbXBsZShzb3VyY2UpIHtcbiAgICB2YXIgbmV3SnNvbiA9IGpRdWVyeS5leHRlbmQodHJ1ZSwge30sIHNvdXJjZSk7XG4gICAgcmV0dXJuIG5ld0pzb247XG4gIH0sXG4gIEpzb25Ub1N0cmluZzogZnVuY3Rpb24gSnNvblRvU3RyaW5nKG9iaikge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopO1xuICB9LFxuICBKc29uVG9TdHJpbmdGb3JtYXQ6IGZ1bmN0aW9uIEpzb25Ub1N0cmluZ0Zvcm1hdChvYmopIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAyKTtcbiAgfSxcbiAgU3RyaW5nVG9Kc29uOiBmdW5jdGlvbiBTdHJpbmdUb0pzb24oc3RyKSB7XG4gICAgcmV0dXJuIGV2YWwoXCIoXCIgKyBzdHIgKyBcIilcIik7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8v5YiX6KGo6aG16Z2i5aSE55CG5bel5YW357G7XG52YXIgTGlzdFBhZ2VVdGlsaXR5ID0ge1xuICBHZXRHZW5lcmFsUGFnZUhlaWdodDogZnVuY3Rpb24gR2V0R2VuZXJhbFBhZ2VIZWlnaHQoZml4SGVpZ2h0KSB7XG4gICAgdmFyIHBhZ2VIZWlnaHQgPSBqUXVlcnkoZG9jdW1lbnQpLmhlaWdodCgpOyAvL2FsZXJ0KHBhZ2VIZWlnaHQpO1xuICAgIC8vYWxlcnQocGFnZUhlaWdodCk7XG5cbiAgICBpZiAoJChcIiNsaXN0LXNpbXBsZS1zZWFyY2gtd3JhcFwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAvL2FsZXJ0KCQoXCIjbGlzdC1idXR0b24td3JhcFwiKS5oZWlnaHQoKStcInx8XCIrJChcIiNsaXN0LXNpbXBsZS1zZWFyY2gtd3JhcFwiKS5vdXRlckhlaWdodCgpKTtcbiAgICAgIHBhZ2VIZWlnaHQgPSBwYWdlSGVpZ2h0IC0gJChcIiNsaXN0LXNpbXBsZS1zZWFyY2gtd3JhcFwiKS5vdXRlckhlaWdodCgpICsgZml4SGVpZ2h0IC0gJChcIiNsaXN0LWJ1dHRvbi13cmFwXCIpLm91dGVySGVpZ2h0KCkgLSAkKFwiI2xpc3QtcGFnZXItd3JhcFwiKS5vdXRlckhlaWdodCgpIC0gMzA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhZ2VIZWlnaHQgPSBwYWdlSGVpZ2h0IC0gJChcIiNsaXN0LWJ1dHRvbi13cmFwXCIpLm91dGVySGVpZ2h0KCkgKyBmaXhIZWlnaHQgLSAkKFwiI2xpc3QtcGFnZXItd3JhcFwiKS5vdXRlckhlaWdodCgpIC0gMzA7XG4gICAgfSAvL2FsZXJ0KHBhZ2VIZWlnaHQpO1xuXG5cbiAgICByZXR1cm4gcGFnZUhlaWdodDtcbiAgfSxcbiAgR2V0Rml4SGVpZ2h0OiBmdW5jdGlvbiBHZXRGaXhIZWlnaHQoKSB7XG4gICAgcmV0dXJuIC03MDtcbiAgfSxcbiAgSVZpZXdUYWJsZVJlbmRlcmVyOiB7XG4gICAgVG9EYXRlWVlZWV9NTV9ERDogZnVuY3Rpb24gVG9EYXRlWVlZWV9NTV9ERChoLCBkYXRldGltZSkge1xuICAgICAgLy9kZWJ1Z2dlcjtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoZGF0ZXRpbWUpO1xuICAgICAgdmFyIGRhdGVTdHIgPSBEYXRlVXRpbGl0eS5Gb3JtYXQoZGF0ZSwgJ3l5eXktTU0tZGQnKTsgLy92YXIgZGF0ZVN0cj1kYXRldGltZS5zcGxpdChcIiBcIilbMF07XG5cbiAgICAgIHJldHVybiBoKCdkaXYnLCBkYXRlU3RyKTtcbiAgICB9LFxuICAgIFN0cmluZ1RvRGF0ZVlZWVlfTU1fREQ6IGZ1bmN0aW9uIFN0cmluZ1RvRGF0ZVlZWVlfTU1fREQoaCwgZGF0ZXRpbWUpIHtcbiAgICAgIC8vZGVidWdnZXI7XG4gICAgICAvL2RlYnVnZ2VyO1xuICAgICAgLy92YXIgZGF0ZT1uZXcgRGF0ZShkYXRldGltZSk7XG4gICAgICAvL3ZhciBkYXRlU3RyPURhdGVVdGlsaXR5LkZvcm1hdChkYXRlLCd5eXl5LU1NLWRkJyk7XG4gICAgICB2YXIgZGF0ZVN0ciA9IGRhdGV0aW1lLnNwbGl0KFwiIFwiKVswXTtcbiAgICAgIHJldHVybiBoKCdkaXYnLCBkYXRlU3RyKTtcbiAgICB9LFxuICAgIFRvU3RhdHVzRW5hYmxlOiBmdW5jdGlvbiBUb1N0YXR1c0VuYWJsZShoLCBzdGF0dXMpIHtcbiAgICAgIGlmIChzdGF0dXMgPT0gMCkge1xuICAgICAgICByZXR1cm4gaCgnZGl2JywgXCLnpoHnlKhcIik7XG4gICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PSAxKSB7XG4gICAgICAgIHJldHVybiBoKCdkaXYnLCBcIuWQr+eUqFwiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFRvWWVzTm9FbmFibGU6IGZ1bmN0aW9uIFRvWWVzTm9FbmFibGUoaCwgc3RhdHVzKSB7XG4gICAgICBpZiAoc3RhdHVzID09IDApIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIFwi5ZCmXCIpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT0gMSkge1xuICAgICAgICByZXR1cm4gaCgnZGl2JywgXCLmmK9cIik7XG4gICAgICB9XG4gICAgfSxcbiAgICBUb0RpY3Rpb25hcnlUZXh0OiBmdW5jdGlvbiBUb0RpY3Rpb25hcnlUZXh0KGgsIGRpY3Rpb25hcnlKc29uLCBncm91cFZhbHVlLCBkaWN0aW9uYXJ5VmFsdWUpIHtcbiAgICAgIC8vZGVidWdnZXI7XG4gICAgICB2YXIgc2ltcGxlRGljdGlvbmFyeUpzb24gPSBEaWN0aW9uYXJ5VXRpbGl0eS5Hcm91cFZhbHVlTGlzdEpzb25Ub1NpbXBsZUpzb24oZGljdGlvbmFyeUpzb24pO1xuXG4gICAgICBpZiAoZGljdGlvbmFyeVZhbHVlID09IG51bGwgfHwgZGljdGlvbmFyeVZhbHVlID09IFwiXCIpIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIFwiXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2ltcGxlRGljdGlvbmFyeUpzb25bZ3JvdXBWYWx1ZV0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChzaW1wbGVEaWN0aW9uYXJ5SnNvbltncm91cFZhbHVlXSkge1xuICAgICAgICAgIGlmIChzaW1wbGVEaWN0aW9uYXJ5SnNvbltncm91cFZhbHVlXVtkaWN0aW9uYXJ5VmFsdWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gaCgnZGl2Jywgc2ltcGxlRGljdGlvbmFyeUpzb25bZ3JvdXBWYWx1ZV1bZGljdGlvbmFyeVZhbHVlXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoKCdkaXYnLCBcIuaJvuS4jeWIsOijheaNoueahFRFWFRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBoKCdkaXYnLCBcIuaJvuS4jeWIsOijheaNoueahOWIhue7hFwiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIFwi5om+5LiN5Yiw6KOF5o2i55qE5YiG57uEXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgSVZpZXdUYWJsZU1hcmVTdXJlU2VsZWN0ZWQ6IGZ1bmN0aW9uIElWaWV3VGFibGVNYXJlU3VyZVNlbGVjdGVkKHNlbGVjdGlvblJvd3MpIHtcbiAgICBpZiAoc2VsZWN0aW9uUm93cyAhPSBudWxsICYmIHNlbGVjdGlvblJvd3MubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gdGhlbihmdW5jKSB7XG4gICAgICAgICAgZnVuYyhzZWxlY3Rpb25Sb3dzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydCh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nQWxlcnRJZCwge30sIFwi6K+36YCJ5Lit6ZyA6KaB5pON5L2c55qE6KGMIVwiLCBudWxsKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4oZnVuYykge31cbiAgICAgIH07XG4gICAgfVxuICB9LFxuICBJVmlld1RhYmxlTWFyZVN1cmVTZWxlY3RlZE9uZTogZnVuY3Rpb24gSVZpZXdUYWJsZU1hcmVTdXJlU2VsZWN0ZWRPbmUoc2VsZWN0aW9uUm93cykge1xuICAgIGlmIChzZWxlY3Rpb25Sb3dzICE9IG51bGwgJiYgc2VsZWN0aW9uUm93cy5sZW5ndGggPiAwICYmIHNlbGVjdGlvblJvd3MubGVuZ3RoID09IDEpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4oZnVuYykge1xuICAgICAgICAgIGZ1bmMoc2VsZWN0aW9uUm93cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCBcIuivt+mAieS4remcgOimgeaTjeS9nOeahOihjO+8jOavj+asoeWPquiDvemAieS4reS4gOihjCFcIiwgbnVsbCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKGZ1bmMpIHt9XG4gICAgICB9O1xuICAgIH1cbiAgfSxcbiAgSVZpZXdDaGFuZ2VTZXJ2ZXJTdGF0dXM6IGZ1bmN0aW9uIElWaWV3Q2hhbmdlU2VydmVyU3RhdHVzKHVybCwgc2VsZWN0aW9uUm93cywgaWRGaWVsZCwgc3RhdHVzTmFtZSwgcGFnZUFwcE9iaikge1xuICAgIHZhciBpZEFycmF5ID0gbmV3IEFycmF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdGlvblJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlkQXJyYXkucHVzaChzZWxlY3Rpb25Sb3dzW2ldW2lkRmllbGRdKTtcbiAgICB9XG5cbiAgICBBamF4VXRpbGl0eS5Qb3N0KHVybCwge1xuICAgICAgaWRzOiBpZEFycmF5LmpvaW4oXCI7XCIpLFxuICAgICAgc3RhdHVzOiBzdGF0dXNOYW1lXG4gICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCByZXN1bHQubWVzc2FnZSwgZnVuY3Rpb24gKCkge30pO1xuICAgICAgICBwYWdlQXBwT2JqLnJlbG9hZERhdGEoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCByZXN1bHQubWVzc2FnZSwgbnVsbCk7XG4gICAgICB9XG4gICAgfSwgXCJqc29uXCIpO1xuICB9LFxuICAvL+S4iuS4i+enu+WKqOWwgeijhVxuICBJVmlld01vdmVGYWNlOiBmdW5jdGlvbiBJVmlld01vdmVGYWNlKHVybCwgc2VsZWN0aW9uUm93cywgaWRGaWVsZCwgdHlwZSwgcGFnZUFwcE9iaikge1xuICAgIHRoaXMuSVZpZXdUYWJsZU1hcmVTdXJlU2VsZWN0ZWRPbmUoc2VsZWN0aW9uUm93cykudGhlbihmdW5jdGlvbiAoc2VsZWN0aW9uUm93cykge1xuICAgICAgLy9kZWJ1Z2dlcjtcbiAgICAgIEFqYXhVdGlsaXR5LlBvc3QodXJsLCB7XG4gICAgICAgIHJlY29yZElkOiBzZWxlY3Rpb25Sb3dzWzBdW2lkRmllbGRdLFxuICAgICAgICB0eXBlOiB0eXBlXG4gICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIHBhZ2VBcHBPYmoucmVsb2FkRGF0YSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCByZXN1bHQubWVzc2FnZSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0sIFwianNvblwiKTtcbiAgICB9KTtcbiAgfSxcbiAgLy/mlLnlj5jnirbmgIHlsIHoo4VcbiAgSVZpZXdDaGFuZ2VTZXJ2ZXJTdGF0dXNGYWNlOiBmdW5jdGlvbiBJVmlld0NoYW5nZVNlcnZlclN0YXR1c0ZhY2UodXJsLCBzZWxlY3Rpb25Sb3dzLCBpZEZpZWxkLCBzdGF0dXNOYW1lLCBwYWdlQXBwT2JqKSB7XG4gICAgdGhpcy5JVmlld1RhYmxlTWFyZVN1cmVTZWxlY3RlZChzZWxlY3Rpb25Sb3dzKS50aGVuKGZ1bmN0aW9uIChzZWxlY3Rpb25Sb3dzKSB7XG4gICAgICBMaXN0UGFnZVV0aWxpdHkuSVZpZXdDaGFuZ2VTZXJ2ZXJTdGF0dXModXJsLCBzZWxlY3Rpb25Sb3dzLCBpZEZpZWxkLCBzdGF0dXNOYW1lLCBwYWdlQXBwT2JqKTtcbiAgICB9KTtcbiAgfSxcbiAgSVZpZXdUYWJsZURlbGV0ZVJvdzogZnVuY3Rpb24gSVZpZXdUYWJsZURlbGV0ZVJvdyh1cmwsIHJlY29yZElkLCBwYWdlQXBwT2JqKSB7XG4gICAgRGlhbG9nVXRpbGl0eS5Db25maXJtKHdpbmRvdywgXCLnoa7orqTopoHliKDpmaTlvZPliY3orrDlvZXlkJfvvJ9cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgQWpheFV0aWxpdHkuUG9zdCh1cmwsIHtcbiAgICAgICAgcmVjb3JkSWQ6IHJlY29yZElkXG4gICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCByZXN1bHQubWVzc2FnZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGFnZUFwcE9iai5yZWxvYWREYXRhKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydCh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nQWxlcnRJZCwge30sIHJlc3VsdC5tZXNzYWdlLCBmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgIH1cbiAgICAgIH0sIFwianNvblwiKTtcbiAgICB9KTtcbiAgfSxcbiAgSVZpZXdUYWJsZUxvYWREYXRhU2VhcmNoOiBmdW5jdGlvbiBJVmlld1RhYmxlTG9hZERhdGFTZWFyY2godXJsLCBwYWdlTnVtLCBwYWdlU2l6ZSwgc2VhcmNoQ29uZGl0aW9uLCBwYWdlQXBwT2JqLCBpZEZpZWxkLCBhdXRvU2VsZWN0ZWRPbGRSb3dzLCBzdWNjZXNzRnVuYywgbG9hZERpY3QpIHtcbiAgICAvL3ZhciBsb2FkRGljdD1mYWxzZTtcbiAgICAvL2lmKHBhZ2VOdW09PT0xKSB7XG4gICAgLy8gICAgbG9hZERpY3QgPSB0cnVlO1xuICAgIC8vfVxuICAgIGlmIChsb2FkRGljdCA9PSB1bmRlZmluZWQgfHwgbG9hZERpY3QgPT0gbnVsbCkge1xuICAgICAgbG9hZERpY3QgPSBmYWxzZTtcbiAgICB9IC8vZGVidWdnZXI7XG5cblxuICAgIEFqYXhVdGlsaXR5LlBvc3QodXJsLCB7XG4gICAgICBcInBhZ2VOdW1cIjogcGFnZU51bSxcbiAgICAgIFwicGFnZVNpemVcIjogcGFnZVNpemUsXG4gICAgICBcInNlYXJjaENvbmRpdGlvblwiOiBTZWFyY2hVdGlsaXR5LlNlcmlhbGl6YXRpb25TZWFyY2hDb25kaXRpb24oc2VhcmNoQ29uZGl0aW9uKSxcbiAgICAgIFwibG9hZERpY3RcIjogbG9hZERpY3RcbiAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdWNjZXNzRnVuYyA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBzdWNjZXNzRnVuYyhyZXN1bHQsIHBhZ2VBcHBPYmopO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFnZUFwcE9iai50YWJsZURhdGEgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgcGFnZUFwcE9iai50YWJsZURhdGEgPSByZXN1bHQuZGF0YS5saXN0O1xuICAgICAgICBwYWdlQXBwT2JqLnBhZ2VUb3RhbCA9IHJlc3VsdC5kYXRhLnRvdGFsO1xuXG4gICAgICAgIGlmIChhdXRvU2VsZWN0ZWRPbGRSb3dzKSB7XG4gICAgICAgICAgaWYgKHBhZ2VBcHBPYmouc2VsZWN0aW9uUm93cyAhPSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2VBcHBPYmoudGFibGVEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcGFnZUFwcE9iai5zZWxlY3Rpb25Sb3dzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VBcHBPYmouc2VsZWN0aW9uUm93c1tqXVtpZEZpZWxkXSA9PSBwYWdlQXBwT2JqLnRhYmxlRGF0YVtpXVtpZEZpZWxkXSkge1xuICAgICAgICAgICAgICAgICAgcGFnZUFwcE9iai50YWJsZURhdGFbaV0uX2NoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydEVycm9yKHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydElkLCB7fSwgcmVzdWx0Lm1lc3NhZ2UsIGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgIH1cbiAgICB9LCBcImpzb25cIik7XG4gIH0sXG4gIElWaWV3VGFibGVMb2FkRGF0YU5vU2VhcmNoOiBmdW5jdGlvbiBJVmlld1RhYmxlTG9hZERhdGFOb1NlYXJjaCh1cmwsIHBhZ2VOdW0sIHBhZ2VTaXplLCBwYWdlQXBwT2JqLCBpZEZpZWxkLCBhdXRvU2VsZWN0ZWRPbGRSb3dzLCBzdWNjZXNzRnVuYykge1xuICAgIC8vZGVidWdnZXI7XG4gICAgQWpheFV0aWxpdHkuUG9zdCh1cmwsIHtcbiAgICAgIHBhZ2VOdW06IHBhZ2VOdW0sXG4gICAgICBwYWdlU2l6ZTogcGFnZVNpemVcbiAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgcGFnZUFwcE9iai50YWJsZURhdGEgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgcGFnZUFwcE9iai50YWJsZURhdGEgPSByZXN1bHQuZGF0YS5saXN0O1xuICAgICAgICBwYWdlQXBwT2JqLnBhZ2VUb3RhbCA9IHJlc3VsdC5kYXRhLnRvdGFsO1xuXG4gICAgICAgIGlmIChhdXRvU2VsZWN0ZWRPbGRSb3dzKSB7XG4gICAgICAgICAgaWYgKHBhZ2VBcHBPYmouc2VsZWN0aW9uUm93cyAhPSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2VBcHBPYmoudGFibGVEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcGFnZUFwcE9iai5zZWxlY3Rpb25Sb3dzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VBcHBPYmouc2VsZWN0aW9uUm93c1tqXVtpZEZpZWxkXSA9PSBwYWdlQXBwT2JqLnRhYmxlRGF0YVtpXVtpZEZpZWxkXSkge1xuICAgICAgICAgICAgICAgICAgcGFnZUFwcE9iai50YWJsZURhdGFbaV0uX2NoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc3VjY2Vzc0Z1bmMgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgc3VjY2Vzc0Z1bmMocmVzdWx0LCBwYWdlQXBwT2JqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFwianNvblwiKTtcbiAgfSxcbiAgSVZpZXdUYWJsZUlubmVyQnV0dG9uOiB7XG4gICAgVmlld0J1dHRvbjogZnVuY3Rpb24gVmlld0J1dHRvbihoLCBwYXJhbXMsIGlkRmllbGQsIHBhZ2VBcHBPYmopIHtcbiAgICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICAgIGNsYXNzOiBcImxpc3Qtcm93LWJ1dHRvbiBsaXN0LXJvdy1idXR0b24tdmlld1wiLFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHtcbiAgICAgICAgICAgIHBhZ2VBcHBPYmoudmlldyhwYXJhbXMucm93W2lkRmllbGRdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgRWRpdEJ1dHRvbjogZnVuY3Rpb24gRWRpdEJ1dHRvbihoLCBwYXJhbXMsIGlkRmllbGQsIHBhZ2VBcHBPYmopIHtcbiAgICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICAgIGNsYXNzOiBcImxpc3Qtcm93LWJ1dHRvbiBsaXN0LXJvdy1idXR0b24tZWRpdFwiLFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHtcbiAgICAgICAgICAgIHBhZ2VBcHBPYmouZWRpdChwYXJhbXMucm93W2lkRmllbGRdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgRGVsZXRlQnV0dG9uOiBmdW5jdGlvbiBEZWxldGVCdXR0b24oaCwgcGFyYW1zLCBpZEZpZWxkLCBwYWdlQXBwT2JqKSB7XG4gICAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgICBjbGFzczogXCJsaXN0LXJvdy1idXR0b24gbGlzdC1yb3ctYnV0dG9uLWRlbFwiLFxuICAgICAgICBvbjoge1xuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHtcbiAgICAgICAgICAgIC8vZGVidWdnZXI7XG4gICAgICAgICAgICBwYWdlQXBwT2JqLmRlbChwYXJhbXMucm93W2lkRmllbGRdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy/pobXpnaLmoLflvI/ovoXliqnlip/og73nsbtcbnZhciBQYWdlU3R5bGVVdGlsaXR5ID0ge1xuICBHZXRQYWdlSGVpZ2h0OiBmdW5jdGlvbiBHZXRQYWdlSGVpZ2h0KCkge1xuICAgIHJldHVybiBqUXVlcnkod2luZG93LmRvY3VtZW50KS5oZWlnaHQoKTtcbiAgfSxcbiAgR2V0UGFnZVdpZHRoOiBmdW5jdGlvbiBHZXRQYWdlV2lkdGgoKSB7XG4gICAgcmV0dXJuIGpRdWVyeSh3aW5kb3cuZG9jdW1lbnQpLndpZHRoKCk7XG4gIH0sXG4gIEdldFdpbmRvd0hlaWdodDogZnVuY3Rpb24gR2V0V2luZG93SGVpZ2h0KCkge1xuICAgIHJldHVybiAkKHdpbmRvdykuaGVpZ2h0KCk7XG4gIH0sXG4gIEdldFdpbmRvd1dpZHRoOiBmdW5jdGlvbiBHZXRXaW5kb3dXaWR0aCgpIHtcbiAgICByZXR1cm4gJCh3aW5kb3cpLndpZHRoKCk7XG4gIH0sXG4gIEdldExpc3RCdXR0b25PdXRlckhlaWdodDogZnVuY3Rpb24gR2V0TGlzdEJ1dHRvbk91dGVySGVpZ2h0KCkge1xuICAgIGFsZXJ0KFwiUGFnZVN0eWxlVXRpbGl0eS5HZXRMaXN0QnV0dG9uT3V0ZXJIZWlnaHQg5bey5YGc55SoXCIpO1xuICAgIHJldHVybiBqUXVlcnkoXCIubGlzdC1idXR0b24tb3V0ZXItY1wiKS5vdXRlckhlaWdodCgpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vL+afpeivouWkhOeQhuW3peWFt+exu1xudmFyIFNlYXJjaFV0aWxpdHkgPSB7XG4gIFNlYXJjaEZpZWxkVHlwZToge1xuICAgIEludFR5cGU6IFwiSW50VHlwZVwiLFxuICAgIE51bWJlclR5cGU6IFwiTnVtYmVyVHlwZVwiLFxuICAgIERhdGFUeXBlOiBcIkRhdGVUeXBlXCIsXG4gICAgTGlrZVN0cmluZ1R5cGU6IFwiTGlrZVN0cmluZ1R5cGVcIixcbiAgICBMZWZ0TGlrZVN0cmluZ1R5cGU6IFwiTGVmdExpa2VTdHJpbmdUeXBlXCIsXG4gICAgUmlnaHRMaWtlU3RyaW5nVHlwZTogXCJSaWdodExpa2VTdHJpbmdUeXBlXCIsXG4gICAgU3RyaW5nVHlwZTogXCJTdHJpbmdUeXBlXCIsXG4gICAgRGF0YVN0cmluZ1R5cGU6IFwiRGF0ZVN0cmluZ1R5cGVcIixcbiAgICBBcnJheUxpa2VTdHJpbmdUeXBlOiBcIkFycmF5TGlrZVN0cmluZ1R5cGVcIlxuICB9LFxuICBTZXJpYWxpemF0aW9uU2VhcmNoQ29uZGl0aW9uOiBmdW5jdGlvbiBTZXJpYWxpemF0aW9uU2VhcmNoQ29uZGl0aW9uKHNlYXJjaENvbmRpdGlvbikge1xuICAgIHZhciBzZWFyY2hDb25kaXRpb25DbG9uZSA9IEpzb25VdGlsaXR5LkNsb25lU2ltcGxlKHNlYXJjaENvbmRpdGlvbik7IC8vZGVidWdnZXI7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc2VhcmNoQ29uZGl0aW9uQ2xvbmUpIHtcbiAgICAgIGlmIChzZWFyY2hDb25kaXRpb25DbG9uZVtrZXldLnR5cGUgPT0gU2VhcmNoVXRpbGl0eS5TZWFyY2hGaWVsZFR5cGUuQXJyYXlMaWtlU3RyaW5nVHlwZSkge1xuICAgICAgICBpZiAoc2VhcmNoQ29uZGl0aW9uQ2xvbmVba2V5XS52YWx1ZSAhPSBudWxsICYmIHNlYXJjaENvbmRpdGlvbkNsb25lW2tleV0udmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNlYXJjaENvbmRpdGlvbkNsb25lW2tleV0udmFsdWUgPSBzZWFyY2hDb25kaXRpb25DbG9uZVtrZXldLnZhbHVlLmpvaW4oXCI7XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlYXJjaENvbmRpdGlvbkNsb25lW2tleV0udmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvL2RlYnVnZ2VyO1xuXG5cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc2VhcmNoQ29uZGl0aW9uQ2xvbmUpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgSkJ1aWxkNERTZWxlY3RWaWV3ID0ge1xuICBTZWxlY3RFbnZWYXJpYWJsZToge1xuICAgIFVSTDogXCIvUGxhdEZvcm0vU2VsZWN0Vmlldy9TZWxlY3RFbnZWYXJpYWJsZS9TZWxlY3RcIixcbiAgICBiZWdpblNlbGVjdDogZnVuY3Rpb24gYmVnaW5TZWxlY3QoaW5zdGFuY2VOYW1lKSB7XG4gICAgICB2YXIgdXJsID0gQmFzZVV0aWxpdHkuQnVpbGRBY3Rpb24odGhpcy5VUkwsIHtcbiAgICAgICAgXCJpbnN0YW5jZU5hbWVcIjogaW5zdGFuY2VOYW1lXG4gICAgICB9KTtcbiAgICAgIERpYWxvZ1V0aWxpdHkuT3BlbklmcmFtZVdpbmRvdyh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nSWQsIHVybCwge1xuICAgICAgICB0aXRsZTogXCLpgInmi6nlj5jph49cIixcbiAgICAgICAgbW9kYWw6IHRydWVcbiAgICAgIH0sIDIpO1xuICAgIH0sXG4gICAgYmVnaW5TZWxlY3RJbkZyYW1lOiBmdW5jdGlvbiBiZWdpblNlbGVjdEluRnJhbWUob3BlbmVyLCBpbnN0YW5jZU5hbWUsIG9wdGlvbikge1xuICAgICAgdmFyIHVybCA9IEJhc2VVdGlsaXR5LkJ1aWxkQWN0aW9uKHRoaXMuVVJMLCB7XG4gICAgICAgIFwiaW5zdGFuY2VOYW1lXCI6IGluc3RhbmNlTmFtZVxuICAgICAgfSk7XG4gICAgICB2YXIgb3B0aW9uID0gJC5leHRlbmQodHJ1ZSwge30sIHtcbiAgICAgICAgbW9kYWw6IHRydWUsXG4gICAgICAgIHRpdGxlOiBcIumAieaLqeWPmOmHj1wiXG4gICAgICB9LCBvcHRpb24pO1xuICAgICAgRGlhbG9nVXRpbGl0eS5GcmFtZV9PcGVuSWZyYW1lV2luZG93KG9wZW5lciwgRGlhbG9nVXRpbGl0eS5EaWFsb2dJZDA1LCB1cmwsIG9wdGlvbiwgMSk7IC8vYWxlcnQoXCIxXCIpO1xuXG4gICAgICAkKHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQpLmZpbmQoXCIudWktd2lkZ2V0LW92ZXJsYXlcIikuY3NzKFwiekluZGV4XCIsIDEwMTAwKTtcbiAgICAgICQod2luZG93LnBhcmVudC5kb2N1bWVudCkuZmluZChcIi51aS1kaWFsb2dcIikuY3NzKFwiekluZGV4XCIsIDEwMTAxKTtcbiAgICB9LFxuICAgIGZvcm1hdFRleHQ6IGZ1bmN0aW9uIGZvcm1hdFRleHQodHlwZSwgdGV4dCkge1xuICAgICAgLy9kZWJ1Z2dlcjtcbiAgICAgIGlmICh0eXBlID09IFwiQ29uc3RcIikge1xuICAgICAgICByZXR1cm4gXCLpnZnmgIHlgLw644CQXCIgKyB0ZXh0ICsgXCLjgJFcIjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIkRhdGVUaW1lXCIpIHtcbiAgICAgICAgcmV0dXJuIFwi5pel5pyf5pe26Ze0OuOAkFwiICsgdGV4dCArIFwi44CRXCI7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJBcGlWYXJcIikge1xuICAgICAgICByZXR1cm4gXCJBUEnlj5jph48644CQXCIgKyB0ZXh0ICsgXCLjgJFcIjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIk51bWJlckNvZGVcIikge1xuICAgICAgICByZXR1cm4gXCLluo/lj7fnvJbnoIE644CQXCIgKyB0ZXh0ICsgXCLjgJFcIjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIklkQ29kZXJcIikge1xuICAgICAgICByZXR1cm4gXCLkuLvplK7nlJ/miJA644CQXCIgKyB0ZXh0ICsgXCLjgJFcIjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiBcIuOAkOaXoOOAkVwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gXCLmnKrnn6XnsbvlnotcIiArIHRleHQ7XG4gICAgfVxuICB9LFxuICBTZWxlY3RCaW5kVG9GaWVsZDoge1xuICAgIFVSTDogXCIvUGxhdEZvcm0vU2VsZWN0Vmlldy9TZWxlY3RCaW5kVG9UYWJsZUZpZWxkL1NlbGVjdFwiLFxuICAgIGJlZ2luU2VsZWN0OiBmdW5jdGlvbiBiZWdpblNlbGVjdChpbnN0YW5jZU5hbWUpIHtcbiAgICAgIHZhciB1cmwgPSB0aGlzLlVSTCArIFwiP2luc3RhbmNlTmFtZT1cIiArIGluc3RhbmNlTmFtZTtcbiAgICAgIERpYWxvZ1V0aWxpdHkuT3BlbklmcmFtZVdpbmRvdyh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nSWQsIHVybCwge1xuICAgICAgICB0aXRsZTogXCLpgInmi6nlj5jph49cIixcbiAgICAgICAgbW9kYWw6IHRydWVcbiAgICAgIH0sIDIpO1xuICAgIH0sXG4gICAgYmVnaW5TZWxlY3RJbkZyYW1lOiBmdW5jdGlvbiBiZWdpblNlbGVjdEluRnJhbWUob3BlbmVyLCBpbnN0YW5jZU5hbWUsIG9wdGlvbikge1xuICAgICAgdmFyIHVybCA9IEJhc2VVdGlsaXR5LkJ1aWxkQWN0aW9uKHRoaXMuVVJMLCB7XG4gICAgICAgIFwiaW5zdGFuY2VOYW1lXCI6IGluc3RhbmNlTmFtZVxuICAgICAgfSk7XG4gICAgICB2YXIgb3B0aW9uID0gJC5leHRlbmQodHJ1ZSwge30sIHtcbiAgICAgICAgbW9kYWw6IHRydWUsXG4gICAgICAgIHRpdGxlOiBcIumAieaLqee7keWumuWtl+autVwiXG4gICAgICB9LCBvcHRpb24pO1xuICAgICAgRGlhbG9nVXRpbGl0eS5GcmFtZV9PcGVuSWZyYW1lV2luZG93KG9wZW5lciwgRGlhbG9nVXRpbGl0eS5EaWFsb2dJZDA1LCB1cmwsIG9wdGlvbiwgMSk7IC8vYWxlcnQoXCIxXCIpO1xuXG4gICAgICAkKHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQpLmZpbmQoXCIudWktd2lkZ2V0LW92ZXJsYXlcIikuY3NzKFwiekluZGV4XCIsIDEwMTAwKTtcbiAgICAgICQod2luZG93LnBhcmVudC5kb2N1bWVudCkuZmluZChcIi51aS1kaWFsb2dcIikuY3NzKFwiekluZGV4XCIsIDEwMTAxKTtcbiAgICB9XG4gIH0sXG4gIFNlbGVjdFZhbGlkYXRlUnVsZToge1xuICAgIFVSTDogXCIvUGxhdEZvcm0vU2VsZWN0Vmlldy9TZWxlY3RWYWxpZGF0ZVJ1bGUvU2VsZWN0XCIsXG4gICAgYmVnaW5TZWxlY3Q6IGZ1bmN0aW9uIGJlZ2luU2VsZWN0KGluc3RhbmNlTmFtZSkge1xuICAgICAgdmFyIHVybCA9IHRoaXMuVVJMICsgXCI/aW5zdGFuY2VOYW1lPVwiICsgaW5zdGFuY2VOYW1lO1xuICAgICAgRGlhbG9nVXRpbGl0eS5PcGVuSWZyYW1lV2luZG93KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dJZCwgdXJsLCB7XG4gICAgICAgIHRpdGxlOiBcIumqjOivgeinhOWImVwiLFxuICAgICAgICBtb2RhbDogdHJ1ZVxuICAgICAgfSwgMik7XG4gICAgfSxcbiAgICBiZWdpblNlbGVjdEluRnJhbWU6IGZ1bmN0aW9uIGJlZ2luU2VsZWN0SW5GcmFtZShvcGVuZXIsIGluc3RhbmNlTmFtZSwgb3B0aW9uKSB7XG4gICAgICB2YXIgdXJsID0gQmFzZVV0aWxpdHkuQnVpbGRBY3Rpb24odGhpcy5VUkwsIHtcbiAgICAgICAgXCJpbnN0YW5jZU5hbWVcIjogaW5zdGFuY2VOYW1lXG4gICAgICB9KTtcbiAgICAgIHZhciBvcHRpb24gPSAkLmV4dGVuZCh0cnVlLCB7fSwge1xuICAgICAgICBtb2RhbDogdHJ1ZSxcbiAgICAgICAgdGl0bGU6IFwi6aqM6K+B6KeE5YiZXCJcbiAgICAgIH0sIG9wdGlvbik7XG4gICAgICBEaWFsb2dVdGlsaXR5LkZyYW1lX09wZW5JZnJhbWVXaW5kb3cob3BlbmVyLCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0lkMDUsIHVybCwgb3B0aW9uLCAxKTsgLy9hbGVydChcIjFcIik7XG5cbiAgICAgICQod2luZG93LnBhcmVudC5kb2N1bWVudCkuZmluZChcIi51aS13aWRnZXQtb3ZlcmxheVwiKS5jc3MoXCJ6SW5kZXhcIiwgMTAxMDApO1xuICAgICAgJCh3aW5kb3cucGFyZW50LmRvY3VtZW50KS5maW5kKFwiLnVpLWRpYWxvZ1wiKS5jc3MoXCJ6SW5kZXhcIiwgMTAxMDEpO1xuICAgIH1cbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuLy/lrZfnrKbkuLLmk43kvZznsbtcbnZhciBTdHJpbmdVdGlsaXR5ID0ge1xuICBHZXRUaW1lU3RhbXBVcmw6IGZ1bmN0aW9uIEdldFRpbWVTdGFtcFVybCh1cmwpIHtcbiAgICBhbGVydChcIui/geenu+WIsEJhc2VVdGlsaXR5LkFwcGVuZFRpbWVTdGFtcFVybFwiKTtcbiAgfSxcbiAgR2V0QWxsUXVlcnlTdHJpbmc6IGZ1bmN0aW9uIEdldEFsbFF1ZXJ5U3RyaW5nKCkge1xuICAgIGFsZXJ0KFwiU3RyaW5nVXRpbGl0eS5HZXRBbGxRdWVyeVN0cmluZyDlt7LlgZznlKhcIik7XG4gICAgLyp2YXIgdXJsU3RyaW5nID0gZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgdmFyIHVybFN0cmluZ0FycmF5ID0gW107XHJcbiAgICBpZiAodXJsU3RyaW5nICE9IG51bGwpIHtcclxuICAgICAgICB2YXIgaXRlbUFycmF5ID0gdXJsU3RyaW5nLnNwbGl0KFwiJlwiKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1BcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1BcnJheVtpXTtcclxuICAgICAgICAgICAgdXJsU3RyaW5nQXJyYXkucHVzaCh7TmFtZTogaXRlbS5zcGxpdChcIj1cIilbMF0sIFZhbHVlOiBpdGVtLnNwbGl0KFwiPVwiKVsxXX0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB1cmxTdHJpbmdBcnJheTsqL1xuICB9LFxuICBRdWVyeVN0cmluZzogZnVuY3Rpb24gUXVlcnlTdHJpbmcoZmllbGROYW1lKSB7XG4gICAgYWxlcnQoXCLov4Hnp7vliLBCYXNlVXRpbGl0eS5HZXRVcmxQYXJhVmFsdWVcIik7XG4gICAgLyp2YXIgdXJsU3RyaW5nID0gZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgd2hpbGUgKHVybFN0cmluZy5pbmRleE9mKFwiJiBcIikgPj0gMCkge1xyXG4gICAgICAgIHVybFN0cmluZyA9IHVybFN0cmluZy5yZXBsYWNlKFwiJiBcIiwgXCImXCIpXHJcbiAgICB9XHJcbiAgICB3aGlsZSAodXJsU3RyaW5nLmluZGV4T2YoXCI/IFwiKSA+PSAwKSB7XHJcbiAgICAgICAgdXJsU3RyaW5nID0gdXJsU3RyaW5nLnJlcGxhY2UoXCI/IFwiLCBcIj9cIilcclxuICAgIH1cclxuICAgIGlmICh1cmxTdHJpbmcgIT0gbnVsbCkge1xyXG4gICAgICAgIHZhciB0eXBlUXUgPSBcIj9cIiArIGZpZWxkTmFtZSArIFwiPVwiO1xyXG4gICAgICAgIHZhciB1cmxFbmQgPSB1cmxTdHJpbmcudG9VcHBlckNhc2UoKS5pbmRleE9mKHR5cGVRdS50b1VwcGVyQ2FzZSgpKTtcclxuICAgICAgICBpZiAodXJsRW5kID09IC0xKSB7XHJcbiAgICAgICAgICAgIHR5cGVRdSA9IFwiJlwiICsgZmllbGROYW1lICsgXCI9XCI7XHJcbiAgICAgICAgICAgIHVybEVuZCA9IHVybFN0cmluZy50b1VwcGVyQ2FzZSgpLmluZGV4T2YodHlwZVF1LnRvVXBwZXJDYXNlKCkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh1cmxFbmQgIT0gLTEpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmFtc1VybCA9IHVybFN0cmluZy5zdWJzdHJpbmcodXJsRW5kICsgdHlwZVF1Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHZhciBpc0VuZCA9IHBhcmFtc1VybC5pbmRleE9mKCcmJyk7XHJcbiAgICAgICAgICAgIGlmIChpc0VuZCAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtc1VybC5zdWJzdHJpbmcoMCwgaXNFbmQpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zVXJsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgcmV0dXJuIFwiXCJcclxuICAgIH0gZWxzZSByZXR1cm4gXCJcIjsqL1xuICB9LFxuICBRdWVyeVN0cmluZ1VybFN0cmluZzogZnVuY3Rpb24gUXVlcnlTdHJpbmdVcmxTdHJpbmcoZmllbGROYW1lLCB1cmxTdHJpbmcpIHtcbiAgICBhbGVydChcIui/geenu+WIsEJhc2VVdGlsaXR5LkdldFVybFBhcmFWYWx1ZUJ5U3RyaW5nXCIpO1xuICAgIC8qd2hpbGUgKHVybFN0cmluZy5pbmRleE9mKFwiJiBcIikgPj0gMCkge1xyXG4gICAgICAgIHVybFN0cmluZyA9IHVybFN0cmluZy5yZXBsYWNlKFwiJiBcIiwgXCImXCIpXHJcbiAgICB9XHJcbiAgICB3aGlsZSAodXJsU3RyaW5nLmluZGV4T2YoXCI/IFwiKSA+PSAwKSB7XHJcbiAgICAgICAgdXJsU3RyaW5nID0gdXJsU3RyaW5nLnJlcGxhY2UoXCI/IFwiLCBcIj9cIilcclxuICAgIH1cclxuICAgIGlmICh1cmxTdHJpbmcgIT0gbnVsbCkge1xyXG4gICAgICAgIHZhciB0eXBlUXUgPSBcIj9cIiArIGZpZWxkTmFtZSArIFwiPVwiO1xyXG4gICAgICAgIHZhciB1cmxFbmQgPSB1cmxTdHJpbmcudG9VcHBlckNhc2UoKS5pbmRleE9mKHR5cGVRdS50b1VwcGVyQ2FzZSgpKTtcclxuICAgICAgICBpZiAodXJsRW5kID09IC0xKSB7XHJcbiAgICAgICAgICAgIHR5cGVRdSA9IFwiJlwiICsgZmllbGROYW1lICsgXCI9XCI7XHJcbiAgICAgICAgICAgIHVybEVuZCA9IHVybFN0cmluZy50b1VwcGVyQ2FzZSgpLmluZGV4T2YodHlwZVF1LnRvVXBwZXJDYXNlKCkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh1cmxFbmQgIT0gLTEpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmFtc1VybCA9IHVybFN0cmluZy5zdWJzdHJpbmcodXJsRW5kICsgdHlwZVF1Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHZhciBpc0VuZCA9IHBhcmFtc1VybC5pbmRleE9mKCcmJyk7XHJcbiAgICAgICAgICAgIGlmIChpc0VuZCAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtc1VybC5zdWJzdHJpbmcoMCwgaXNFbmQpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zVXJsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgcmV0dXJuIFwiXCJcclxuICAgIH0gZWxzZSByZXR1cm4gXCJcIjsqL1xuICB9LFxuICBYTUxFbmNvZGU6IGZ1bmN0aW9uIFhNTEVuY29kZShzdHIpIHtcbiAgICBhbGVydChcIlN0cmluZ1V0aWxpdHkuWE1MRW5jb2RlIOW3suWBnOeUqFwiKTtcbiAgICAvKmlmIChzdHIpIHtcclxuICAgICAgICB2YXIgcmU7XHJcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKFwiJlwiLCBcImdcIik7XHJcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UocmUsIFwiJmFtcDtcIik7XHJcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKFwiPFwiLCBcImdcIik7XHJcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UocmUsIFwiJmx0O1wiKTtcclxuICAgICAgICByZSA9IG5ldyBSZWdFeHAoXCI+XCIsIFwiZ1wiKTtcclxuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShyZSwgXCImZ3Q7XCIpO1xyXG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChcIidcIiwgXCJnXCIpO1xyXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKHJlLCBcIiZhcG9zO1wiKTtcclxuICAgICAgICByZSA9IG5ldyBSZWdFeHAoXCJcXFwiXCIsIFwiZ1wiKTtcclxuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShyZSwgXCImcXVvdDtcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RyOyovXG4gIH0sXG4gIFhNTERlQ29kZTogZnVuY3Rpb24gWE1MRGVDb2RlKHN0cikge1xuICAgIGFsZXJ0KFwiU3RyaW5nVXRpbGl0eS5YTUxEZUNvZGUg5bey5YGc55SoXCIpO1xuICAgIC8qaWYgKHN0cikge1xyXG4gICAgICAgIHZhciByZTtcclxuICAgICAgICByZSA9IG5ldyBSZWdFeHAoXCImbHQ7XCIsIFwiZ1wiKTtcclxuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShyZSwgXCI8XCIpO1xyXG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChcIiZndDtcIiwgXCJnXCIpO1xyXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKHJlLCBcIj5cIik7XHJcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKFwiJmFwb3M7XCIsIFwiZ1wiKTtcclxuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShyZSwgXCInXCIpO1xyXG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChcIiZxdW90O1wiLCBcImdcIik7XHJcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UocmUsIFwiXFxcIlwiKTtcclxuICAgICAgICByZSA9IG5ldyBSZWdFeHAoXCImYW1wO1wiLCBcImdcIik7XHJcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UocmUsIFwiJlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdHI7Ki9cbiAgfSxcbiAgSFRNTEVuY29kZTogZnVuY3Rpb24gSFRNTEVuY29kZShzdHIpIHtcbiAgICBhbGVydChcIlN0cmluZ1V0aWxpdHkuSFRNTEVuY29kZSDlt7LlgZznlKhcIik7XG4gICAgLyp2YXIgdGVtcCA9ICQoXCI8ZGl2IC8+XCIpO1xyXG4gICAgdGVtcC50ZXh0KHN0cik7XHJcbiAgICByZXR1cm4gdGVtcC5odG1sKCk7Ki9cbiAgfSxcbiAgSFRNTERlY29kZTogZnVuY3Rpb24gSFRNTERlY29kZShzdHIpIHtcbiAgICBhbGVydChcIlN0cmluZ1V0aWxpdHkuSFRNTERlY29kZSDlt7LlgZznlKhcIik7XG4gICAgLyp2YXIgdGVtcCA9ICQoXCI8ZGl2IC8+XCIpO1xyXG4gICAgdGVtcC5odG1sKHN0cik7XHJcbiAgICByZXR1cm4gdGVtcC50ZXh0KCk7Ki9cbiAgfSxcbiAgRm9ybWF0OiBmdW5jdGlvbiBGb3JtYXQoKSB7XG4gICAgYWxlcnQoXCJTdHJpbmdVdGlsaXR5LkhUTUxEZWNvZGUg5bey5YGc55SoXCIpO1xuICAgIC8qaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7XHJcbiAgICB2YXIgc3RyID0gYXJndW1lbnRzWzBdO1xyXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKCdcXFxceycgKyAoaSAtIDEpICsgJ1xcXFx9JywgJ2dtJyk7XHJcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UocmUsIGFyZ3VtZW50c1tpXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RyOyovXG4gIH0sXG4gIEd1aWROb3RTcGxpdDogZnVuY3Rpb24gR3VpZE5vdFNwbGl0KCkge1xuICAgIGFsZXJ0KFwiU3RyaW5nVXRpbGl0eS5HdWlkTm90U3BsaXQg5bey5YGc55SoXCIpO1xuICB9LFxuICBHdWlkU3BsaXQ6IGZ1bmN0aW9uIEd1aWRTcGxpdChzcGxpdCkge1xuICAgIHZhciBndWlkID0gXCJcIjtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDMyOyBpKyspIHtcbiAgICAgIGd1aWQgKz0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTYuMCkudG9TdHJpbmcoMTYpO1xuICAgICAgaWYgKGkgPT0gOCB8fCBpID09IDEyIHx8IGkgPT0gMTYgfHwgaSA9PSAyMCkgZ3VpZCArPSBzcGxpdDtcbiAgICB9XG5cbiAgICByZXR1cm4gZ3VpZDtcbiAgfSxcbiAgR3VpZDogZnVuY3Rpb24gR3VpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5HdWlkU3BsaXQoXCItXCIpO1xuICB9LFxuICBSVGltZXN0YW1wOiBmdW5jdGlvbiBSVGltZXN0YW1wKCkge1xuICAgIGFsZXJ0KFwi6L+B56e75YiwU3RyaW5nVXRpbGl0eS5UaW1lc3RhbXBcIik7XG4gICAgLyp2YXIgZ2V0VGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAvL3ZhciBuID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwLjApLnRvU3RyaW5nKDUpO1xyXG4gICAgcmV0dXJuIGdldFRpbWVzdGFtcC50b1N0cmluZygpLnN1YnN0cig0LCA5KTsqL1xuICB9LFxuICBUaW1lc3RhbXA6IGZ1bmN0aW9uIFRpbWVzdGFtcCgpIHtcbiAgICB2YXIgdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgcmV0dXJuIHRpbWVzdGFtcC50b1N0cmluZygpLnN1YnN0cig0LCAxMCk7XG4gIH0sXG4gIFRyaW06IGZ1bmN0aW9uIFRyaW0oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oXlvjgIBcXHNdKil8KFvjgIBcXHNdKiQpL2csIFwiXCIpO1xuICB9LFxuICBMVHJpbTogZnVuY3Rpb24gTFRyaW0oc3RyKSB7XG4gICAgYWxlcnQoXCJTdHJpbmdVdGlsaXR5LkxUcmltIOW3suWBnOeUqFwiKTsgLy9yZXR1cm4gc3RyLnJlcGxhY2UoLyheW+OAgFxcc10qKS9nLCBcIlwiKTtcbiAgfSxcbiAgUlRyaW06IGZ1bmN0aW9uIFJUcmltKHN0cikge1xuICAgIGFsZXJ0KFwiU3RyaW5nVXRpbGl0eS5SVHJpbSDlt7LlgZznlKhcIik7IC8vcmV0dXJuIHN0ci5yZXBsYWNlKC8oW+OAgFxcc10qJCkvZywgXCJcIik7XG4gIH0sXG4gIFRyaW1MYXN0Q2hhcjogZnVuY3Rpb24gVHJpbUxhc3RDaGFyKHN0cikge1xuICAgIGFsZXJ0KFwi6L+B56e75YiwU3RyaW5nVXRpbGl0eS5SZW1vdmVMYXN0Q2hhclwiKTtcbiAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XG4gIH0sXG4gIFJlbW92ZUxhc3RDaGFyOiBmdW5jdGlvbiBSZW1vdmVMYXN0Q2hhcihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gMSk7XG4gIH0sXG4gIFN0cmluZ1RvSnNvbjogZnVuY3Rpb24gU3RyaW5nVG9Kc29uKHN0cikge1xuICAgIGFsZXJ0KFwi6L+B56e75YiwSnNvblV0aWxpdHkuU3RyaW5nVG9Kc29uXCIpOyAvL3JldHVybiBldmFsKFwiKFwiICsgc3RyICsgXCIpXCIpO1xuICB9LFxuICBMZXZlbDFKc29uVG9TdHJpbmc6IGZ1bmN0aW9uIExldmVsMUpzb25Ub1N0cmluZyhqc29uT2JqKSB7XG4gICAgYWxlcnQoXCLov4Hnp7vliLBKc29uVXRpbGl0eS5Kc29uVG9TdHJpbmdcIik7XG4gICAgLyp2YXIgcmVzdWx0ID0gW107XHJcbiAgICByZXN1bHQucHVzaChcIntcIik7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4ganNvbk9iaikge1xyXG4gICAgICAgIC8vYWxlcnQoa2V5K1wiOlxcXCJcIitqc29uT2JqW2tleV0ucmVwbGFjZSgvXCIvZyxcIlxcXFxcXFwiXCIpK1wiXFxcIixcIik7XHJcbiAgICAgICAgLy9hbGVydChcIlxcXFxcXFwiXCIpO1xyXG4gICAgICAgIC8vYWxlcnQoKTtcclxuICAgICAgICBpZiAoalF1ZXJ5LnR5cGUoanNvbk9ialtrZXldKSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSArIFwiOlxcXCJcIiArIGpzb25PYmpba2V5XS5yZXBsYWNlKC9cIi9nLCBcIlxcXFxcXFwiXCIpICsgXCJcXFwiLFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoalF1ZXJ5LnR5cGUoanNvbk9ialtrZXldKSA9PSBcImFycmF5XCIpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goa2V5ICsgXCI6W1wiKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqc29uT2JqW2tleV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbm5qc29uID0ganNvbk9ialtrZXldW2ldO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5MZXZlbDFKc29uVG9TdHJpbmcoaW5uanNvbikpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goXCIsXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChqc29uT2JqW2tleV0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IHRoaXMuVHJpbUxhc3RDaGFyKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFwiXVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXS5pbmRleE9mKFwiLFwiKSA9PSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gdGhpcy5UcmltTGFzdENoYXIocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSk7XHJcbiAgICB9XHJcbiAgICByZXN1bHQucHVzaChcIn1cIik7XHJcbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7Ki9cbiAgfSxcbiAgTGV2ZWwxSnNvblRvU3RyaW5nS2V5U3RyaW5nOiBmdW5jdGlvbiBMZXZlbDFKc29uVG9TdHJpbmdLZXlTdHJpbmcoanNvbk9iaikge1xuICAgIGFsZXJ0KFwi6L+B56e75YiwSnNvblV0aWxpdHkuSnNvblRvU3RyaW5nXCIpO1xuICAgIC8qdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgcmVzdWx0LnB1c2goXCJ7XCIpO1xyXG4gICAgZm9yICh2YXIga2V5IGluIGpzb25PYmopIHtcclxuICAgICAgICAvL2FsZXJ0KGtleStcIjpcXFwiXCIranNvbk9ialtrZXldLnJlcGxhY2UoL1wiL2csXCJcXFxcXFxcIlwiKStcIlxcXCIsXCIpO1xyXG4gICAgICAgIC8vYWxlcnQoXCJcXFxcXFxcIlwiKTtcclxuICAgICAgICAvL2FsZXJ0KCk7XHJcbiAgICAgICAgaWYgKGpRdWVyeS50eXBlKGpzb25PYmpba2V5XSkgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChcIlxcXCJcIiArIGtleSArIFwiXFxcIlwiICsgXCI6XFxcIlwiICsganNvbk9ialtrZXldLnJlcGxhY2UoL1wiL2csIFwiXFxcXFxcXCJcIikgKyBcIlxcXCIsXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChqUXVlcnkudHlwZShqc29uT2JqW2tleV0pID09IFwiYXJyYXlcIikge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChcIlxcXCJcIiArIGtleSArIFwiXFxcIlwiICsgXCI6W1wiKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqc29uT2JqW2tleV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbm5qc29uID0ganNvbk9ialtrZXldW2ldO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5MZXZlbDFKc29uVG9TdHJpbmdLZXlTdHJpbmcoaW5uanNvbikpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goXCIsXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChqc29uT2JqW2tleV0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IHRoaXMuVHJpbUxhc3RDaGFyKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFwiXVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXS5pbmRleE9mKFwiLFwiKSA9PSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gdGhpcy5UcmltTGFzdENoYXIocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSk7XHJcbiAgICB9XHJcbiAgICByZXN1bHQucHVzaChcIn1cIik7XHJcbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7Ki9cbiAgfSxcbiAgTGV2ZWwxSnNvblRvU3RyaW5nVmFsdWVFbmNvZGU6IGZ1bmN0aW9uIExldmVsMUpzb25Ub1N0cmluZ1ZhbHVlRW5jb2RlKGpzb25PYmopIHtcbiAgICBhbGVydChcIui/geenu+WIsEpzb25VdGlsaXR5Lkpzb25Ub1N0cmluZ1wiKTtcbiAgICAvKnZhciByZXN1bHQgPSBbXTtcclxuICAgIHJlc3VsdC5wdXNoKFwie1wiKTtcclxuICAgIGZvciAodmFyIGtleSBpbiBqc29uT2JqKSB7XHJcbiAgICAgICAgLy9hbGVydChrZXkrXCI6XFxcIlwiK2pzb25PYmpba2V5XS5yZXBsYWNlKC9cIi9nLFwiXFxcXFxcXCJcIikrXCJcXFwiLFwiKTtcclxuICAgICAgICAvL2FsZXJ0KFwiXFxcXFxcXCJcIik7XHJcbiAgICAgICAgLy9hbGVydCgpO1xyXG4gICAgICAgIGlmIChqUXVlcnkudHlwZShqc29uT2JqW2tleV0pID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goa2V5ICsgXCI6XFxcIlwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGpzb25PYmpba2V5XSkgKyBcIlxcXCIsXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChqUXVlcnkudHlwZShqc29uT2JqW2tleV0pID09IFwiYXJyYXlcIikge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChrZXkgKyBcIjpbXCIpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGpzb25PYmpba2V5XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlubmpzb24gPSBqc29uT2JqW2tleV1baV07XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLkxldmVsMUpzb25Ub1N0cmluZ1ZhbHVlRW5jb2RlKGlubmpzb24pKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFwiLFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gdGhpcy5UcmltTGFzdENoYXIocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFwiXVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXS5pbmRleE9mKFwiLFwiKSA9PSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gdGhpcy5UcmltTGFzdENoYXIocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSk7XHJcbiAgICB9XHJcbiAgICByZXN1bHQucHVzaChcIn1cIik7XHJcbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7Ki9cbiAgfSxcbiAgTGV2ZWwxU3RyaW5nVG9Kc29uVmFsdWVEZWNvZGU6IGZ1bmN0aW9uIExldmVsMVN0cmluZ1RvSnNvblZhbHVlRGVjb2RlKHN0cikge1xuICAgIGFsZXJ0KFwi6L+B56e75YiwSnNvblV0aWxpdHkuSnNvblRvU3RyaW5nXCIpO1xuICAgIC8qdmFyIGpzb24gPSB0aGlzLlN0cmluZ1RvSnNvbihzdHIpO1xyXG4gICAgZm9yICh2YXIga2V5IGluIGpzb24pIHtcclxuICAgICAgICBpZiAoalF1ZXJ5LnR5cGUoanNvbltrZXldKSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGpzb25ba2V5XSA9IGRlY29kZVVSSUNvbXBvbmVudChqc29uW2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChqUXVlcnkudHlwZShqc29uW2tleV0pID09IFwiYXJyYXlcIikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGpzb25ba2V5XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlubm9iaiA9IGpzb25ba2V5XVtpXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGlubmtleSBpbiBpbm5vYmopIHtcclxuICAgICAgICAgICAgICAgICAgICBpbm5vYmpbaW5ua2V5XSA9IGRlY29kZVVSSUNvbXBvbmVudChpbm5vYmpbaW5ua2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ganNvbjsqL1xuICB9LFxuICBHZXRCcml0aGRheUJ5SWRDYXJkOiBmdW5jdGlvbiBHZXRCcml0aGRheUJ5SWRDYXJkKHN0cikge1xuICAgIGFsZXJ0KFwiU3RyaW5nVXRpbGl0eS5HZXRCcml0aGRheUJ5SWRDYXJkIOW3suWBnOeUqFwiKTtcbiAgICAvKnZhciB5ZWFyLCBtb250aCwgZGF5O1xyXG4gICAgaWYgKHN0ci5sZW5ndGggIT0gMTUgJiYgc3RyLmxlbmd0aCAhPSAxOCkge1xyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0ci5sZW5ndGggPT0gMTUpIHtcclxuICAgICAgICB5ZWFyID0gc3RyLnN1YnN0cmluZyg2LCA4KTtcclxuICAgICAgICBtb250aCA9IHN0ci5zdWJzdHJpbmcoOCwgMTApO1xyXG4gICAgICAgIGRheSA9IHN0ci5zdWJzdHJpbmcoMTAsIDEyKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHN0ci5sZW5ndGggPT0gMTgpIHtcclxuICAgICAgICB5ZWFyID0gc3RyLnN1YnN0cmluZyg2LCAxMCk7XHJcbiAgICAgICAgbW9udGggPSBzdHIuc3Vic3RyaW5nKDEwLCAxMik7XHJcbiAgICAgICAgZGF5ID0gc3RyLnN1YnN0cmluZygxMiwgMTQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHllYXIubGVuZ3RoID09IDIpIHllYXIgPSBcIjE5XCIgKyB5ZWFyO1xyXG4gICAgaWYgKG1vbnRoLmluZGV4T2YoXCIwXCIpID09IDApIG1vbnRoID0gbW9udGguc3Vic3RyaW5nKDEpO1xyXG4gICAgaWYgKGRheS5pbmRleE9mKFwiMFwiKSA9PSAwKSBkYXkgPSBkYXkuc3Vic3RyaW5nKDEpO1xyXG4gICAgcmV0dXJuIHllYXIgKyBcIi1cIiArIG1vbnRoICsgXCItXCIgKyBkYXk7Ki9cbiAgfSxcbiAgR2V0U2V4QnlJZENhcmQ6IGZ1bmN0aW9uIEdldFNleEJ5SWRDYXJkKHN0cikge1xuICAgIGFsZXJ0KFwiU3RyaW5nVXRpbGl0eS5HZXRTZXhCeUlkQ2FyZCDlt7LlgZznlKhcIik7XG4gICAgLyppZiAocGFyc2VJbnQoc3RyLnN1YnN0cigxNiwgMSkpICUgMiA9PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIFwi55S35oCnXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBcIuWls+aAp1wiO1xyXG4gICAgfSovXG4gIH0sXG4gIElzTnVsbE9yRW1wdHk6IGZ1bmN0aW9uIElzTnVsbE9yRW1wdHkob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PSB1bmRlZmluZWQgfHwgb2JqID09IFwiXCIgfHwgb2JqID09IG51bGwgfHwgb2JqID09IFwidW5kZWZpbmVkXCIgfHwgb2JqID09IFwibnVsbFwiO1xuICB9LFxuICBJc051bGxPckVtcHR5T2JqZWN0OiBmdW5jdGlvbiBJc051bGxPckVtcHR5T2JqZWN0KG9iaikge1xuICAgIGFsZXJ0KFwiU3RyaW5nVXRpbGl0eS5Jc051bGxPckVtcHR5T2JqZWN0IOW3suWBnOeUqFwiKTsgLy9yZXR1cm4gb2JqID09IHVuZGVmaW5lZCB8fCBvYmogPT0gbnVsbFxuICB9LFxuICBHZXRGdW50aW9uTmFtZTogZnVuY3Rpb24gR2V0RnVudGlvbk5hbWUoZnVuYykge1xuICAgIGlmICh0eXBlb2YgZnVuYyA9PSBcImZ1bmN0aW9uXCIgfHwgX3R5cGVvZihmdW5jKSA9PSBcIm9iamVjdFwiKSB2YXIgZk5hbWUgPSAoXCJcIiArIGZ1bmMpLm1hdGNoKC9mdW5jdGlvblxccyooW1xcd1xcJF0qKVxccypcXCgvKTtcbiAgICBpZiAoZk5hbWUgIT09IG51bGwpIHJldHVybiBmTmFtZVsxXTtcbiAgfSxcbiAgVG9Mb3dlckNhc2U6IGZ1bmN0aW9uIFRvTG93ZXJDYXNlKHN0cikge1xuICAgIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKTtcbiAgfSxcbiAgdG9VcHBlckNhc2U6IGZ1bmN0aW9uIHRvVXBwZXJDYXNlKHN0cikge1xuICAgIHJldHVybiBzdHIudG9VcHBlckNhc2UoKTtcbiAgfSxcbiAgUGFkZGluZzogZnVuY3Rpb24gUGFkZGluZyhudW0sIGxlbmd0aCkge1xuICAgIGFsZXJ0KFwiU3RyaW5nVXRpbGl0eS5QYWRkaW5nIOW3suWBnOeUqFwiKTtcbiAgICAvKnZhciBsZW4gPSAobnVtICsgXCJcIikubGVuZ3RoO1xyXG4gICAgdmFyIGRpZmYgPSBsZW5ndGggLSBsZW47XHJcbiAgICBpZihkaWZmID4gMCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheShkaWZmKS5qb2luKFwiMFwiKSArIG51bTtcclxuICAgIH1cclxuICAgIHJldHVybiBudW07Ki9cbiAgfSxcbiAgRW5kV2l0aDogZnVuY3Rpb24gRW5kV2l0aChzdHIsIGVuZFN0cikge1xuICAgIHZhciBkID0gc3RyLmxlbmd0aCAtIGVuZFN0ci5sZW5ndGg7IC8vYWxlcnQoc3RyLmxhc3RJbmRleE9mKGVuZFN0cik9PWQpO1xuXG4gICAgcmV0dXJuIGQgPj0gMCAmJiBzdHIubGFzdEluZGV4T2YoZW5kU3RyKSA9PSBkO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vL1hNTOWkhOeQhuW3peWFt+exu1xudmFyIFhNTFV0aWxpdHkgPSB7fTsiXX0=

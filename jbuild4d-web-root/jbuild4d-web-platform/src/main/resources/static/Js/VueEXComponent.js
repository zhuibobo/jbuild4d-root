"use strict";Vue.component("db-table-relation-comp",{data:function(){return{acInterface:{getTablesDataUrl:"/PlatForm/Builder/DataStorage/DataBase/Table/GetTablesForZTreeNodeList",getTableFieldsUrl:"/PlatForm/Builder/DataStorage/DataBase/Table/GetTableFieldsByTableId"},relationTableTree:{treeObj:null,tableTreeSetting:{view:{dblClickExpand:!1,showLine:!0,fontCss:{color:"black","font-weight":"normal"}},data:{key:{name:"text"},simpleData:{enable:!0,idKey:"id",pIdKey:"parentId",rootPId:"-1"}},callback:{onClick:function(e,t,i){window._dbtablerelationcomp.selectedRelationTableNode(i)}}},tableTreeRootData:{id:"-1",text:"数据关联",parentId:"",nodeTypeName:"根节点",icon:"../../../Themes/Png16X16/coins_add.png",_nodeExType:"root",tableId:"-1"},currentSelectedNode:null},relationTableEditorView:{isShowTableEditDetail:!1,isSubEditTr:!1,isMainEditTr:!1,selPKData:[],selSelfKeyData:[],selForeignKeyData:[]},emptyEditorData:{id:"",parentId:"",singleName:"",pkFieldName:"",desc:"",selfKeyFieldName:"",outerKeyFieldName:"",relationType:"1ToN",isSave:"true",condition:"",tableId:"",tableName:"",tableCaption:""},currentEditorData:{id:"",parentId:"",singleName:"",pkFieldName:"",desc:"",selfKeyFieldName:"",outerKeyFieldName:"",relationType:"1ToN",isSave:"true",condition:"",tableId:"",tableName:"",tableCaption:""},selectTableTree:{tableTreeObj:null,tableTreeSetting:{view:{dblClickExpand:!1,showLine:!0,fontCss:{color:"black","font-weight":"normal"}},check:{enable:!0,nocheckInherit:!1,chkStyle:"radio",radioType:"all"},data:{key:{name:"text"},simpleData:{enable:!0,idKey:"id",pIdKey:"parentId",rootPId:"-1"}},callback:{onClick:function(e,t,i){if("Table"==i.nodeTypeName){var l=window._dbtablerelationcomp;$("#divSelectTable").dialog("close"),l.addTableToRelationTableTree(i)}}}},tableTreeData:null,selectedTableName:"无"},tempDataStore:{},resultData:[]}},mounted:function(){this.bindSelectTableTree(),this.relationTableTree.treeObj=$.fn.zTree.init($("#dataRelationZTreeUL"),this.relationTableTree.tableTreeSetting,this.relationTableTree.tableTreeRootData),this.relationTableTree.treeObj.expandAll(!0),this.relationTableTree.currentSelectedNode=this.relationTableTree.treeObj.getNodeByParam("id","-1"),window._dbtablerelationcomp=this},watch:{currentEditorData:{handler:function(e,t){for(var i=0;i<this.resultData.length;i++)this.resultData[i].id==e.id&&this.resultItemCopyEditEnableValue(this.resultData[i],e)},deep:!0}},methods:{resultItemCopyEditEnableValue:function(e,t){e.singleName=t.singleName,e.pkFieldName=t.pkFieldName,e.desc=t.desc,e.selfKeyFieldName=t.selfKeyFieldName,e.outerKeyFieldName=t.outerKeyFieldName,e.relationType=t.relationType,e.isSave=t.isSave,e.condition=t.condition},getTableFieldsByTableId:function(t){if("-1"==t)return null;if(this.tempDataStore["tableField_"+t])return this.tempDataStore["tableField_"+t];var i=this;return AjaxUtility.PostSync(this.acInterface.getTableFieldsUrl,{tableId:t},function(e){e.success?i.tempDataStore["tableField_"+t]=e.data:DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},e.message,null)},"json"),this.tempDataStore["tableField_"+t]?this.tempDataStore["tableField_"+t]:null},getEmptyResultItem:function(){return JsonUtility.CloneSimple(this.emptyEditorData)},getExistResultItem:function(e){for(var t=0;t<this.resultData.length;t++)if(this.resultData[t].id==e)return this.resultData[t];return null},bindSelectTableTree:function(){var t=this;AjaxUtility.Post(this.acInterface.getTablesDataUrl,{},function(e){e.success?(t.selectTableTree.tableTreeData=e.data,t.selectTableTree.tableTreeObj=$.fn.zTree.init($("#selectTableZTreeUL"),t.selectTableTree.tableTreeSetting,t.selectTableTree.tableTreeData),t.selectTableTree.tableTreeObj.expandAll(!0)):DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},e.message,null)},"json")},deleteSelectedRelationTreeNode:function(){if(this.relationTableTree.currentSelectedNode)if(this.isSelectedRootRelationTableNode())DialogUtility.AlertText("不能删除根节点!");else if(this.relationTableTree.currentSelectedNode.isParent)DialogUtility.AlertText("不能删除父节点!");else{for(var e=0;e<this.resultData.length;e++)if(this.resultData[e].id==this.relationTableTree.currentSelectedNode.id){this.resultData.splice(e,1);break}this.resultItemCopyEditEnableValue(this.currentEditorData,this.emptyEditorData),this.currentEditorData.id="",this.currentEditorData.parentId="",this.$refs.sqlGeneralDesignComp.setValue(""),this.relationTableEditorView.selPKData=[],this.relationTableEditorView.selSelfKeyData=[],this.relationTableEditorView.selForeignKeyData=[],this.relationTableEditorView.isShowTableEditDetail=!1,this.relationTableTree.treeObj.removeNode(this.relationTableTree.currentSelectedNode,!1),this.relationTableTree.currentSelectedNode=null}else DialogUtility.AlertText("请选择要删除的节点!")},beginSelectTableToRelationTable:function(){this.relationTableTree.currentSelectedNode?$("#divSelectTable").dialog({modal:!0,height:600,width:500}):DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},"选择一个父节点!",null)},buildRelationTableNode:function(e){return"root"==this.relationTableTree.currentSelectedNode._nodeExType?(e._nodeExType="MainNode",e.icon="../../../Themes/Png16X16/page_key.png"):(e._nodeExType="SubNode",e.icon="../../../Themes/Png16X16/page_refresh.png"),e.tableId=e.id,e.id=StringUtility.Guid(),e},getMainRelationTableNode:function(){var e=this.relationTableTree.treeObj.getNodeByParam("_nodeExType","MainNode");return e||null},getMainTableId:function(){return this.getMainRelationTableNode()?this.getMainRelationTableNode().tableId:""},getMainTableName:function(){return this.getMainRelationTableNode()?this.getMainRelationTableNode().value:""},getMainTableCaption:function(){return this.getMainRelationTableNode()?this.getMainRelationTableNode().attr1:""},isSelectedRootRelationTableNode:function(){return"-1"==this.relationTableTree.currentSelectedNode.id},isSelectedMainRelationTableNode:function(){return"MainNode"==this.relationTableTree.currentSelectedNode._nodeExType},addTableToRelationTableTree:function(e){if(e=this.buildRelationTableNode(e),null!=this.getMainRelationTableNode()&&this.isSelectedRootRelationTableNode())DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},"只允许存在一个主记录!",null);else{this.relationTableTree.treeObj.addNodes(this.relationTableTree.currentSelectedNode,-1,e,!1);var t=this.getEmptyResultItem();t.id=e.id,t.parentId=this.relationTableTree.currentSelectedNode.id,t.tableId=e.tableId,t.tableName=e.value,t.tableCaption=e.attr1,this.resultData.push(t)}},selectedRelationTableNode:function(e){if(this.relationTableTree.currentSelectedNode=e,this.relationTableEditorView.isShowTableEditDetail=!this.isSelectedRootRelationTableNode(),this.relationTableEditorView.isMainEditTr=this.isSelectedMainRelationTableNode(),this.relationTableEditorView.isSubEditTr=!this.isSelectedMainRelationTableNode(),!this.isSelectedRootRelationTableNode()){this.relationTableEditorView.selPKData=null!=this.getTableFieldsByTableId(e.tableId)?this.getTableFieldsByTableId(e.tableId):[],this.relationTableEditorView.selSelfKeyData=null!=this.getTableFieldsByTableId(e.tableId)?this.getTableFieldsByTableId(e.tableId):[];var t=e.getParentNode();this.relationTableEditorView.selForeignKeyData=null!=this.getTableFieldsByTableId(t.tableId)?this.getTableFieldsByTableId(t.tableId):[],this.currentEditorData.id=this.relationTableTree.currentSelectedNode.id,this.currentEditorData.parentId=t.id;var i=this.getExistResultItem(e.id);if(null!=i){this.resultItemCopyEditEnableValue(this.currentEditorData,i);var l=this;window.setTimeout(function(){l.$refs.sqlGeneralDesignComp.setValue(l.currentEditorData.condition),l.$refs.sqlGeneralDesignComp.setAboutTableFields(l.relationTableEditorView.selSelfKeyData,l.relationTableEditorView.selForeignKeyData)},300)}else alert("通过getExistResultItem获取不到数据!")}},getResultData:function(){return this.resultData},serializeRelation:function(e){alert("serializeRelation已经停用")},deserializeRelation:function(e){alert("deserializeRelation已经停用")},getValue:function(){return{mainTableId:this.getMainTableId(),mainTableName:this.getMainTableName(),mainTableCaption:this.getMainTableCaption(),relationData:this.resultData}},setValue:function(e){var t=JsonUtility.StringToJson(e);this.resultData=t;for(var i=0;i<t.length;i++)t[i].value=t[i].tableName,t[i].attr1=t[i].tableCaption,t[i].text=t[i].tableCaption+"【"+t[i].tableName+"】";tempdata.push(this.relationTableTree.tableTreeRootData),this.relationTableTree.treeObj=$.fn.zTree.init($("#dataRelationZTreeUL"),this.relationTableTree.tableTreeSetting,tempdata),this.relationTableTree.treeObj.expandAll(!0)},alertSerializeRelation:function(){DialogUtility.AlertJsonCode(this.resultData)},inputDeserializeRelation:function(){DialogUtility.Prompt(window,{width:900,height:600},DialogUtility.DialogPromptId,"请贴入数据关联Json设置字符串",function(e){try{window._dbtablerelationcomp.deserializeRelation(e)}catch(e){alert("反序列化失败:"+e)}})}},template:'<div class="db-table-relation-comp">                <divider orientation="left" :dashed="true" style="font-size: 12px">数据关系关联设置</divider>                <div style="float: left;width: 350px;height: 330px;border: #ddddf1 1px solid;border-radius: 4px;padding: 10px 10px 10px 10px;">                    <button-group shape="circle" style="margin: auto">                        <i-button type="success" @click="beginSelectTableToRelationTable">&nbsp;添加&nbsp;</i-button>                        <i-button @click="deleteSelectedRelationTreeNode">&nbsp;删除&nbsp;</i-button>                        <i-button @click="alertSerializeRelation">序列化</i-button>                        <i-button @click="inputDeserializeRelation">反序列化</i-button>                        <i-button>说明</i-button>                    </button-group>                    <ul id="dataRelationZTreeUL" class="ztree"></ul>                </div>                <div style="float: right;width: 630px;height: 330px;border: #ddddf1 1px solid;border-radius: 4px;padding: 10px 10px 10px 10px;">                    <table class="light-gray-table" cellpadding="0" cellspacing="0" border="0" v-if="relationTableEditorView.isShowTableEditDetail">                        <colgroup>                            <col style="width: 17%" />                            <col style="width: 33%" />                            <col style="width: 15%" />                            <col style="width: 35%" />                        </colgroup>                        <tbody>                            <tr>                                <td class="label">SingleName：</td>                                <td>                                    <i-input v-model="currentEditorData.singleName" size="small" placeholder="本关联中的唯一名称,可以为空" />                                </td>                                <td class="label">PKKey：</td>                                <td>                                    <i-select placeholder="默认使用Id字段" v-model="currentEditorData.pkFieldName" size="small" style="width:199px">                                        <i-option v-for="item in relationTableEditorView.selPKData" :value="item.fieldName" :key="item.fieldName">{{item.fieldCaption}}</i-option>                                    </i-select>                                </td>                            </tr>                            <tr v-if="relationTableEditorView.isSubEditTr">                                <td class="label">数据关系：</td>                                <td>                                    <radio-group v-model="currentEditorData.relationType" type="button" size="small">                                        <radio label="1To1">1:1</radio>                                        <radio label="1ToN">1:N</radio>                                    </radio-group>                                </td>                                <td class="label">是否保存：</td>                                <td>                                    <radio-group v-model="currentEditorData.isSave" type="button" size="small">                                        <radio label="true">是</radio>                                        <radio label="false">否</radio>                                    </radio-group>                                </td>                            </tr>                            <tr v-if="relationTableEditorView.isSubEditTr">                                <td class="label">本身关联字段：</td>                                <td>                                     <i-select placeholder="默认使用Id字段" v-model="currentEditorData.selfKeyFieldName" size="small" style="width:199px">                                        <i-option v-for="item in relationTableEditorView.selSelfKeyData" :value="item.fieldName" :key="item.fieldName">{{item.fieldCaption}}</i-option>                                    </i-select>                                </td>                                <td class="label">外联字段：</td>                                <td>                                     <i-select placeholder="默认使用Id字段" v-model="currentEditorData.outerKeyFieldName" size="small" style="width:199px">                                        <i-option v-for="item in relationTableEditorView.selPKData" :value="item.fieldName" :key="item.fieldName">{{item.fieldCaption}}</i-option>                                    </i-select>                                </td>                            </tr>                            <tr>                                <td class="label">Desc：</td>                                <td colspan="3">                                    <i-input v-model="currentEditorData.desc" size="small" placeholder="说明" />                                </td>                            </tr>                            <tr>                                <td class="label">加载条件：</td>                                <td colspan="3">                                    <sql-general-design-comp ref="sqlGeneralDesignComp" :sqlDesignerHeight="74" v-model="currentEditorData.condition"></sql-general-design-comp>                                </td>                            </tr>                        </tbody>                    </table>                </div>                <div id="divSelectTable" title="请选择表" style="display: none">                    <ul id="selectTableZTreeUL" class="ztree"></ul>                </div>              </div>'}),Vue.component("design-html-elem-list",{data:function(){return{}},mounted:function(){},methods:{},template:'<div class="design-html-elem-list-wrap">            <div class="design-html-elem-list-item">格式化</div>            <div class="design-html-elem-list-item">说明</div>        </div>'}),Vue.component("fd-control-base-info",{props:["value"],data:function(){return{baseInfo:{id:"",serialize:"",name:"",className:"",placeholder:"",readonly:"",disabled:"",style:"",desc:""}}},watch:{baseInfo:function(e){this.$emit("input",e)},value:function(e){this.baseInfo=e}},mounted:function(){this.baseInfo=this.value},methods:{},template:'<table class="html-design-plugin-dialog-table-wraper" cellpadding="0" cellspacing="0" border="0"><colgroup><col style="width: 100px" /><col style="width: 280px" /><col style="width: 90px" /><col style="width: 110px" /><col style="width: 90px" /><col /></colgroup><tr><td>ID：</td><td><input type="text" v-model="baseInfo.id" /></td><td>Serialize：</td><td colspan="3"><radio-group type="button" style="margin: auto" v-model="baseInfo.serialize"><radio label="true">是</radio><radio label="false">否</radio></radio-group></td></tr><tr><td>Name：</td><td><input type="text" v-model="baseInfo.name" /></td><td>ClassName：</td><td colspan="3"><input type="text" v-model="baseInfo.className" /></td></tr><tr><td>Placeholder</td><td><input type="text" v-model="baseInfo.placeholder" /></td><td>Readonly：</td><td style="text-align: center"><radio-group type="button" style="margin: auto" v-model="baseInfo.readonly"><radio label="readonly">是</radio><radio label="noreadonly">否</radio></radio-group></td><td>Disabled：</td><td style="text-align: center"><radio-group type="button" style="margin: auto" v-model="baseInfo.disabled"><radio label="disabled">是</radio><radio label="nodisabled">否</radio></radio-group></td></tr><tr><td>样式：</td><td colspan="5"><textarea rows="7" v-model="baseInfo.style"></textarea></td></tr><tr><td>备注：</td><td colspan="5"><textarea rows="8" v-model="baseInfo.desc"></textarea></td></tr></table>'}),Vue.component("fd-control-bind-to",{props:["bindToFieldProp","defaultValueProp","validateRulesProp"],data:function(){return{bindToField:{tableId:"",tableName:"",tableCaption:"",fieldName:"",fieldCaption:"",fieldDataType:"",fieldLength:""},validateRules:{msg:"",rules:[]},defaultValue:{defaultType:"",defaultValue:"",defaultText:""},tempData:{defaultDisplayText:""}}},watch:{bindToProp:function(e){console.log(e)},bindToFieldProp:function(e){this.bindToField=e},defaultValueProp:function(e){this.defaultValue=e,StringUtility.IsNullOrEmpty(this.defaultValue.defaultType)||(this.tempData.defaultDisplayText=JBuild4DSelectView.SelectEnvVariable.formatText(this.defaultValue.defaultType,this.defaultValue.defaultText))},validateRulesProp:function(e){this.validateRules=e}},mounted:function(){this.bindToField=this.bindToFieldProp},methods:{setCompleted:function(){this.$emit("on-set-completed",this.bindToField,this.defaultValue,this.validateRules)},selectBindFieldView:function(){JBuild4DSelectView.SelectBindToField.beginSelectInFrame(window,"_SelectBindObj",{}),window._SelectBindObj=this},setSelectFieldResultValue:function(e){this.bindToField={},this.bindToField.fieldLength=null!=e?(this.bindToField.fieldName=e.fieldName,this.bindToField.tableId=e.tableId,this.bindToField.tableName=e.tableName,this.bindToField.tableCaption=e.tableCaption,this.bindToField.fieldCaption=e.fieldCaption,this.bindToField.fieldDataType=e.fieldDataType,e.fieldLength):(this.bindToField.fieldName="",this.bindToField.tableId="",this.bindToField.tableName="",this.bindToField.tableCaption="",this.bindToField.fieldCaption="",this.bindToField.fieldDataType=""),this.setCompleted()},getSelectFieldResultValue:function(){return JsonUtility.CloneSimple(this.bindToField)},selectDefaultValueView:function(){JBuild4DSelectView.SelectEnvVariable.beginSelectInFrame(window,"_SelectBindObj",{}),window._SelectBindObj=this},setSelectEnvVariableResultValue:function(e){this.tempData.defaultDisplayText=null!=e?(this.defaultValue.defaultType=e.Type,this.defaultValue.defaultValue=e.Value,this.defaultValue.defaultText=e.Text,JBuild4DSelectView.SelectEnvVariable.formatText(this.defaultValue.defaultType,this.defaultValue.defaultText)):(this.defaultValue.defaultType="",this.defaultValue.defaultValue="",this.defaultValue.defaultText=""),this.setCompleted()},selectValidateRuleView:function(){JBuild4DSelectView.SelectValidateRule.beginSelectInFrame(window,"_SelectBindObj",{}),window._SelectBindObj=this},setSelectValidateRuleResultValue:function(e){null!=e?(this.validateRules=e,this.setCompleted()):(this.validateRules.msg="",this.validateRules.rules=[])},getSelectValidateRuleResultValue:function(){return this.validateRules}},template:'<table cellpadding="0" cellspacing="0" border="0" class="html-design-plugin-dialog-table-wraper"><colgroup><col style="width: 100px" /><col style="width: 280px" /><col style="width: 100px" /><col /></colgroup><tr><td colspan="4">    绑定到表<button class="btn-select fright" v-on:click="selectBindFieldView">...</button></td></tr><tr><td>表编号：</td><td colspan="3">{{bindToField.tableId}}</td></tr><tr><td>表名：</td><td>{{bindToField.tableName}}</td><td>表标题：</td><td>{{bindToField.tableCaption}}</td></tr><tr><td>字段名：</td><td>{{bindToField.fieldName}}</td><td>字段标题：</td><td>{{bindToField.fieldCaption}}</td></tr><tr><td>类型：</td><td>{{bindToField.fieldDataType}}</td><td>长度：</td><td>{{bindToField.fieldLength}}</td></tr><tr><td colspan="4">默认值<button class="btn-select fright" v-on:click="selectDefaultValueView">...</button></td></tr><tr style="height: 35px"><td colspan="4" style="background-color: #ffffff;">{{tempData.defaultDisplayText}}</td></tr><tr><td colspan="4">    校验规则<button class="btn-select fright" v-on:click="selectValidateRuleView">...</button></td></tr><tr><td colspan="4" style="background-color: #ffffff"><table class="html-design-plugin-dialog-table-wraper"><colgroup><col style="width: 100px" /><col /></colgroup><tr><td style="text-align: center;">提示消息：</td><td>{{validateRules.msg}}</td></tr><tr><td style="text-align: center;">验证类型</td><td style="background: #e8eaec;text-align: center;">参数</td></tr><tr v-for="ruleItem in validateRules.rules"><td style="background: #ffffff;text-align: center;color: #ad9361">{{ruleItem.validateType}}</td><td style="background: #ffffff;text-align: center;"><p v-if="ruleItem.validateParas === \'\'">无参数</p><p v-else>{{ruleItem.validateParas}}</p></td></tr></table></td></tr></table>'}),Vue.component("js-design-code-fragment",{data:function(){return{jsEditorInstance:null}},mounted:function(){},methods:{setJSEditorInstance:function(e){this.jsEditorInstance=e},getJsEditorInst:function(){return this.jsEditorInstance},insertJs:function(e){var t=this.getJsEditorInst().getDoc(),i=t.getCursor();t.replaceRange(e,i)},formatJS:function(){CodeMirror.commands.selectAll(this.getJsEditorInst());var e={from:this.getJsEditorInst().getCursor(!0),to:this.getJsEditorInst().getCursor(!1)};this.getJsEditorInst().autoFormatRange(e.from,e.to)},alertDesc:function(){},refScript:function(){this.insertJs('<script type="text/javascript" src="${contextPath}/UIComponent/TreeTable/Js/TreeTable.js"><\/script>')},callServiceMethod:function(){}},template:'<div class="js-code-fragment-wrap">            <div class="js-code-fragment-item" @click="formatJS">格式化</div>            <div class="js-code-fragment-item">说明</div>            <div class="js-code-fragment-item" @click="refScript">引入脚本</div>            <div class="js-code-fragment-item">获取URL参数</div>            <div class="js-code-fragment-item">调用服务方法</div>            <div class="js-code-fragment-item">加载数据字典</div>        </div>'}),Vue.component("module-list-webform-comp",{props:["listHeight","moduleData","activeTabName"],data:function(){return{acInterface:{editView:"/PlatForm/Builder/Form/DetailView",reloadData:"/PlatForm/Builder/Form/GetListData",delete:"/PlatForm/Builder/Form/Delete",move:"/PlatForm/Builder/Form/Move"},idFieldName:"formId",searchCondition:{formModuleId:{value:"",type:SearchUtility.SearchFieldType.StringType}},columnsConfig:[{type:"selection",width:60,align:"center"},{title:"编号",key:"formCode",align:"center",width:80},{title:"表单名称",key:"formName",align:"center"},{title:"唯一名",key:"formSingleName",align:"center"},{title:"备注",key:"formDesc",align:"center"},{title:"编辑时间",key:"formUpdateTime",width:100,align:"center",render:function(e,t){return ListPageUtility.IViewTableRenderer.ToDateYYYY_MM_DD(e,t.row.formUpdateTime)}},{title:"操作",key:"dictGroupId",width:120,align:"center",render:function(e,t){return e("div",{class:"list-row-button-wrap"},[ListPageUtility.IViewTableInnerButton.ViewButton(e,t,this.idFieldName,appList),ListPageUtility.IViewTableInnerButton.EditButton(e,t,this.idFieldName,appList),ListPageUtility.IViewTableInnerButton.DeleteButton(e,t,this.idFieldName,appList)])}}],tableData:[],tableDataOriginal:[],selectionRows:null,pageTotal:0,pageSize:500,pageNum:1,searchText:""}},mounted:function(){this.reloadData()},watch:{moduleData:function(e){this.reloadData()},activeTabName:function(e){this.reloadData()},searchText:function(e){if(e){for(var t=[],i=0;i<this.tableData.length;i++){var l=this.tableData[i];0<=l.formCode.indexOf(e)?t.push(l):0<=l.formName.indexOf(e)&&t.push(l)}this.tableData=t}else this.tableData=this.tableDataOriginal}},methods:{selectionChange:function(e){this.selectionRows=e},reloadData:function(){null!=this.moduleData&&"list-webform"==this.activeTabName&&(this.searchCondition.formModuleId.value=this.moduleData.moduleId,ListPageUtility.IViewTableLoadDataSearch(this.acInterface.reloadData,this.pageNum,this.pageSize,this.searchCondition,this,this.idFieldName,!0,function(e,t){t.tableDataOriginal=e.data.list},!1))},add:function(){if(null!=this.moduleData){var e=BaseUtility.BuildView(this.acInterface.editView,{op:"add",moduleId:this.moduleData.moduleId});DialogUtility.OpenNewWindow(window,DialogUtility.DialogId,e,{width:0,height:0},2)}else DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},"请选择模块!",null)},edit:function(e){var t=BaseUtility.BuildView(this.acInterface.editView,{op:"update",recordId:e});DialogUtility.Frame_OpenIframeWindow(window,DialogUtility.DialogId,t,{title:"通用列表"},2)},view:function(e){var t=BaseUtility.BuildView(this.acInterface.editView,{op:"view",recordId:e});DialogUtility.Frame_OpenIframeWindow(window,DialogUtility.DialogId,t,{title:"通用列表"},2)},del:function(e){ListPageUtility.IViewTableDeleteRow(this.acInterface.delete,e,appList)},statusEnable:function(e){ListPageUtility.IViewChangeServerStatusFace(this.acInterface.statusChange,this.selectionRows,appList.idFieldName,e,appList)},move:function(e){ListPageUtility.IViewMoveFace(this.acInterface.move,this.selectionRows,appList.idFieldName,e,appList)},changePage:function(e){this.pageNum=e,this.reloadData(),this.selectionRows=null}},template:'<div class="module-list-wrap">                    <div id="list-button-wrap" class="list-button-outer-wrap">                        <div class="list-button-inner-wrap">                            <ButtonGroup>                                <i-button  type="success" @click="add()" icon="md-add">新增</i-button>                                <i-button type="primary" icon="md-add">引入URL </i-button>                                <i-button type="primary" icon="md-albums">复制</i-button>                                <i-button type="primary" icon="md-pricetag">预览</i-button>                                <i-button type="primary" icon="md-bookmarks">历史版本</i-button>                                <i-button type="primary" icon="md-brush">复制ID</i-button>                                <i-button type="primary" icon="md-arrow-up">上移</i-button>                                <i-button type="primary" icon="md-arrow-down">下移</i-button>                            </ButtonGroup>                        </div>                         <div style="float: right;width: 200px;margin-right: 10px;">                            <i-input search class="input_border_bottom" v-model="searchText">                            </i-input>                        </div>                        <div style="clear: both"></div>                    </div>                    <i-table :height="listHeight" stripe border :columns="columnsConfig" :data="tableData"                             class="iv-list-table" :highlight-row="true"                             @on-selection-change="selectionChange"></i-table>                </div>'}),Vue.component("sql-general-design-comp",{props:["sqlDesignerHeight","value"],data:function(){return{sqlText:"",selectedItemValue:"说明",selfTableFields:[],parentTableFields:[]}},watch:{sqlText:function(e){this.$emit("input",e)},value:function(e){this.sqlText=e}},mounted:function(){this.sqlCodeMirror=CodeMirror.fromTextArea($("#TextAreaSQLEditor")[0],{mode:"text/x-sql",lineNumbers:!0,lineWrapping:!0,foldGutter:!0,theme:"monokai"}),this.sqlCodeMirror.setSize("100%",this.sqlDesignerHeight);var t=this;this.sqlCodeMirror.on("change",function(e){console.log(e.getValue()),t.sqlText=e.getValue()})},methods:{getValue:function(){this.sqlCodeMirror.getValue()},setValue:function(e){this.sqlCodeMirror.setValue(e)},setAboutTableFields:function(e,t){this.selfTableFields=e,this.parentTableFields=t},insertEnvToEditor:function(e){this.insertCodeAtCursor(e)},insertFieldToEditor:function(e,t){var i=null;i="selfTableFields"==e?this.selfTableFields:this.parentTableFields;for(var l=0;l<i.length;l++)i[l].fieldName==t&&this.insertCodeAtCursor(i[l].tableName+"."+i[l].fieldName)},insertCodeAtCursor:function(e){var t=this.sqlCodeMirror.getDoc(),i=t.getCursor();t.replaceRange(e,i)}},template:'<div>                <textarea id="TextAreaSQLEditor"></textarea>                <div style="text-align: right;margin-top: 8px">                    <ButtonGroup size="small">                        <Button @click="insertEnvToEditor(\'#{ApiVar.当前用户所在组织ID}\')">组织Id</Button>                        <Button @click="insertEnvToEditor(\'#{ApiVar.当前用户所在组织名称}\')">组织名称</Button>                        <Button @click="insertEnvToEditor(\'#{ApiVar.当前用户ID}\')">用户Id</Button>                        <Button @click="insertEnvToEditor(\'#{ApiVar.当前用户名称}\')">用户名称</Button>                        <Button @click="insertEnvToEditor(\'#{DateTime.年年年年-月月-日日}\')">yyyy-MM-dd</Button>                        <Button>说明</Button>                    </ButtonGroup>                </div>                <div style="margin-top: 8px">                    <div style="float: left;margin: 4px 10px">本表字段</div>                    <div style="float: left">                        <i-select placeholder="默认使用Id字段" size="small" style="width:175px" @on-change="insertFieldToEditor(\'selfTableFields\',$event)">                            <i-option v-for="item in selfTableFields" :value="item.fieldName" :key="item.fieldName">{{item.fieldCaption}}</i-option>                        </i-select>                    </div>                    <div style="float: left;margin: 4px 10px">父表字段</div>                    <div style="float: left">                        <i-select placeholder="默认使用Id字段" size="small" style="width:177px" @on-change="insertFieldToEditor(\'parentTableFields\',$event)">                            <i-option v-for="item in parentTableFields" :value="item.fieldName" :key="item.fieldName">{{item.fieldCaption}}</i-option>                        </i-select>                    </div>                </div>              </div>'});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLXRhYmxlLXJlbGF0aW9uLWNvbXAuanMiLCJmZC1jb250cm9sLWJpbmQtdG8uanMiLCJqcy1kZXNpZ24tY29kZS1mcmFnbWVudC5qcyIsIm1vZHVsZS1saXN0LWFib3V0Y29uZmlnLWNvbXAuanMiLCJtb2R1bGUtbGlzdC1hcHBmb3JtLWNvbXAuanMiLCJtb2R1bGUtbGlzdC1hcHBsaXN0LWNvbXAuanMiLCJtb2R1bGUtbGlzdC1yZXBvcnQtY29tcC5qcyIsIm1vZHVsZS1saXN0LXdlYmZvcm0tY29tcC5qcyIsInNxbC1nZW5lcmFsLWRlc2lnbi1jb21wLmpzIl0sIm5hbWVzIjpbIlZ1ZSIsImNvbXBvbmVudCIsImRhdGEiLCJhY0ludGVyZmFjZSIsImdldFRhYmxlc0RhdGFVcmwiLCJnZXRUYWJsZUZpZWxkc1VybCIsInJlbGF0aW9uVGFibGVUcmVlIiwidHJlZU9iaiIsInRhYmxlVHJlZVNldHRpbmciLCJ2aWV3IiwiZGJsQ2xpY2tFeHBhbmQiLCJzaG93TGluZSIsImZvbnRDc3MiLCJjb2xvciIsImZvbnQtd2VpZ2h0Iiwia2V5IiwibmFtZSIsInNpbXBsZURhdGEiLCJlbmFibGUiLCJpZEtleSIsInBJZEtleSIsInJvb3RQSWQiLCJjYWxsYmFjayIsIm9uQ2xpY2siLCJldmVudCIsInRyZWVJZCIsInRyZWVOb2RlIiwid2luZG93IiwiX2RidGFibGVyZWxhdGlvbmNvbXAiLCJzZWxlY3RlZFJlbGF0aW9uVGFibGVOb2RlIiwidGFibGVUcmVlUm9vdERhdGEiLCJpZCIsInRleHQiLCJwYXJlbnRJZCIsIm5vZGVUeXBlTmFtZSIsImljb24iLCJfbm9kZUV4VHlwZSIsInRhYmxlSWQiLCJjdXJyZW50U2VsZWN0ZWROb2RlIiwicmVsYXRpb25UYWJsZUVkaXRvclZpZXciLCJpc1Nob3dUYWJsZUVkaXREZXRhaWwiLCJpc1N1YkVkaXRUciIsImlzTWFpbkVkaXRUciIsInNlbFBLRGF0YSIsInNlbFNlbGZLZXlEYXRhIiwic2VsRm9yZWlnbktleURhdGEiLCJlbXB0eUVkaXRvckRhdGEiLCJzaW5nbGVOYW1lIiwicGtGaWVsZE5hbWUiLCJkZXNjIiwic2VsZktleUZpZWxkTmFtZSIsIm91dGVyS2V5RmllbGROYW1lIiwicmVsYXRpb25UeXBlIiwiaXNTYXZlIiwiY29uZGl0aW9uIiwidGFibGVOYW1lIiwidGFibGVDYXB0aW9uIiwiY3VycmVudEVkaXRvckRhdGEiLCJzZWxlY3RUYWJsZVRyZWUiLCJ0YWJsZVRyZWVPYmoiLCJjaGVjayIsIm5vY2hlY2tJbmhlcml0IiwiY2hrU3R5bGUiLCJyYWRpb1R5cGUiLCJfc2VsZiIsIiQiLCJkaWFsb2ciLCJhZGRUYWJsZVRvUmVsYXRpb25UYWJsZVRyZWUiLCJ0YWJsZVRyZWVEYXRhIiwic2VsZWN0ZWRUYWJsZU5hbWUiLCJ0ZW1wRGF0YVN0b3JlIiwicmVzdWx0RGF0YSIsIm1vdW50ZWQiLCJ0aGlzIiwiYmluZFNlbGVjdFRhYmxlVHJlZSIsImZuIiwielRyZWUiLCJpbml0IiwiZXhwYW5kQWxsIiwiZ2V0Tm9kZUJ5UGFyYW0iLCJ3YXRjaCIsImhhbmRsZXIiLCJ2YWwiLCJvbGRWYWwiLCJpIiwibGVuZ3RoIiwicmVzdWx0SXRlbUNvcHlFZGl0RW5hYmxlVmFsdWUiLCJkZWVwIiwibWV0aG9kcyIsInRvT2JqIiwiZnJvbU9iaiIsImdldFRhYmxlRmllbGRzQnlUYWJsZUlkIiwiQWpheFV0aWxpdHkiLCJQb3N0U3luYyIsInJlc3VsdCIsInN1Y2Nlc3MiLCJEaWFsb2dVdGlsaXR5IiwiQWxlcnQiLCJEaWFsb2dBbGVydElkIiwibWVzc2FnZSIsImdldEVtcHR5UmVzdWx0SXRlbSIsIkpzb25VdGlsaXR5IiwiQ2xvbmVTaW1wbGUiLCJnZXRFeGlzdFJlc3VsdEl0ZW0iLCJQb3N0IiwiZGVsZXRlU2VsZWN0ZWRSZWxhdGlvblRyZWVOb2RlIiwiaXNTZWxlY3RlZFJvb3RSZWxhdGlvblRhYmxlTm9kZSIsIkFsZXJ0VGV4dCIsImlzUGFyZW50Iiwic3BsaWNlIiwiJHJlZnMiLCJzcWxHZW5lcmFsRGVzaWduQ29tcCIsInNldFZhbHVlIiwicmVtb3ZlTm9kZSIsImJlZ2luU2VsZWN0VGFibGVUb1JlbGF0aW9uVGFibGUiLCJtb2RhbCIsImhlaWdodCIsIndpZHRoIiwiYnVpbGRSZWxhdGlvblRhYmxlTm9kZSIsInNvdXJjZU5vZGUiLCJTdHJpbmdVdGlsaXR5IiwiR3VpZCIsImdldE1haW5SZWxhdGlvblRhYmxlTm9kZSIsIm5vZGUiLCJnZXRNYWluVGFibGVJZCIsImdldE1haW5UYWJsZU5hbWUiLCJ2YWx1ZSIsImdldE1haW5UYWJsZUNhcHRpb24iLCJhdHRyMSIsImlzU2VsZWN0ZWRNYWluUmVsYXRpb25UYWJsZU5vZGUiLCJuZXdOb2RlIiwiYWRkTm9kZXMiLCJuZXdSZXN1bHRJdGVtIiwicHVzaCIsInBhcmVudE5vZGUiLCJnZXRQYXJlbnROb2RlIiwiZXhpc3RSZXN1bHRJdGVtIiwic2V0VGltZW91dCIsInNldEFib3V0VGFibGVGaWVsZHMiLCJhbGVydCIsImdldFJlc3VsdERhdGEiLCJzZXJpYWxpemVSZWxhdGlvbiIsImlzRm9ybWF0IiwiZGVzZXJpYWxpemVSZWxhdGlvbiIsImpzb25TdHJpbmciLCJnZXRWYWx1ZSIsIm1haW5UYWJsZUlkIiwibWFpblRhYmxlTmFtZSIsIm1haW5UYWJsZUNhcHRpb24iLCJyZWxhdGlvbkRhdGEiLCJ0ZW1wRGF0YSIsIlN0cmluZ1RvSnNvbiIsInRlbXBkYXRhIiwiYWxlcnRTZXJpYWxpemVSZWxhdGlvbiIsIkFsZXJ0SnNvbkNvZGUiLCJpbnB1dERlc2VyaWFsaXplUmVsYXRpb24iLCJQcm9tcHQiLCJEaWFsb2dQcm9tcHRJZCIsImUiLCJ0ZW1wbGF0ZSIsInByb3BzIiwiYmFzZUluZm8iLCJzZXJpYWxpemUiLCJjbGFzc05hbWUiLCJwbGFjZWhvbGRlciIsInJlYWRvbmx5IiwiZGlzYWJsZWQiLCJzdHlsZSIsIm5ld1ZhbCIsIiRlbWl0IiwiYmluZFRvRmllbGQiLCJmaWVsZE5hbWUiLCJmaWVsZENhcHRpb24iLCJmaWVsZERhdGFUeXBlIiwiZmllbGRMZW5ndGgiLCJ2YWxpZGF0ZVJ1bGVzIiwibXNnIiwicnVsZXMiLCJkZWZhdWx0VmFsdWUiLCJkZWZhdWx0VHlwZSIsImRlZmF1bHRUZXh0IiwiZGVmYXVsdERpc3BsYXlUZXh0IiwiYmluZFRvUHJvcCIsIm5ld1ZhbHVlIiwiY29uc29sZSIsImxvZyIsImJpbmRUb0ZpZWxkUHJvcCIsImRlZmF1bHRWYWx1ZVByb3AiLCJJc051bGxPckVtcHR5IiwiSkJ1aWxkNERTZWxlY3RWaWV3IiwiU2VsZWN0RW52VmFyaWFibGUiLCJmb3JtYXRUZXh0IiwidmFsaWRhdGVSdWxlc1Byb3AiLCJzZXRDb21wbGV0ZWQiLCJzZWxlY3RCaW5kRmllbGRWaWV3IiwiU2VsZWN0QmluZFRvRmllbGQiLCJiZWdpblNlbGVjdEluRnJhbWUiLCJfU2VsZWN0QmluZE9iaiIsInNldFNlbGVjdEZpZWxkUmVzdWx0VmFsdWUiLCJnZXRTZWxlY3RGaWVsZFJlc3VsdFZhbHVlIiwic2VsZWN0RGVmYXVsdFZhbHVlVmlldyIsInNldFNlbGVjdEVudlZhcmlhYmxlUmVzdWx0VmFsdWUiLCJUeXBlIiwiVmFsdWUiLCJUZXh0Iiwic2VsZWN0VmFsaWRhdGVSdWxlVmlldyIsIlNlbGVjdFZhbGlkYXRlUnVsZSIsInNldFNlbGVjdFZhbGlkYXRlUnVsZVJlc3VsdFZhbHVlIiwiZ2V0U2VsZWN0VmFsaWRhdGVSdWxlUmVzdWx0VmFsdWUiLCJqc0VkaXRvckluc3RhbmNlIiwic2V0SlNFZGl0b3JJbnN0YW5jZSIsIm9iaiIsImdldEpzRWRpdG9ySW5zdCIsImluc2VydEpzIiwianMiLCJkb2MiLCJnZXREb2MiLCJjdXJzb3IiLCJnZXRDdXJzb3IiLCJyZXBsYWNlUmFuZ2UiLCJmb3JtYXRKUyIsIkNvZGVNaXJyb3IiLCJjb21tYW5kcyIsInJhbmdlIiwiZnJvbSIsInRvIiwiYXV0b0Zvcm1hdFJhbmdlIiwiYWxlcnREZXNjIiwicmVmU2NyaXB0IiwiY2FsbFNlcnZpY2VNZXRob2QiLCJlZGl0VmlldyIsInJlbG9hZERhdGEiLCJkZWxldGUiLCJtb3ZlIiwiaWRGaWVsZE5hbWUiLCJzZWFyY2hDb25kaXRpb24iLCJmb3JtTW9kdWxlSWQiLCJ0eXBlIiwiU2VhcmNoVXRpbGl0eSIsIlNlYXJjaEZpZWxkVHlwZSIsIlN0cmluZ1R5cGUiLCJjb2x1bW5zQ29uZmlnIiwiYWxpZ24iLCJ0aXRsZSIsInJlbmRlciIsImgiLCJwYXJhbXMiLCJMaXN0UGFnZVV0aWxpdHkiLCJJVmlld1RhYmxlUmVuZGVyZXIiLCJUb0RhdGVZWVlZX01NX0REIiwicm93IiwiZm9ybVVwZGF0ZVRpbWUiLCJjbGFzcyIsIklWaWV3VGFibGVJbm5lckJ1dHRvbiIsIlZpZXdCdXR0b24iLCJhcHBMaXN0IiwiRWRpdEJ1dHRvbiIsIkRlbGV0ZUJ1dHRvbiIsInRhYmxlRGF0YSIsInRhYmxlRGF0YU9yaWdpbmFsIiwic2VsZWN0aW9uUm93cyIsInBhZ2VUb3RhbCIsInBhZ2VTaXplIiwicGFnZU51bSIsInNlYXJjaFRleHQiLCJtb2R1bGVEYXRhIiwiYWN0aXZlVGFiTmFtZSIsImZpbHRlclRhYmxlRGF0YSIsImZvcm1Db2RlIiwiaW5kZXhPZiIsImZvcm1OYW1lIiwic2VsZWN0aW9uQ2hhbmdlIiwic2VsZWN0aW9uIiwibW9kdWxlSWQiLCJJVmlld1RhYmxlTG9hZERhdGFTZWFyY2giLCJwYWdlQXBwT2JqIiwibGlzdCIsImFkZCIsInVybCIsIkJhc2VVdGlsaXR5IiwiQnVpbGRWaWV3Iiwib3AiLCJPcGVuTmV3V2luZG93IiwiRGlhbG9nSWQiLCJlZGl0IiwicmVjb3JkSWQiLCJGcmFtZV9PcGVuSWZyYW1lV2luZG93IiwiZGVsIiwiSVZpZXdUYWJsZURlbGV0ZVJvdyIsInN0YXR1c0VuYWJsZSIsInN0YXR1c05hbWUiLCJJVmlld0NoYW5nZVNlcnZlclN0YXR1c0ZhY2UiLCJzdGF0dXNDaGFuZ2UiLCJJVmlld01vdmVGYWNlIiwiY2hhbmdlUGFnZSJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQUEsSUFBQUMsVUFBQSx5QkFBQSxDQUNBQyxLQUFBLFdBQ0EsTUFBQSxDQUNBQyxZQUFBLENBQ0FDLGlCQUFBLHlFQUNBQyxrQkFBQSx3RUFFQUMsa0JBQUEsQ0FDQUMsUUFBQSxLQUNBQyxpQkFBQSxDQUNBQyxLQUFBLENBQ0FDLGdCQUFBLEVBQ0FDLFVBQUEsRUFDQUMsUUFBQSxDQUNBQyxNQUFBLFFBQ0FDLGNBQUEsV0FHQVosS0FBQSxDQUNBYSxJQUFBLENBQ0FDLEtBQUEsUUFFQUMsV0FBQSxDQUNBQyxRQUFBLEVBQ0FDLE1BQUEsS0FDQUMsT0FBQSxXQUNBQyxRQUFBLE9BR0FDLFNBQUEsQ0FDQUMsUUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBQyxPQUFBQyxxQkFFQUMsMEJBQUFILE1BSUFJLGtCQUFBLENBQ0FDLEdBQUEsS0FDQUMsS0FBQSxPQUNBQyxTQUFBLEdBQ0FDLGFBQUEsTUFDQUMsS0FBQSx5Q0FDQUMsWUFBQSxPQUNBQyxRQUFBLE1BRUFDLG9CQUFBLE1BRUFDLHdCQUFBLENBQ0FDLHVCQUFBLEVBQ0FDLGFBQUEsRUFDQUMsY0FBQSxFQUNBQyxVQUFBLEdBQ0FDLGVBQUEsR0FDQUMsa0JBQUEsSUFFQUMsZ0JBQUEsQ0FDQWYsR0FBQSxHQUNBRSxTQUFBLEdBQ0FjLFdBQUEsR0FDQUMsWUFBQSxHQUNBQyxLQUFBLEdBQ0FDLGlCQUFBLEdBQ0FDLGtCQUFBLEdBQ0FDLGFBQUEsT0FDQUMsT0FBQSxPQUNBQyxVQUFBLEdBQ0FqQixRQUFBLEdBQ0FrQixVQUFBLEdBQ0FDLGFBQUEsSUFFQUMsa0JBQUEsQ0FDQTFCLEdBQUEsR0FDQUUsU0FBQSxHQUNBYyxXQUFBLEdBQ0FDLFlBQUEsR0FDQUMsS0FBQSxHQUNBQyxpQkFBQSxHQUNBQyxrQkFBQSxHQUNBQyxhQUFBLE9BQ0FDLE9BQUEsT0FDQUMsVUFBQSxHQUNBakIsUUFBQSxHQUNBa0IsVUFBQSxHQUNBQyxhQUFBLElBRUFFLGdCQUFBLENBQ0FDLGFBQUEsS0FDQW5ELGlCQUFBLENBQ0FDLEtBQUEsQ0FDQUMsZ0JBQUEsRUFDQUMsVUFBQSxFQUNBQyxRQUFBLENBQ0FDLE1BQUEsUUFDQUMsY0FBQSxXQUdBOEMsTUFBQSxDQUNBMUMsUUFBQSxFQUNBMkMsZ0JBQUEsRUFDQUMsU0FBQSxRQUNBQyxVQUFBLE9BRUE3RCxLQUFBLENBQ0FhLElBQUEsQ0FDQUMsS0FBQSxRQUVBQyxXQUFBLENBQ0FDLFFBQUEsRUFDQUMsTUFBQSxLQUNBQyxPQUFBLFdBQ0FDLFFBQUEsT0FHQUMsU0FBQSxDQUNBQyxRQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQSxTQUFBQSxFQUFBUSxhQUFBLENBQ0EsSUFBQThCLEVBQUFyQyxPQUFBQyxxQkFDQXFDLEVBQUEsbUJBQUFDLE9BQUEsU0FFQUYsRUFBQUcsNEJBQUF6QyxPQUtBMEMsY0FBQSxLQUNBQyxrQkFBQSxLQUVBQyxjQUFBLEdBQ0FDLFdBQUEsS0FHQUMsUUFBQSxXQUNBQyxLQUFBQyxzQkFDQUQsS0FBQW5FLGtCQUFBQyxRQUFBMEQsRUFBQVUsR0FBQUMsTUFBQUMsS0FBQVosRUFBQSx3QkFBQVEsS0FBQW5FLGtCQUFBRSxpQkFBQWlFLEtBQUFuRSxrQkFBQXdCLG1CQUNBMkMsS0FBQW5FLGtCQUFBQyxRQUFBdUUsV0FBQSxHQUNBTCxLQUFBbkUsa0JBQUFnQyxvQkFBQW1DLEtBQUFuRSxrQkFBQUMsUUFBQXdFLGVBQUEsS0FBQSxNQUNBcEQsT0FBQUMscUJBQUE2QyxNQUVBTyxNQUFBLENBQ0F2QixrQkFBQSxDQUNBd0IsUUFBQSxTQUFBQyxFQUFBQyxHQUNBLElBQUEsSUFBQUMsRUFBQSxFQUFBQSxFQUFBWCxLQUFBRixXQUFBYyxPQUFBRCxJQUNBWCxLQUFBRixXQUFBYSxHQUFBckQsSUFBQW1ELEVBQUFuRCxJQUNBMEMsS0FBQWEsOEJBQUFiLEtBQUFGLFdBQUFhLEdBQUFGLElBSUFLLE1BQUEsSUFHQUMsUUFBQSxDQUNBRiw4QkFBQSxTQUFBRyxFQUFBQyxHQUNBRCxFQUFBMUMsV0FBQTJDLEVBQUEzQyxXQUNBMEMsRUFBQXpDLFlBQUEwQyxFQUFBMUMsWUFDQXlDLEVBQUF4QyxLQUFBeUMsRUFBQXpDLEtBQ0F3QyxFQUFBdkMsaUJBQUF3QyxFQUFBeEMsaUJBQ0F1QyxFQUFBdEMsa0JBQUF1QyxFQUFBdkMsa0JBQ0FzQyxFQUFBckMsYUFBQXNDLEVBQUF0QyxhQUNBcUMsRUFBQXBDLE9BQUFxQyxFQUFBckMsT0FDQW9DLEVBQUFuQyxVQUFBb0MsRUFBQXBDLFdBRUFxQyx3QkFBQSxTQUFBdEQsR0FDQSxHQUFBLE1BQUFBLEVBQ0EsT0FBQSxLQUdBLEdBQUFvQyxLQUFBSCxjQUFBLGNBQUFqQyxHQUNBLE9BQUFvQyxLQUFBSCxjQUFBLGNBQUFqQyxHQUVBLElBQUEyQixFQUFBUyxLQWFBLE9BWEFtQixZQUFBQyxTQUFBcEIsS0FBQXRFLFlBQUFFLGtCQUFBLENBQ0FnQyxRQUFBQSxHQUNBLFNBQUF5RCxHQUNBQSxFQUFBQyxRQUNBL0IsRUFBQU0sY0FBQSxjQUFBakMsR0FBQXlELEVBQUE1RixLQUVBOEYsY0FBQUMsTUFBQXRFLE9BQUFxRSxjQUFBRSxjQUFBLEdBQUFKLEVBQUFLLFFBQUEsT0FFQSxRQUdBMUIsS0FBQUgsY0FBQSxjQUFBakMsR0FDQW9DLEtBQUFILGNBQUEsY0FBQWpDLEdBRUEsTUFHQStELG1CQUFBLFdBQ0EsT0FBQUMsWUFBQUMsWUFBQTdCLEtBQUEzQixrQkFFQXlELG1CQUFBLFNBQUF4RSxHQUNBLElBQUEsSUFBQXFELEVBQUEsRUFBQUEsRUFBQVgsS0FBQUYsV0FBQWMsT0FBQUQsSUFDQSxHQUFBWCxLQUFBRixXQUFBYSxHQUFBckQsSUFBQUEsRUFDQSxPQUFBMEMsS0FBQUYsV0FBQWEsR0FJQSxPQUFBLE1BRUFWLG9CQUFBLFdBQ0EsSUFBQVYsRUFBQVMsS0FFQW1CLFlBQUFZLEtBQUEvQixLQUFBdEUsWUFBQUMsaUJBQUEsR0FBQSxTQUFBMEYsR0FDQUEsRUFBQUMsU0FDQS9CLEVBQUFOLGdCQUFBVSxjQUFBMEIsRUFBQTVGLEtBQ0E4RCxFQUFBTixnQkFBQUMsYUFBQU0sRUFBQVUsR0FBQUMsTUFBQUMsS0FBQVosRUFBQSx1QkFBQUQsRUFBQU4sZ0JBQUFsRCxpQkFBQXdELEVBQUFOLGdCQUFBVSxlQUVBSixFQUFBTixnQkFBQUMsYUFBQW1CLFdBQUEsSUFFQWtCLGNBQUFDLE1BQUF0RSxPQUFBcUUsY0FBQUUsY0FBQSxHQUFBSixFQUFBSyxRQUFBLE9BRUEsU0FFQU0sK0JBQUEsV0FDQSxHQUFBaEMsS0FBQW5FLGtCQUFBZ0Msb0JBQ0EsR0FBQW1DLEtBQUFpQyxrQ0F1QkFWLGNBQUFXLFVBQUEsaUJBdEJBLEdBQUFsQyxLQUFBbkUsa0JBQUFnQyxvQkFBQXNFLFNBbUJBWixjQUFBVyxVQUFBLGdCQW5CQSxDQUNBLElBQUEsSUFBQXZCLEVBQUEsRUFBQUEsRUFBQVgsS0FBQUYsV0FBQWMsT0FBQUQsSUFDQSxHQUFBWCxLQUFBRixXQUFBYSxHQUFBckQsSUFBQTBDLEtBQUFuRSxrQkFBQWdDLG9CQUFBUCxHQUFBLENBQ0EwQyxLQUFBRixXQUFBc0MsT0FBQXpCLEVBQUEsR0FDQSxNQUlBWCxLQUFBYSw4QkFBQWIsS0FBQWhCLGtCQUFBZ0IsS0FBQTNCLGlCQUNBMkIsS0FBQWhCLGtCQUFBMUIsR0FBQSxHQUNBMEMsS0FBQWhCLGtCQUFBeEIsU0FBQSxHQUNBd0MsS0FBQXFDLE1BQUFDLHFCQUFBQyxTQUFBLElBQ0F2QyxLQUFBbEMsd0JBQUFJLFVBQUEsR0FDQThCLEtBQUFsQyx3QkFBQUssZUFBQSxHQUNBNkIsS0FBQWxDLHdCQUFBTSxrQkFBQSxHQUNBNEIsS0FBQWxDLHdCQUFBQyx1QkFBQSxFQUNBaUMsS0FBQW5FLGtCQUFBQyxRQUFBMEcsV0FBQXhDLEtBQUFuRSxrQkFBQWdDLHFCQUFBLEdBQ0FtQyxLQUFBbkUsa0JBQUFnQyxvQkFBQSxVQVFBMEQsY0FBQVcsVUFBQSxlQUdBTyxnQ0FBQSxXQUNBekMsS0FBQW5FLGtCQUFBZ0Msb0JBQ0EyQixFQUFBLG1CQUFBQyxPQUFBLENBQ0FpRCxPQUFBLEVBQ0FDLE9BQUEsSUFDQUMsTUFBQSxNQUdBckIsY0FBQUMsTUFBQXRFLE9BQUFxRSxjQUFBRSxjQUFBLEdBQUEsV0FBQSxPQUdBb0IsdUJBQUEsU0FBQUMsR0FXQSxNQVZBLFFBQUE5QyxLQUFBbkUsa0JBQUFnQyxvQkFBQUYsYUFDQW1GLEVBQUFuRixZQUFBLFdBQ0FtRixFQUFBcEYsS0FBQSwwQ0FFQW9GLEVBQUFuRixZQUFBLFVBQ0FtRixFQUFBcEYsS0FBQSw2Q0FHQW9GLEVBQUFsRixRQUFBa0YsRUFBQXhGLEdBQ0F3RixFQUFBeEYsR0FBQXlGLGNBQUFDLE9BQ0FGLEdBRUFHLHlCQUFBLFdBQ0EsSUFBQUMsRUFBQWxELEtBQUFuRSxrQkFBQUMsUUFBQXdFLGVBQUEsY0FBQSxZQUVBLE9BQUE0QyxHQUlBLE1BRUFDLGVBQUEsV0FDQSxPQUFBbkQsS0FBQWlELDJCQUFBakQsS0FBQWlELDJCQUFBckYsUUFBQSxJQUVBd0YsaUJBQUEsV0FDQSxPQUFBcEQsS0FBQWlELDJCQUFBakQsS0FBQWlELDJCQUFBSSxNQUFBLElBRUFDLG9CQUFBLFdBQ0EsT0FBQXRELEtBQUFpRCwyQkFBQWpELEtBQUFpRCwyQkFBQU0sTUFBQSxJQUVBdEIsZ0NBQUEsV0FDQSxNQUFBLE1BQUFqQyxLQUFBbkUsa0JBQUFnQyxvQkFBQVAsSUFFQWtHLGdDQUFBLFdBQ0EsTUFBQSxZQUFBeEQsS0FBQW5FLGtCQUFBZ0Msb0JBQUFGLGFBRUErQiw0QkFBQSxTQUFBK0QsR0FJQSxHQUhBQSxFQUFBekQsS0FBQTZDLHVCQUFBWSxHQUdBLE1BRkF6RCxLQUFBaUQsNEJBR0FqRCxLQUFBaUMsa0NBQ0FWLGNBQUFDLE1BQUF0RSxPQUFBcUUsY0FBQUUsY0FBQSxHQUFBLGNBQUEsVUFGQSxDQU9BekIsS0FBQW5FLGtCQUFBQyxRQUFBNEgsU0FBQTFELEtBQUFuRSxrQkFBQWdDLHFCQUFBLEVBQUE0RixHQUFBLEdBQ0EsSUFBQUUsRUFBQTNELEtBQUEyQixxQkFDQWdDLEVBQUFyRyxHQUFBbUcsRUFBQW5HLEdBQ0FxRyxFQUFBbkcsU0FBQXdDLEtBQUFuRSxrQkFBQWdDLG9CQUFBUCxHQUNBcUcsRUFBQS9GLFFBQUE2RixFQUFBN0YsUUFDQStGLEVBQUE3RSxVQUFBMkUsRUFBQUosTUFDQU0sRUFBQTVFLGFBQUEwRSxFQUFBRixNQUNBdkQsS0FBQUYsV0FBQThELEtBQUFELEtBRUF2RywwQkFBQSxTQUFBOEYsR0FNQSxHQUxBbEQsS0FBQW5FLGtCQUFBZ0Msb0JBQUFxRixFQUNBbEQsS0FBQWxDLHdCQUFBQyx1QkFBQWlDLEtBQUFpQyxrQ0FDQWpDLEtBQUFsQyx3QkFBQUcsYUFBQStCLEtBQUF3RCxrQ0FDQXhELEtBQUFsQyx3QkFBQUUsYUFBQWdDLEtBQUF3RCxtQ0FFQXhELEtBQUFpQyxrQ0FBQSxDQUlBakMsS0FBQWxDLHdCQUFBSSxVQUFBLE1BQUE4QixLQUFBa0Isd0JBQUFnQyxFQUFBdEYsU0FBQW9DLEtBQUFrQix3QkFBQWdDLEVBQUF0RixTQUFBLEdBQ0FvQyxLQUFBbEMsd0JBQUFLLGVBQUEsTUFBQTZCLEtBQUFrQix3QkFBQWdDLEVBQUF0RixTQUFBb0MsS0FBQWtCLHdCQUFBZ0MsRUFBQXRGLFNBQUEsR0FDQSxJQUFBaUcsRUFBQVgsRUFBQVksZ0JBQ0E5RCxLQUFBbEMsd0JBQUFNLGtCQUFBLE1BQUE0QixLQUFBa0Isd0JBQUEyQyxFQUFBakcsU0FBQW9DLEtBQUFrQix3QkFBQTJDLEVBQUFqRyxTQUFBLEdBQ0FvQyxLQUFBaEIsa0JBQUExQixHQUFBMEMsS0FBQW5FLGtCQUFBZ0Msb0JBQUFQLEdBQ0EwQyxLQUFBaEIsa0JBQUF4QixTQUFBcUcsRUFBQXZHLEdBQ0EsSUFBQXlHLEVBQUEvRCxLQUFBOEIsbUJBQUFvQixFQUFBNUYsSUFFQSxHQUFBLE1BQUF5RyxFQUFBLENBQ0EvRCxLQUFBYSw4QkFBQWIsS0FBQWhCLGtCQUFBK0UsR0FFQSxJQUFBeEUsRUFBQVMsS0FFQTlDLE9BQUE4RyxXQUFBLFdBQ0F6RSxFQUFBOEMsTUFBQUMscUJBQUFDLFNBQUFoRCxFQUFBUCxrQkFBQUgsV0FFQVUsRUFBQThDLE1BQUFDLHFCQUFBMkIsb0JBQUExRSxFQUFBekIsd0JBQUFLLGVBQUFvQixFQUFBekIsd0JBQUFNLG9CQUNBLFVBRUE4RixNQUFBLGlDQUdBQyxjQUFBLFdBQ0EsT0FBQW5FLEtBQUFGLFlBRUFzRSxrQkFBQSxTQUFBQyxHQUNBSCxNQUFBLDBCQVNBSSxvQkFBQSxTQUFBQyxHQUNBTCxNQUFBLDRCQUdBTSxTQUFBLFdBT0EsTUFOQSxDQUNBQyxZQUFBekUsS0FBQW1ELGlCQUNBdUIsY0FBQTFFLEtBQUFvRCxtQkFDQXVCLGlCQUFBM0UsS0FBQXNELHNCQUNBc0IsYUFBQTVFLEtBQUFGLGFBSUF5QyxTQUFBLFNBQUFnQyxHQUNBLElBQUFNLEVBQUFqRCxZQUFBa0QsYUFBQVAsR0FDQXZFLEtBQUFGLFdBQUErRSxFQUVBLElBQUEsSUFBQWxFLEVBQUEsRUFBQUEsRUFBQWtFLEVBQUFqRSxPQUFBRCxJQUNBa0UsRUFBQWxFLEdBQUEwQyxNQUFBd0IsRUFBQWxFLEdBQUE3QixVQUNBK0YsRUFBQWxFLEdBQUE0QyxNQUFBc0IsRUFBQWxFLEdBQUE1QixhQUNBOEYsRUFBQWxFLEdBQUFwRCxLQUFBc0gsRUFBQWxFLEdBQUE1QixhQUFBLElBQUE4RixFQUFBbEUsR0FBQTdCLFVBQUEsSUFHQWlHLFNBQUFuQixLQUFBNUQsS0FBQW5FLGtCQUFBd0IsbUJBQ0EyQyxLQUFBbkUsa0JBQUFDLFFBQUEwRCxFQUFBVSxHQUFBQyxNQUFBQyxLQUFBWixFQUFBLHdCQUFBUSxLQUFBbkUsa0JBQUFFLGlCQUFBZ0osVUFDQS9FLEtBQUFuRSxrQkFBQUMsUUFBQXVFLFdBQUEsSUFFQTJFLHVCQUFBLFdBQ0F6RCxjQUFBMEQsY0FBQWpGLEtBQUFGLGFBRUFvRix5QkFBQSxXQUNBM0QsY0FBQTRELE9BQUFqSSxPQUFBLENBQ0EwRixNQUFBLElBQ0FELE9BQUEsS0FDQXBCLGNBQUE2RCxlQUFBLG1CQUFBLFNBQUFiLEdBQ0EsSUFDQXJILE9BQUFDLHFCQUFBbUgsb0JBQUFDLEdBQ0EsTUFBQWMsR0FDQW5CLE1BQUEsVUFBQW1CLFFBS0FDLFNBQUEscXpLQy9XQS9KLElBQUFDLFVBQUEsd0JBQUEsQ0FDQUMsS0FBQSxXQUNBLE1BQUEsSUFFQXNFLFFBQUEsYUFDQWdCLFFBQUEsR0FDQXVFLFNBQUEsb0xBVUEvSixJQUFBQyxVQUFBLHVCQUFBLENBQ0ErSixNQUFBLENBQUEsU0FDQTlKLEtBQUEsV0FDQSxNQUFBLENBQ0ErSixTQUFBLENBQ0FsSSxHQUFBLEdBQ0FtSSxVQUFBLEdBQ0FsSixLQUFBLEdBQ0FtSixVQUFBLEdBQ0FDLFlBQUEsR0FDQUMsU0FBQSxHQUNBQyxTQUFBLEdBQ0FDLE1BQUEsR0FDQXRILEtBQUEsTUFJQStCLE1BQUEsQ0FDQWlGLFNBQUEsU0FBQU8sR0FDQS9GLEtBQUFnRyxNQUFBLFFBQUFELElBRUExQyxNQUFBLFNBQUEwQyxHQUNBL0YsS0FBQXdGLFNBQUFPLElBR0FoRyxRQUFBLFdBQ0FDLEtBQUF3RixTQUFBeEYsS0FBQXFELE9BRUF0QyxRQUFBLEdBQ0F1RSxTQUFBLHE0Q0FJQS9KLElBQUFDLFVBQUEscUJBQUEsQ0FDQStKLE1BQUEsQ0FBQSxrQkFBQSxtQkFBQSxxQkFDQTlKLEtBQUEsV0FDQSxNQUFBLENBQ0F3SyxZQUFBLENBQ0FySSxRQUFBLEdBQ0FrQixVQUFBLEdBQ0FDLGFBQUEsR0FDQW1ILFVBQUEsR0FDQUMsYUFBQSxHQUNBQyxjQUFBLEdBQ0FDLFlBQUEsSUFFQUMsY0FBQSxDQUNBQyxJQUFBLEdBQ0FDLE1BQUEsSUFFQUMsYUFBQSxDQUNBQyxZQUFBLEdBQ0FELGFBQUEsR0FDQUUsWUFBQSxJQUVBOUIsU0FBQSxDQUNBK0IsbUJBQUEsTUFJQXJHLE1BQUEsQ0FDQXNHLFdBQUEsU0FBQUMsR0FDQUMsUUFBQUMsSUFBQUYsSUFFQUcsZ0JBQUEsU0FBQUgsR0FDQTlHLEtBQUFpRyxZQUFBYSxHQUVBSSxpQkFBQSxTQUFBSixHQUNBOUcsS0FBQXlHLGFBQUFLLEVDeEhBL0QsY0FBQW9FLGNBQUFuSCxLQUFBeUcsYUFBQUMsZUFDQTFHLEtBQUE2RSxTQUFBK0IsbUJBQUFRLG1CQUFBQyxrQkFBQUMsV0FBQXRILEtBQUF5RyxhQUFBQyxZQUFBMUcsS0FBQXlHLGFBQUFFLGVBR0FZLGtCQUFBLFNBQUFULEdBQ0E5RyxLQUFBc0csY0FBQVEsSUFHQS9HLFFBQUEsV0FDQUMsS0FBQWlHLFlBQUFqRyxLQUFBaUgsaUJBRUFsRyxRQUFBLENBQ0F5RyxhQUFBLFdBQ0F4SCxLQUFBZ0csTUFBQSxtQkFBQWhHLEtBQUFpRyxZQUFBakcsS0FBQXlHLGFBQUF6RyxLQUFBc0csZ0JBRUFtQixvQkFBQSxXQUNBTCxtQkFBQU0sa0JBQUFDLG1CQUFBekssT0FBQSxpQkFBQSxJQUNBQSxPQUFBMEssZUFBQTVILE1BRUE2SCwwQkFBQSxTQUFBeEcsR0FDQXJCLEtBQUFpRyxZQUFBLEdBU0FqRyxLQUFBaUcsWUFBQUksWUFQQSxNQUFBaEYsR0FDQXJCLEtBQUFpRyxZQUFBQyxVQUFBN0UsRUFBQTZFLFVBQ0FsRyxLQUFBaUcsWUFBQXJJLFFBQUF5RCxFQUFBekQsUUFDQW9DLEtBQUFpRyxZQUFBbkgsVUFBQXVDLEVBQUF2QyxVQUNBa0IsS0FBQWlHLFlBQUFsSCxhQUFBc0MsRUFBQXRDLGFBQ0FpQixLQUFBaUcsWUFBQUUsYUFBQTlFLEVBQUE4RSxhQUNBbkcsS0FBQWlHLFlBQUFHLGNBQUEvRSxFQUFBK0UsY0FDQS9FLEVBQUFnRixjQUVBckcsS0FBQWlHLFlBQUFDLFVBQUEsR0FDQWxHLEtBQUFpRyxZQUFBckksUUFBQSxHQUNBb0MsS0FBQWlHLFlBQUFuSCxVQUFBLEdBQ0FrQixLQUFBaUcsWUFBQWxILGFBQUEsR0FDQWlCLEtBQUFpRyxZQUFBRSxhQUFBLEdBQ0FuRyxLQUFBaUcsWUFBQUcsY0FBQSxJQUlBcEcsS0FBQXdILGdCQUVBTSwwQkFBQSxXQUNBLE9BQUFsRyxZQUFBQyxZQUFBN0IsS0FBQWlHLGNDNUNBOEIsdUJBQUEsV0NBQVgsbUJBQUFDLGtCQUFBTSxtQkFBQXpLLE9BQUEsaUJBQUEsSUNBQUEsT0FBQTBLLGVBQUE1SCxNQ0FBZ0ksZ0NBQUEsU0FBQTNHLEdDSUFyQixLQUFBNkUsU0FBQStCLG1CQUpBLE1BQUF2RixHQUNBckIsS0FBQXlHLGFBQUFDLFlBQUFyRixFQUFBNEcsS0FDQWpJLEtBQUF5RyxhQUFBQSxhQUFBcEYsRUFBQTZHLE1BQ0FsSSxLQUFBeUcsYUFBQUUsWUFBQXRGLEVBQUE4RyxLQUNBZixtQkFBQUMsa0JBQUFDLFdBQUF0SCxLQUFBeUcsYUFBQUMsWUFBQTFHLEtBQUF5RyxhQUFBRSxlQUVBM0csS0FBQXlHLGFBQUFDLFlBQUEsR0FDQTFHLEtBQUF5RyxhQUFBQSxhQUFBLEdBQ0F6RyxLQUFBeUcsYUFBQUUsWUFBQSxJQUlBM0csS0FBQXdILGdCQUVBWSx1QkFBQSxXQUNBaEIsbUJBQUFpQixtQkFBQVYsbUJBQUF6SyxPQUFBLGlCQUFBLElBQ0FBLE9BQUEwSyxlQUFBNUgsTUFFQXNJLGlDQUFBLFNBQUFqSCxHQUNBLE1BQUFBLEdBQ0FyQixLQUFBc0csY0FBQWpGLEVBQ0FyQixLQUFBd0gsaUJBRUF4SCxLQUFBc0csY0FBQUMsSUFBQSxHQUNBdkcsS0FBQXNHLGNBQUFFLE1BQUEsS0FHQStCLGlDQUFBLFdBQ0EsT0FBQXZJLEtBQUFzRyxnQkFHQWhCLFNBQUEsMnNEQUlBL0osSUFBQUMsVUFBQSwwQkFBQSxDQUNBQyxLQUFBLFdBQ0EsTUFBQSxDQUNBK00saUJBQUEsT0FHQXpJLFFBQUEsYUFDQWdCLFFBQUEsQ0FDQTBILG9CQUFBLFNBQUFDLEdBQ0ExSSxLQUFBd0ksaUJBQUFFLEdBRUFDLGdCQUFBLFdBQ0EsT0FBQTNJLEtBQUF3SSxrQkFFQUksU0FBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUE5SSxLQUFBMkksa0JBQUFJLFNBQ0FDLEVBQUFGLEVBQUFHLFlBQ0FILEVBQUFJLGFBQUFMLEVBQUFHLElBRUFHLFNBQUEsV0FDQUMsV0FBQUMsU0FBQSxVQUFBckosS0FBQTJJLG1CQUNBLElBQUFXLEVBQUEsQ0FDQUMsS0FBQXZKLEtBQUEySSxrQkFBQU0sV0FBQSxHQUNBTyxHQUFBeEosS0FBQTJJLGtCQUFBTSxXQUFBLElBR0FqSixLQUFBMkksa0JBQUFjLGdCQUFBSCxFQUFBQyxLQUFBRCxFQUFBRSxLQUVBRSxVQUFBLGFBQ0FDLFVBQUEsV0FFQTNKLEtBQUE0SSxTQURBLHlHQUdBZ0Isa0JBQUEsY0FFQXRFLFNBQUEscWJBdUJBL0osSUFBQUMsVUFBQSwyQkFBQSxDQUNBK0osTUFBQSxDQUFBLGFBQUEsYUFBQSxpQkFDQTlKLEtBQUEsV0FDQSxNQUFBLENBQ0FDLFlBQUEsQ0FDQW1PLFNBQUEsb0NBQ0FDLFdBQUEscUNBQ0FDLE9BQUEsZ0NBQ0FDLEtBQUEsK0JBRUFDLFlBQUEsU0FDQUMsZ0JBQUEsQ0FDQUMsYUFBQSxDQUNBOUcsTUFBQSxHQUNBK0csS0FBQUMsY0FBQUMsZ0JBQUFDLGFBR0FDLGNBQUEsQ0FBQSxDQUNBSixLQUFBLFlBQ0F4SCxNQUFBLEdBQ0E2SCxNQUFBLFVBQ0EsQ0FDQUMsTUFBQSxLQUNBcE8sSUFBQSxXQUNBbU8sTUFBQSxTQUNBN0gsTUFBQSxJQUNBLENBQ0E4SCxNQUFBLE9BQ0FwTyxJQUFBLFdBQ0FtTyxNQUFBLFVBQ0EsQ0FDQUMsTUFBQSxNQUNBcE8sSUFBQSxpQkFDQW1PLE1BQUEsVUFDQSxDQUNBQyxNQUFBLEtBQ0FwTyxJQUFBLFdBQ0FtTyxNQUFBLFVBQ0EsQ0FDQUMsTUFBQSxPQUNBcE8sSUFBQSxpQkFDQXNHLE1BQUEsSUFDQTZILE1BQUEsU0FDQUUsT0FBQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUFDLGdCQUFBQyxtQkFBQUMsaUJBQUFKLEVBQUFDLEVBQUFJLElBQUFDLGtCQUVBLENBQ0FSLE1BQUEsS0FDQXBPLElBQUEsY0FDQXNHLE1BQUEsSUFDQTZILE1BQUEsU0FDQUUsT0FBQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUFELEVBQUEsTUFBQSxDQUNBTyxNQUFBLHdCQUNBLENBQUFMLGdCQUFBTSxzQkFBQUMsV0FBQVQsRUFBQUMsRUFBQTdLLEtBQUFpSyxZQUFBcUIsU0FBQVIsZ0JBQUFNLHNCQUFBRyxXQUFBWCxFQUFBQyxFQUFBN0ssS0FBQWlLLFlBQUFxQixTQUFBUixnQkFBQU0sc0JBQUFJLGFBQUFaLEVBQUFDLEVBQUE3SyxLQUFBaUssWUFBQXFCLGNBR0FHLFVBQUEsR0FDQUMsa0JBQUEsR0FDQUMsY0FBQSxLQUNBQyxVQUFBLEVBQ0FDLFNBQUEsSUFDQUMsUUFBQSxFQUNBQyxXQUFBLEtBR0FoTSxRQUFBLFdBQ0FDLEtBQUE4SixjQUVBdkosTUFBQSxDQUNBeUwsV0FBQSxTQUFBakcsR0FDQS9GLEtBQUE4SixjQUVBbUMsY0FBQSxTQUFBbEcsR0FDQS9GLEtBQUE4SixjQUVBaUMsV0FBQSxTQUFBaEcsR0FDQSxHQUFBQSxFQUFBLENBR0EsSUFGQSxJQUFBbUcsRUFBQSxHQUVBdkwsRUFBQSxFQUFBQSxFQUFBWCxLQUFBeUwsVUFBQTdLLE9BQUFELElBQUEsQ0FDQSxJQUFBc0ssRUFBQWpMLEtBQUF5TCxVQUFBOUssR0FFQSxHQUFBc0ssRUFBQWtCLFNBQUFDLFFBQUFyRyxHQUNBbUcsRUFBQXRJLEtBQUFxSCxHQUNBLEdBQUFBLEVBQUFvQixTQUFBRCxRQUFBckcsSUFDQW1HLEVBQUF0SSxLQUFBcUgsR0NuTEFqTCxLQUFBeUwsVUFBQVMsT0FFQWxNLEtBQUF5TCxVQUFBekwsS0FBQTBMLG9CQUlBM0ssUUFBQSxDQUNBdUwsZ0JBQUEsU0FBQUMsR0FDQXZNLEtBQUEyTCxjQUFBWSxHQUVBekMsV0FBQSxXQUNBLE1BQUE5SixLQUFBZ00sWUFBQSxnQkFBQWhNLEtBQUFpTSxnQkFDQWpNLEtBQUFrSyxnQkFBQUMsYUFBQTlHLE1BQUFyRCxLQUFBZ00sV0FBQVEsU0FDQTFCLGdCQUFBMkIseUJBQUF6TSxLQUFBdEUsWUFBQW9PLFdBQUE5SixLQUFBOEwsUUFBQTlMLEtBQUE2TCxTQUFBN0wsS0FBQWtLLGdCQUFBbEssS0FBQUEsS0FBQWlLLGFBQUEsRUFBQSxTQUFBNUksRUFBQXFMLEdBQ0FBLEVBQUFoQixrQkFBQXJLLEVBQUE1RixLQUFBa1IsT0FDQSxLQUdBQyxJQUFBLFdBQ0EsR0FBQSxNQUFBNU0sS0FBQWdNLFdBQUEsQ0FDQSxJQUFBYSxFQUFBQyxZQUFBQyxVQUFBL00sS0FBQXRFLFlBQUFtTyxTQUFBLENBQ0FtRCxHQUFBLE1BQ0FSLFNBQUF4TSxLQUFBZ00sV0FBQVEsV0FFQWpMLGNBQUEwTCxjQUFBL1AsT0FBQXFFLGNBQUEyTCxTQUFBTCxFQUFBLENBQ0FqSyxNQUFBLEVBQ0FELE9BQUEsR0FDQSxRQUVBcEIsY0FBQUMsTUFBQXRFLE9BQUFxRSxjQUFBRSxjQUFBLEdBQUEsU0FBQSxPQUdBMEwsS0FBQSxTQUFBQyxHQUNBLElBQUFQLEVBQUFDLFlBQUFDLFVBQUEvTSxLQUFBdEUsWUFBQW1PLFNBQUEsQ0FDQW1ELEdBQUEsU0FDQUksU0FBQUEsSUFFQTdMLGNBQUE4TCx1QkFBQW5RLE9BQUFxRSxjQUFBMkwsU0FBQUwsRUFBQSxDQUNBbkMsTUFBQSxRQUNBLElBRUExTyxLQUFBLFNBQUFvUixHQUNBLElBQUFQLEVBQUFDLFlBQUFDLFVBQUEvTSxLQUFBdEUsWUFBQW1PLFNBQUEsQ0FDQW1ELEdBQUEsT0FDQUksU0FBQUEsSUFFQTdMLGNBQUE4TCx1QkFBQW5RLE9BQUFxRSxjQUFBMkwsU0FBQUwsRUFBQSxDQUNBbkMsTUFBQSxRQUNBLElBRUE0QyxJQUFBLFNBQUFGLEdBQ0F0QyxnQkFBQXlDLG9CQUFBdk4sS0FBQXRFLFlBQUFxTyxPQUFBcUQsRUFBQTlCLFVBRUFrQyxhQUFBLFNBQUFDLEdBQ0EzQyxnQkFBQTRDLDRCQUFBMU4sS0FBQXRFLFlBQUFpUyxhQUFBM04sS0FBQTJMLGNBQUFMLFFBQUFyQixZQUFBd0QsRUFBQW5DLFVBRUF0QixLQUFBLFNBQUFJLEdBQ0FVLGdCQUFBOEMsY0FBQTVOLEtBQUF0RSxZQUFBc08sS0FBQWhLLEtBQUEyTCxjQUFBTCxRQUFBckIsWUFBQUcsRUFBQWtCLFVBRUF1QyxXQUFBLFNBQUEvQixHQUNBOUwsS0FBQThMLFFBQUFBLEVBQ0E5TCxLQUFBOEosYUFDQTlKLEtBQUEyTCxjQUFBLE9BR0FyRyxTQUFBIiwiZmlsZSI6IlZ1ZUVYQ29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cblZ1ZS5jb21wb25lbnQoXCJkYi10YWJsZS1yZWxhdGlvbi1jb21wXCIsIHtcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWNJbnRlcmZhY2U6IHtcbiAgICAgICAgZ2V0VGFibGVzRGF0YVVybDogXCIvUGxhdEZvcm0vQnVpbGRlci9EYXRhU3RvcmFnZS9EYXRhQmFzZS9UYWJsZS9HZXRUYWJsZXNGb3JaVHJlZU5vZGVMaXN0XCIsXG4gICAgICAgIGdldFRhYmxlRmllbGRzVXJsOiBcIi9QbGF0Rm9ybS9CdWlsZGVyL0RhdGFTdG9yYWdlL0RhdGFCYXNlL1RhYmxlL0dldFRhYmxlRmllbGRzQnlUYWJsZUlkXCJcbiAgICAgIH0sXG4gICAgICByZWxhdGlvblRhYmxlVHJlZToge1xuICAgICAgICB0cmVlT2JqOiBudWxsLFxuICAgICAgICB0YWJsZVRyZWVTZXR0aW5nOiB7XG4gICAgICAgICAgdmlldzoge1xuICAgICAgICAgICAgZGJsQ2xpY2tFeHBhbmQ6IGZhbHNlLFxuICAgICAgICAgICAgc2hvd0xpbmU6IHRydWUsXG4gICAgICAgICAgICBmb250Q3NzOiB7XG4gICAgICAgICAgICAgICdjb2xvcic6ICdibGFjaycsXG4gICAgICAgICAgICAgICdmb250LXdlaWdodCc6ICdub3JtYWwnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBrZXk6IHtcbiAgICAgICAgICAgICAgbmFtZTogXCJ0ZXh0XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaW1wbGVEYXRhOiB7XG4gICAgICAgICAgICAgIGVuYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgaWRLZXk6IFwiaWRcIixcbiAgICAgICAgICAgICAgcElkS2V5OiBcInBhcmVudElkXCIsXG4gICAgICAgICAgICAgIHJvb3RQSWQ6IFwiLTFcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2FsbGJhY2s6IHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQsIHRyZWVJZCwgdHJlZU5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIF9zZWxmID0gd2luZG93Ll9kYnRhYmxlcmVsYXRpb25jb21wO1xuXG4gICAgICAgICAgICAgIF9zZWxmLnNlbGVjdGVkUmVsYXRpb25UYWJsZU5vZGUodHJlZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGFibGVUcmVlUm9vdERhdGE6IHtcbiAgICAgICAgICBpZDogXCItMVwiLFxuICAgICAgICAgIHRleHQ6IFwi5pWw5o2u5YWz6IGUXCIsXG4gICAgICAgICAgcGFyZW50SWQ6IFwiXCIsXG4gICAgICAgICAgbm9kZVR5cGVOYW1lOiBcIuagueiKgueCuVwiLFxuICAgICAgICAgIGljb246IFwiLi4vLi4vLi4vVGhlbWVzL1BuZzE2WDE2L2NvaW5zX2FkZC5wbmdcIixcbiAgICAgICAgICBfbm9kZUV4VHlwZTogXCJyb290XCIsXG4gICAgICAgICAgdGFibGVJZDogXCItMVwiXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRTZWxlY3RlZE5vZGU6IG51bGxcbiAgICAgIH0sXG4gICAgICByZWxhdGlvblRhYmxlRWRpdG9yVmlldzoge1xuICAgICAgICBpc1Nob3dUYWJsZUVkaXREZXRhaWw6IGZhbHNlLFxuICAgICAgICBpc1N1YkVkaXRUcjogZmFsc2UsXG4gICAgICAgIGlzTWFpbkVkaXRUcjogZmFsc2UsXG4gICAgICAgIHNlbFBLRGF0YTogW10sXG4gICAgICAgIHNlbFNlbGZLZXlEYXRhOiBbXSxcbiAgICAgICAgc2VsRm9yZWlnbktleURhdGE6IFtdXG4gICAgICB9LFxuICAgICAgZW1wdHlFZGl0b3JEYXRhOiB7XG4gICAgICAgIGlkOiBcIlwiLFxuICAgICAgICBwYXJlbnRJZDogXCJcIixcbiAgICAgICAgc2luZ2xlTmFtZTogXCJcIixcbiAgICAgICAgcGtGaWVsZE5hbWU6IFwiXCIsXG4gICAgICAgIGRlc2M6IFwiXCIsXG4gICAgICAgIHNlbGZLZXlGaWVsZE5hbWU6IFwiXCIsXG4gICAgICAgIG91dGVyS2V5RmllbGROYW1lOiBcIlwiLFxuICAgICAgICByZWxhdGlvblR5cGU6IFwiMVRvTlwiLFxuICAgICAgICBpc1NhdmU6IFwidHJ1ZVwiLFxuICAgICAgICBjb25kaXRpb246IFwiXCIsXG4gICAgICAgIHRhYmxlSWQ6IFwiXCIsXG4gICAgICAgIHRhYmxlTmFtZTogXCJcIixcbiAgICAgICAgdGFibGVDYXB0aW9uOiBcIlwiXG4gICAgICB9LFxuICAgICAgY3VycmVudEVkaXRvckRhdGE6IHtcbiAgICAgICAgaWQ6IFwiXCIsXG4gICAgICAgIHBhcmVudElkOiBcIlwiLFxuICAgICAgICBzaW5nbGVOYW1lOiBcIlwiLFxuICAgICAgICBwa0ZpZWxkTmFtZTogXCJcIixcbiAgICAgICAgZGVzYzogXCJcIixcbiAgICAgICAgc2VsZktleUZpZWxkTmFtZTogXCJcIixcbiAgICAgICAgb3V0ZXJLZXlGaWVsZE5hbWU6IFwiXCIsXG4gICAgICAgIHJlbGF0aW9uVHlwZTogXCIxVG9OXCIsXG4gICAgICAgIGlzU2F2ZTogXCJ0cnVlXCIsXG4gICAgICAgIGNvbmRpdGlvbjogXCJcIixcbiAgICAgICAgdGFibGVJZDogXCJcIixcbiAgICAgICAgdGFibGVOYW1lOiBcIlwiLFxuICAgICAgICB0YWJsZUNhcHRpb246IFwiXCJcbiAgICAgIH0sXG4gICAgICBzZWxlY3RUYWJsZVRyZWU6IHtcbiAgICAgICAgdGFibGVUcmVlT2JqOiBudWxsLFxuICAgICAgICB0YWJsZVRyZWVTZXR0aW5nOiB7XG4gICAgICAgICAgdmlldzoge1xuICAgICAgICAgICAgZGJsQ2xpY2tFeHBhbmQ6IGZhbHNlLFxuICAgICAgICAgICAgc2hvd0xpbmU6IHRydWUsXG4gICAgICAgICAgICBmb250Q3NzOiB7XG4gICAgICAgICAgICAgICdjb2xvcic6ICdibGFjaycsXG4gICAgICAgICAgICAgICdmb250LXdlaWdodCc6ICdub3JtYWwnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGVjazoge1xuICAgICAgICAgICAgZW5hYmxlOiB0cnVlLFxuICAgICAgICAgICAgbm9jaGVja0luaGVyaXQ6IGZhbHNlLFxuICAgICAgICAgICAgY2hrU3R5bGU6IFwicmFkaW9cIixcbiAgICAgICAgICAgIHJhZGlvVHlwZTogXCJhbGxcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAga2V5OiB7XG4gICAgICAgICAgICAgIG5hbWU6IFwidGV4dFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2ltcGxlRGF0YToge1xuICAgICAgICAgICAgICBlbmFibGU6IHRydWUsXG4gICAgICAgICAgICAgIGlkS2V5OiBcImlkXCIsXG4gICAgICAgICAgICAgIHBJZEtleTogXCJwYXJlbnRJZFwiLFxuICAgICAgICAgICAgICByb290UElkOiBcIi0xXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGNhbGxiYWNrOiB7XG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50LCB0cmVlSWQsIHRyZWVOb2RlKSB7XG4gICAgICAgICAgICAgIGlmICh0cmVlTm9kZS5ub2RlVHlwZU5hbWUgPT0gXCJUYWJsZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9zZWxmID0gd2luZG93Ll9kYnRhYmxlcmVsYXRpb25jb21wO1xuICAgICAgICAgICAgICAgICQoXCIjZGl2U2VsZWN0VGFibGVcIikuZGlhbG9nKFwiY2xvc2VcIik7XG5cbiAgICAgICAgICAgICAgICBfc2VsZi5hZGRUYWJsZVRvUmVsYXRpb25UYWJsZVRyZWUodHJlZU5vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0YWJsZVRyZWVEYXRhOiBudWxsLFxuICAgICAgICBzZWxlY3RlZFRhYmxlTmFtZTogXCLml6BcIlxuICAgICAgfSxcbiAgICAgIHRlbXBEYXRhU3RvcmU6IHt9LFxuICAgICAgcmVzdWx0RGF0YTogW11cbiAgICB9O1xuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgIHRoaXMuYmluZFNlbGVjdFRhYmxlVHJlZSgpO1xuICAgIHRoaXMucmVsYXRpb25UYWJsZVRyZWUudHJlZU9iaiA9ICQuZm4uelRyZWUuaW5pdCgkKFwiI2RhdGFSZWxhdGlvblpUcmVlVUxcIiksIHRoaXMucmVsYXRpb25UYWJsZVRyZWUudGFibGVUcmVlU2V0dGluZywgdGhpcy5yZWxhdGlvblRhYmxlVHJlZS50YWJsZVRyZWVSb290RGF0YSk7XG4gICAgdGhpcy5yZWxhdGlvblRhYmxlVHJlZS50cmVlT2JqLmV4cGFuZEFsbCh0cnVlKTtcbiAgICB0aGlzLnJlbGF0aW9uVGFibGVUcmVlLmN1cnJlbnRTZWxlY3RlZE5vZGUgPSB0aGlzLnJlbGF0aW9uVGFibGVUcmVlLnRyZWVPYmouZ2V0Tm9kZUJ5UGFyYW0oXCJpZFwiLCBcIi0xXCIpO1xuICAgIHdpbmRvdy5fZGJ0YWJsZXJlbGF0aW9uY29tcCA9IHRoaXM7XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgY3VycmVudEVkaXRvckRhdGE6IHtcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsLCBvbGRWYWwpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJlc3VsdERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAodGhpcy5yZXN1bHREYXRhW2ldLmlkID09IHZhbC5pZCkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRJdGVtQ29weUVkaXRFbmFibGVWYWx1ZSh0aGlzLnJlc3VsdERhdGFbaV0sIHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGVlcDogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHJlc3VsdEl0ZW1Db3B5RWRpdEVuYWJsZVZhbHVlOiBmdW5jdGlvbiByZXN1bHRJdGVtQ29weUVkaXRFbmFibGVWYWx1ZSh0b09iaiwgZnJvbU9iaikge1xuICAgICAgdG9PYmouc2luZ2xlTmFtZSA9IGZyb21PYmouc2luZ2xlTmFtZTtcbiAgICAgIHRvT2JqLnBrRmllbGROYW1lID0gZnJvbU9iai5wa0ZpZWxkTmFtZTtcbiAgICAgIHRvT2JqLmRlc2MgPSBmcm9tT2JqLmRlc2M7XG4gICAgICB0b09iai5zZWxmS2V5RmllbGROYW1lID0gZnJvbU9iai5zZWxmS2V5RmllbGROYW1lO1xuICAgICAgdG9PYmoub3V0ZXJLZXlGaWVsZE5hbWUgPSBmcm9tT2JqLm91dGVyS2V5RmllbGROYW1lO1xuICAgICAgdG9PYmoucmVsYXRpb25UeXBlID0gZnJvbU9iai5yZWxhdGlvblR5cGU7XG4gICAgICB0b09iai5pc1NhdmUgPSBmcm9tT2JqLmlzU2F2ZTtcbiAgICAgIHRvT2JqLmNvbmRpdGlvbiA9IGZyb21PYmouY29uZGl0aW9uO1xuICAgIH0sXG4gICAgZ2V0VGFibGVGaWVsZHNCeVRhYmxlSWQ6IGZ1bmN0aW9uIGdldFRhYmxlRmllbGRzQnlUYWJsZUlkKHRhYmxlSWQpIHtcbiAgICAgIGlmICh0YWJsZUlkID09IFwiLTFcIikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudGVtcERhdGFTdG9yZVtcInRhYmxlRmllbGRfXCIgKyB0YWJsZUlkXSkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wRGF0YVN0b3JlW1widGFibGVGaWVsZF9cIiArIHRhYmxlSWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcblxuICAgICAgICBBamF4VXRpbGl0eS5Qb3N0U3luYyh0aGlzLmFjSW50ZXJmYWNlLmdldFRhYmxlRmllbGRzVXJsLCB7XG4gICAgICAgICAgdGFibGVJZDogdGFibGVJZFxuICAgICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICBfc2VsZi50ZW1wRGF0YVN0b3JlW1widGFibGVGaWVsZF9cIiArIHRhYmxlSWRdID0gcmVzdWx0LmRhdGE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCByZXN1bHQubWVzc2FnZSwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBcImpzb25cIik7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRlbXBEYXRhU3RvcmVbXCJ0YWJsZUZpZWxkX1wiICsgdGFibGVJZF0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcERhdGFTdG9yZVtcInRhYmxlRmllbGRfXCIgKyB0YWJsZUlkXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0RW1wdHlSZXN1bHRJdGVtOiBmdW5jdGlvbiBnZXRFbXB0eVJlc3VsdEl0ZW0oKSB7XG4gICAgICByZXR1cm4gSnNvblV0aWxpdHkuQ2xvbmVTaW1wbGUodGhpcy5lbXB0eUVkaXRvckRhdGEpO1xuICAgIH0sXG4gICAgZ2V0RXhpc3RSZXN1bHRJdGVtOiBmdW5jdGlvbiBnZXRFeGlzdFJlc3VsdEl0ZW0oaWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZXN1bHREYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc3VsdERhdGFbaV0uaWQgPT0gaWQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHREYXRhW2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgYmluZFNlbGVjdFRhYmxlVHJlZTogZnVuY3Rpb24gYmluZFNlbGVjdFRhYmxlVHJlZSgpIHtcbiAgICAgIHZhciBfc2VsZiA9IHRoaXM7XG5cbiAgICAgIEFqYXhVdGlsaXR5LlBvc3QodGhpcy5hY0ludGVyZmFjZS5nZXRUYWJsZXNEYXRhVXJsLCB7fSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBfc2VsZi5zZWxlY3RUYWJsZVRyZWUudGFibGVUcmVlRGF0YSA9IHJlc3VsdC5kYXRhO1xuICAgICAgICAgIF9zZWxmLnNlbGVjdFRhYmxlVHJlZS50YWJsZVRyZWVPYmogPSAkLmZuLnpUcmVlLmluaXQoJChcIiNzZWxlY3RUYWJsZVpUcmVlVUxcIiksIF9zZWxmLnNlbGVjdFRhYmxlVHJlZS50YWJsZVRyZWVTZXR0aW5nLCBfc2VsZi5zZWxlY3RUYWJsZVRyZWUudGFibGVUcmVlRGF0YSk7XG5cbiAgICAgICAgICBfc2VsZi5zZWxlY3RUYWJsZVRyZWUudGFibGVUcmVlT2JqLmV4cGFuZEFsbCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydElkLCB7fSwgcmVzdWx0Lm1lc3NhZ2UsIG51bGwpO1xuICAgICAgICB9XG4gICAgICB9LCBcImpzb25cIik7XG4gICAgfSxcbiAgICBkZWxldGVTZWxlY3RlZFJlbGF0aW9uVHJlZU5vZGU6IGZ1bmN0aW9uIGRlbGV0ZVNlbGVjdGVkUmVsYXRpb25UcmVlTm9kZSgpIHtcbiAgICAgIGlmICh0aGlzLnJlbGF0aW9uVGFibGVUcmVlLmN1cnJlbnRTZWxlY3RlZE5vZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU2VsZWN0ZWRSb290UmVsYXRpb25UYWJsZU5vZGUoKSkge1xuICAgICAgICAgIGlmICghdGhpcy5yZWxhdGlvblRhYmxlVHJlZS5jdXJyZW50U2VsZWN0ZWROb2RlLmlzUGFyZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVzdWx0RGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAodGhpcy5yZXN1bHREYXRhW2ldLmlkID09IHRoaXMucmVsYXRpb25UYWJsZVRyZWUuY3VycmVudFNlbGVjdGVkTm9kZS5pZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0RGF0YS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZXN1bHRJdGVtQ29weUVkaXRFbmFibGVWYWx1ZSh0aGlzLmN1cnJlbnRFZGl0b3JEYXRhLCB0aGlzLmVtcHR5RWRpdG9yRGF0YSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRFZGl0b3JEYXRhLmlkID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEVkaXRvckRhdGEucGFyZW50SWQgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy4kcmVmcy5zcWxHZW5lcmFsRGVzaWduQ29tcC5zZXRWYWx1ZShcIlwiKTtcbiAgICAgICAgICAgIHRoaXMucmVsYXRpb25UYWJsZUVkaXRvclZpZXcuc2VsUEtEYXRhID0gW107XG4gICAgICAgICAgICB0aGlzLnJlbGF0aW9uVGFibGVFZGl0b3JWaWV3LnNlbFNlbGZLZXlEYXRhID0gW107XG4gICAgICAgICAgICB0aGlzLnJlbGF0aW9uVGFibGVFZGl0b3JWaWV3LnNlbEZvcmVpZ25LZXlEYXRhID0gW107XG4gICAgICAgICAgICB0aGlzLnJlbGF0aW9uVGFibGVFZGl0b3JWaWV3LmlzU2hvd1RhYmxlRWRpdERldGFpbCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yZWxhdGlvblRhYmxlVHJlZS50cmVlT2JqLnJlbW92ZU5vZGUodGhpcy5yZWxhdGlvblRhYmxlVHJlZS5jdXJyZW50U2VsZWN0ZWROb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnJlbGF0aW9uVGFibGVUcmVlLmN1cnJlbnRTZWxlY3RlZE5vZGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0VGV4dChcIuS4jeiDveWIoOmZpOeItuiKgueCuSFcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnRUZXh0KFwi5LiN6IO95Yig6Zmk5qC56IqC54K5IVwiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRGlhbG9nVXRpbGl0eS5BbGVydFRleHQoXCLor7fpgInmi6nopoHliKDpmaTnmoToioLngrkhXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYmVnaW5TZWxlY3RUYWJsZVRvUmVsYXRpb25UYWJsZTogZnVuY3Rpb24gYmVnaW5TZWxlY3RUYWJsZVRvUmVsYXRpb25UYWJsZSgpIHtcbiAgICAgIGlmICh0aGlzLnJlbGF0aW9uVGFibGVUcmVlLmN1cnJlbnRTZWxlY3RlZE5vZGUpIHtcbiAgICAgICAgJChcIiNkaXZTZWxlY3RUYWJsZVwiKS5kaWFsb2coe1xuICAgICAgICAgIG1vZGFsOiB0cnVlLFxuICAgICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICAgIHdpZHRoOiA1MDBcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0KHdpbmRvdywgRGlhbG9nVXRpbGl0eS5EaWFsb2dBbGVydElkLCB7fSwgXCLpgInmi6nkuIDkuKrniLboioLngrkhXCIsIG51bGwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYnVpbGRSZWxhdGlvblRhYmxlTm9kZTogZnVuY3Rpb24gYnVpbGRSZWxhdGlvblRhYmxlTm9kZShzb3VyY2VOb2RlKSB7XG4gICAgICBpZiAodGhpcy5yZWxhdGlvblRhYmxlVHJlZS5jdXJyZW50U2VsZWN0ZWROb2RlLl9ub2RlRXhUeXBlID09IFwicm9vdFwiKSB7XG4gICAgICAgIHNvdXJjZU5vZGUuX25vZGVFeFR5cGUgPSBcIk1haW5Ob2RlXCI7XG4gICAgICAgIHNvdXJjZU5vZGUuaWNvbiA9IFwiLi4vLi4vLi4vVGhlbWVzL1BuZzE2WDE2L3BhZ2Vfa2V5LnBuZ1wiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291cmNlTm9kZS5fbm9kZUV4VHlwZSA9IFwiU3ViTm9kZVwiO1xuICAgICAgICBzb3VyY2VOb2RlLmljb24gPSBcIi4uLy4uLy4uL1RoZW1lcy9QbmcxNlgxNi9wYWdlX3JlZnJlc2gucG5nXCI7XG4gICAgICB9XG5cbiAgICAgIHNvdXJjZU5vZGUudGFibGVJZCA9IHNvdXJjZU5vZGUuaWQ7XG4gICAgICBzb3VyY2VOb2RlLmlkID0gU3RyaW5nVXRpbGl0eS5HdWlkKCk7XG4gICAgICByZXR1cm4gc291cmNlTm9kZTtcbiAgICB9LFxuICAgIGdldE1haW5SZWxhdGlvblRhYmxlTm9kZTogZnVuY3Rpb24gZ2V0TWFpblJlbGF0aW9uVGFibGVOb2RlKCkge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLnJlbGF0aW9uVGFibGVUcmVlLnRyZWVPYmouZ2V0Tm9kZUJ5UGFyYW0oXCJfbm9kZUV4VHlwZVwiLCBcIk1haW5Ob2RlXCIpO1xuXG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBnZXRNYWluVGFibGVJZDogZnVuY3Rpb24gZ2V0TWFpblRhYmxlSWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRNYWluUmVsYXRpb25UYWJsZU5vZGUoKSA/IHRoaXMuZ2V0TWFpblJlbGF0aW9uVGFibGVOb2RlKCkudGFibGVJZCA6IFwiXCI7XG4gICAgfSxcbiAgICBnZXRNYWluVGFibGVOYW1lOiBmdW5jdGlvbiBnZXRNYWluVGFibGVOYW1lKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0TWFpblJlbGF0aW9uVGFibGVOb2RlKCkgPyB0aGlzLmdldE1haW5SZWxhdGlvblRhYmxlTm9kZSgpLnZhbHVlIDogXCJcIjtcbiAgICB9LFxuICAgIGdldE1haW5UYWJsZUNhcHRpb246IGZ1bmN0aW9uIGdldE1haW5UYWJsZUNhcHRpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRNYWluUmVsYXRpb25UYWJsZU5vZGUoKSA/IHRoaXMuZ2V0TWFpblJlbGF0aW9uVGFibGVOb2RlKCkuYXR0cjEgOiBcIlwiO1xuICAgIH0sXG4gICAgaXNTZWxlY3RlZFJvb3RSZWxhdGlvblRhYmxlTm9kZTogZnVuY3Rpb24gaXNTZWxlY3RlZFJvb3RSZWxhdGlvblRhYmxlTm9kZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbGF0aW9uVGFibGVUcmVlLmN1cnJlbnRTZWxlY3RlZE5vZGUuaWQgPT0gXCItMVwiO1xuICAgIH0sXG4gICAgaXNTZWxlY3RlZE1haW5SZWxhdGlvblRhYmxlTm9kZTogZnVuY3Rpb24gaXNTZWxlY3RlZE1haW5SZWxhdGlvblRhYmxlTm9kZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbGF0aW9uVGFibGVUcmVlLmN1cnJlbnRTZWxlY3RlZE5vZGUuX25vZGVFeFR5cGUgPT0gXCJNYWluTm9kZVwiO1xuICAgIH0sXG4gICAgYWRkVGFibGVUb1JlbGF0aW9uVGFibGVUcmVlOiBmdW5jdGlvbiBhZGRUYWJsZVRvUmVsYXRpb25UYWJsZVRyZWUobmV3Tm9kZSkge1xuICAgICAgbmV3Tm9kZSA9IHRoaXMuYnVpbGRSZWxhdGlvblRhYmxlTm9kZShuZXdOb2RlKTtcbiAgICAgIHZhciB0ZW1wTm9kZSA9IHRoaXMuZ2V0TWFpblJlbGF0aW9uVGFibGVOb2RlKCk7XG5cbiAgICAgIGlmICh0ZW1wTm9kZSAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU2VsZWN0ZWRSb290UmVsYXRpb25UYWJsZU5vZGUoKSkge1xuICAgICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCBcIuWPquWFgeiuuOWtmOWcqOS4gOS4quS4u+iusOW9lSFcIiwgbnVsbCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVsYXRpb25UYWJsZVRyZWUudHJlZU9iai5hZGROb2Rlcyh0aGlzLnJlbGF0aW9uVGFibGVUcmVlLmN1cnJlbnRTZWxlY3RlZE5vZGUsIC0xLCBuZXdOb2RlLCBmYWxzZSk7XG4gICAgICB2YXIgbmV3UmVzdWx0SXRlbSA9IHRoaXMuZ2V0RW1wdHlSZXN1bHRJdGVtKCk7XG4gICAgICBuZXdSZXN1bHRJdGVtLmlkID0gbmV3Tm9kZS5pZDtcbiAgICAgIG5ld1Jlc3VsdEl0ZW0ucGFyZW50SWQgPSB0aGlzLnJlbGF0aW9uVGFibGVUcmVlLmN1cnJlbnRTZWxlY3RlZE5vZGUuaWQ7XG4gICAgICBuZXdSZXN1bHRJdGVtLnRhYmxlSWQgPSBuZXdOb2RlLnRhYmxlSWQ7XG4gICAgICBuZXdSZXN1bHRJdGVtLnRhYmxlTmFtZSA9IG5ld05vZGUudmFsdWU7XG4gICAgICBuZXdSZXN1bHRJdGVtLnRhYmxlQ2FwdGlvbiA9IG5ld05vZGUuYXR0cjE7XG4gICAgICB0aGlzLnJlc3VsdERhdGEucHVzaChuZXdSZXN1bHRJdGVtKTtcbiAgICB9LFxuICAgIHNlbGVjdGVkUmVsYXRpb25UYWJsZU5vZGU6IGZ1bmN0aW9uIHNlbGVjdGVkUmVsYXRpb25UYWJsZU5vZGUobm9kZSkge1xuICAgICAgdGhpcy5yZWxhdGlvblRhYmxlVHJlZS5jdXJyZW50U2VsZWN0ZWROb2RlID0gbm9kZTtcbiAgICAgIHRoaXMucmVsYXRpb25UYWJsZUVkaXRvclZpZXcuaXNTaG93VGFibGVFZGl0RGV0YWlsID0gIXRoaXMuaXNTZWxlY3RlZFJvb3RSZWxhdGlvblRhYmxlTm9kZSgpO1xuICAgICAgdGhpcy5yZWxhdGlvblRhYmxlRWRpdG9yVmlldy5pc01haW5FZGl0VHIgPSB0aGlzLmlzU2VsZWN0ZWRNYWluUmVsYXRpb25UYWJsZU5vZGUoKTtcbiAgICAgIHRoaXMucmVsYXRpb25UYWJsZUVkaXRvclZpZXcuaXNTdWJFZGl0VHIgPSAhdGhpcy5pc1NlbGVjdGVkTWFpblJlbGF0aW9uVGFibGVOb2RlKCk7XG5cbiAgICAgIGlmICh0aGlzLmlzU2VsZWN0ZWRSb290UmVsYXRpb25UYWJsZU5vZGUoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVsYXRpb25UYWJsZUVkaXRvclZpZXcuc2VsUEtEYXRhID0gdGhpcy5nZXRUYWJsZUZpZWxkc0J5VGFibGVJZChub2RlLnRhYmxlSWQpICE9IG51bGwgPyB0aGlzLmdldFRhYmxlRmllbGRzQnlUYWJsZUlkKG5vZGUudGFibGVJZCkgOiBbXTtcbiAgICAgIHRoaXMucmVsYXRpb25UYWJsZUVkaXRvclZpZXcuc2VsU2VsZktleURhdGEgPSB0aGlzLmdldFRhYmxlRmllbGRzQnlUYWJsZUlkKG5vZGUudGFibGVJZCkgIT0gbnVsbCA/IHRoaXMuZ2V0VGFibGVGaWVsZHNCeVRhYmxlSWQobm9kZS50YWJsZUlkKSA6IFtdO1xuICAgICAgdmFyIHBhcmVudE5vZGUgPSBub2RlLmdldFBhcmVudE5vZGUoKTtcbiAgICAgIHRoaXMucmVsYXRpb25UYWJsZUVkaXRvclZpZXcuc2VsRm9yZWlnbktleURhdGEgPSB0aGlzLmdldFRhYmxlRmllbGRzQnlUYWJsZUlkKHBhcmVudE5vZGUudGFibGVJZCkgIT0gbnVsbCA/IHRoaXMuZ2V0VGFibGVGaWVsZHNCeVRhYmxlSWQocGFyZW50Tm9kZS50YWJsZUlkKSA6IFtdO1xuICAgICAgdGhpcy5jdXJyZW50RWRpdG9yRGF0YS5pZCA9IHRoaXMucmVsYXRpb25UYWJsZVRyZWUuY3VycmVudFNlbGVjdGVkTm9kZS5pZDtcbiAgICAgIHRoaXMuY3VycmVudEVkaXRvckRhdGEucGFyZW50SWQgPSBwYXJlbnROb2RlLmlkO1xuICAgICAgdmFyIGV4aXN0UmVzdWx0SXRlbSA9IHRoaXMuZ2V0RXhpc3RSZXN1bHRJdGVtKG5vZGUuaWQpO1xuXG4gICAgICBpZiAoZXhpc3RSZXN1bHRJdGVtICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRJdGVtQ29weUVkaXRFbmFibGVWYWx1ZSh0aGlzLmN1cnJlbnRFZGl0b3JEYXRhLCBleGlzdFJlc3VsdEl0ZW0pO1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF9zZWxmLiRyZWZzLnNxbEdlbmVyYWxEZXNpZ25Db21wLnNldFZhbHVlKF9zZWxmLmN1cnJlbnRFZGl0b3JEYXRhLmNvbmRpdGlvbik7XG5cbiAgICAgICAgICBfc2VsZi4kcmVmcy5zcWxHZW5lcmFsRGVzaWduQ29tcC5zZXRBYm91dFRhYmxlRmllbGRzKF9zZWxmLnJlbGF0aW9uVGFibGVFZGl0b3JWaWV3LnNlbFNlbGZLZXlEYXRhLCBfc2VsZi5yZWxhdGlvblRhYmxlRWRpdG9yVmlldy5zZWxGb3JlaWduS2V5RGF0YSk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChcIumAmui/h2dldEV4aXN0UmVzdWx0SXRlbeiOt+WPluS4jeWIsOaVsOaNriFcIik7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRSZXN1bHREYXRhOiBmdW5jdGlvbiBnZXRSZXN1bHREYXRhKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVzdWx0RGF0YTtcbiAgICB9LFxuICAgIHNlcmlhbGl6ZVJlbGF0aW9uOiBmdW5jdGlvbiBzZXJpYWxpemVSZWxhdGlvbihpc0Zvcm1hdCkge1xuICAgICAgYWxlcnQoXCJzZXJpYWxpemVSZWxhdGlvbuW3sue7j+WBnOeUqFwiKTtcbiAgICAgIHJldHVybjtcblxuICAgICAgaWYgKGlzRm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBKc29uVXRpbGl0eS5Kc29uVG9TdHJpbmdGb3JtYXQodGhpcy5yZXN1bHREYXRhKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIEpzb25VdGlsaXR5Lkpzb25Ub1N0cmluZyh0aGlzLnJlc3VsdERhdGEpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemVSZWxhdGlvbjogZnVuY3Rpb24gZGVzZXJpYWxpemVSZWxhdGlvbihqc29uU3RyaW5nKSB7XG4gICAgICBhbGVydChcImRlc2VyaWFsaXplUmVsYXRpb27lt7Lnu4/lgZznlKhcIik7XG4gICAgICByZXR1cm47XG4gICAgfSxcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICBtYWluVGFibGVJZDogdGhpcy5nZXRNYWluVGFibGVJZCgpLFxuICAgICAgICBtYWluVGFibGVOYW1lOiB0aGlzLmdldE1haW5UYWJsZU5hbWUoKSxcbiAgICAgICAgbWFpblRhYmxlQ2FwdGlvbjogdGhpcy5nZXRNYWluVGFibGVDYXB0aW9uKCksXG4gICAgICAgIHJlbGF0aW9uRGF0YTogdGhpcy5yZXN1bHREYXRhXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICAgIHNldFZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZShqc29uU3RyaW5nKSB7XG4gICAgICB2YXIgdGVtcERhdGEgPSBKc29uVXRpbGl0eS5TdHJpbmdUb0pzb24oanNvblN0cmluZyk7XG4gICAgICB0aGlzLnJlc3VsdERhdGEgPSB0ZW1wRGF0YTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICB0ZW1wRGF0YVtpXS52YWx1ZSA9IHRlbXBEYXRhW2ldLnRhYmxlTmFtZTtcbiAgICAgICAgdGVtcERhdGFbaV0uYXR0cjEgPSB0ZW1wRGF0YVtpXS50YWJsZUNhcHRpb247XG4gICAgICAgIHRlbXBEYXRhW2ldLnRleHQgPSB0ZW1wRGF0YVtpXS50YWJsZUNhcHRpb24gKyBcIuOAkFwiICsgdGVtcERhdGFbaV0udGFibGVOYW1lICsgXCLjgJFcIjtcbiAgICAgIH1cblxuICAgICAgdGVtcGRhdGEucHVzaCh0aGlzLnJlbGF0aW9uVGFibGVUcmVlLnRhYmxlVHJlZVJvb3REYXRhKTtcbiAgICAgIHRoaXMucmVsYXRpb25UYWJsZVRyZWUudHJlZU9iaiA9ICQuZm4uelRyZWUuaW5pdCgkKFwiI2RhdGFSZWxhdGlvblpUcmVlVUxcIiksIHRoaXMucmVsYXRpb25UYWJsZVRyZWUudGFibGVUcmVlU2V0dGluZywgdGVtcGRhdGEpO1xuICAgICAgdGhpcy5yZWxhdGlvblRhYmxlVHJlZS50cmVlT2JqLmV4cGFuZEFsbCh0cnVlKTtcbiAgICB9LFxuICAgIGFsZXJ0U2VyaWFsaXplUmVsYXRpb246IGZ1bmN0aW9uIGFsZXJ0U2VyaWFsaXplUmVsYXRpb24oKSB7XG4gICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0SnNvbkNvZGUodGhpcy5yZXN1bHREYXRhKTtcbiAgICB9LFxuICAgIGlucHV0RGVzZXJpYWxpemVSZWxhdGlvbjogZnVuY3Rpb24gaW5wdXREZXNlcmlhbGl6ZVJlbGF0aW9uKCkge1xuICAgICAgRGlhbG9nVXRpbGl0eS5Qcm9tcHQod2luZG93LCB7XG4gICAgICAgIHdpZHRoOiA5MDAsXG4gICAgICAgIGhlaWdodDogNjAwXG4gICAgICB9LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ1Byb21wdElkLCBcIuivt+i0tOWFpeaVsOaNruWFs+iBlEpzb27orr7nva7lrZfnrKbkuLJcIiwgZnVuY3Rpb24gKGpzb25TdHJpbmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB3aW5kb3cuX2RidGFibGVyZWxhdGlvbmNvbXAuZGVzZXJpYWxpemVSZWxhdGlvbihqc29uU3RyaW5nKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGFsZXJ0KFwi5Y+N5bqP5YiX5YyW5aSx6LSlOlwiICsgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwiZGItdGFibGUtcmVsYXRpb24tY29tcFwiPlxcXHJcbiAgICAgICAgICAgICAgICA8ZGl2aWRlciBvcmllbnRhdGlvbj1cImxlZnRcIiA6ZGFzaGVkPVwidHJ1ZVwiIHN0eWxlPVwiZm9udC1zaXplOiAxMnB4XCI+5pWw5o2u5YWz57O75YWz6IGU6K6+572uPC9kaXZpZGVyPlxcXHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZmxvYXQ6IGxlZnQ7d2lkdGg6IDM1MHB4O2hlaWdodDogMzMwcHg7Ym9yZGVyOiAjZGRkZGYxIDFweCBzb2xpZDtib3JkZXItcmFkaXVzOiA0cHg7cGFkZGluZzogMTBweCAxMHB4IDEwcHggMTBweDtcIj5cXFxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24tZ3JvdXAgc2hhcGU9XCJjaXJjbGVcIiBzdHlsZT1cIm1hcmdpbjogYXV0b1wiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpLWJ1dHRvbiB0eXBlPVwic3VjY2Vzc1wiIEBjbGljaz1cImJlZ2luU2VsZWN0VGFibGVUb1JlbGF0aW9uVGFibGVcIj4mbmJzcDvmt7vliqAmbmJzcDs8L2ktYnV0dG9uPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpLWJ1dHRvbiBAY2xpY2s9XCJkZWxldGVTZWxlY3RlZFJlbGF0aW9uVHJlZU5vZGVcIj4mbmJzcDvliKDpmaQmbmJzcDs8L2ktYnV0dG9uPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpLWJ1dHRvbiBAY2xpY2s9XCJhbGVydFNlcmlhbGl6ZVJlbGF0aW9uXCI+5bqP5YiX5YyWPC9pLWJ1dHRvbj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aS1idXR0b24gQGNsaWNrPVwiaW5wdXREZXNlcmlhbGl6ZVJlbGF0aW9uXCI+5Y+N5bqP5YiX5YyWPC9pLWJ1dHRvbj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aS1idXR0b24+6K+05piOPC9pLWJ1dHRvbj5cXFxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uLWdyb3VwPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgPHVsIGlkPVwiZGF0YVJlbGF0aW9uWlRyZWVVTFwiIGNsYXNzPVwienRyZWVcIj48L3VsPlxcXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZsb2F0OiByaWdodDt3aWR0aDogNjMwcHg7aGVpZ2h0OiAzMzBweDtib3JkZXI6ICNkZGRkZjEgMXB4IHNvbGlkO2JvcmRlci1yYWRpdXM6IDRweDtwYWRkaW5nOiAxMHB4IDEwcHggMTBweCAxMHB4O1wiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwibGlnaHQtZ3JheS10YWJsZVwiIGNlbGxwYWRkaW5nPVwiMFwiIGNlbGxzcGFjaW5nPVwiMFwiIGJvcmRlcj1cIjBcIiB2LWlmPVwicmVsYXRpb25UYWJsZUVkaXRvclZpZXcuaXNTaG93VGFibGVFZGl0RGV0YWlsXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGNvbGdyb3VwPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDE3JVwiIC8+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMzMlXCIgLz5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxNSVcIiAvPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDM1JVwiIC8+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9jb2xncm91cD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImxhYmVsXCI+U2luZ2xlTmFtZe+8mjwvdGQ+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGktaW5wdXQgdi1tb2RlbD1cImN1cnJlbnRFZGl0b3JEYXRhLnNpbmdsZU5hbWVcIiBzaXplPVwic21hbGxcIiBwbGFjZWhvbGRlcj1cIuacrOWFs+iBlOS4reeahOWUr+S4gOWQjeensCzlj6/ku6XkuLrnqbpcIiAvPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImxhYmVsXCI+UEtLZXnvvJo8L3RkPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpLXNlbGVjdCBwbGFjZWhvbGRlcj1cIum7mOiupOS9v+eUqElk5a2X5q61XCIgdi1tb2RlbD1cImN1cnJlbnRFZGl0b3JEYXRhLnBrRmllbGROYW1lXCIgc2l6ZT1cInNtYWxsXCIgc3R5bGU9XCJ3aWR0aDoxOTlweFwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aS1vcHRpb24gdi1mb3I9XCJpdGVtIGluIHJlbGF0aW9uVGFibGVFZGl0b3JWaWV3LnNlbFBLRGF0YVwiIDp2YWx1ZT1cIml0ZW0uZmllbGROYW1lXCIgOmtleT1cIml0ZW0uZmllbGROYW1lXCI+e3tpdGVtLmZpZWxkQ2FwdGlvbn19PC9pLW9wdGlvbj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2ktc2VsZWN0PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIHYtaWY9XCJyZWxhdGlvblRhYmxlRWRpdG9yVmlldy5pc1N1YkVkaXRUclwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibGFiZWxcIj7mlbDmja7lhbPns7vvvJo8L3RkPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyYWRpby1ncm91cCB2LW1vZGVsPVwiY3VycmVudEVkaXRvckRhdGEucmVsYXRpb25UeXBlXCIgdHlwZT1cImJ1dHRvblwiIHNpemU9XCJzbWFsbFwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmFkaW8gbGFiZWw9XCIxVG8xXCI+MToxPC9yYWRpbz5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJhZGlvIGxhYmVsPVwiMVRvTlwiPjE6TjwvcmFkaW8+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9yYWRpby1ncm91cD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJsYWJlbFwiPuaYr+WQpuS/neWtmO+8mjwvdGQ+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJhZGlvLWdyb3VwIHYtbW9kZWw9XCJjdXJyZW50RWRpdG9yRGF0YS5pc1NhdmVcIiB0eXBlPVwiYnV0dG9uXCIgc2l6ZT1cInNtYWxsXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyYWRpbyBsYWJlbD1cInRydWVcIj7mmK88L3JhZGlvPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmFkaW8gbGFiZWw9XCJmYWxzZVwiPuWQpjwvcmFkaW8+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9yYWRpby1ncm91cD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciB2LWlmPVwicmVsYXRpb25UYWJsZUVkaXRvclZpZXcuaXNTdWJFZGl0VHJcIj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImxhYmVsXCI+5pys6Lqr5YWz6IGU5a2X5q6177yaPC90ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGktc2VsZWN0IHBsYWNlaG9sZGVyPVwi6buY6K6k5L2/55SoSWTlrZfmrrVcIiB2LW1vZGVsPVwiY3VycmVudEVkaXRvckRhdGEuc2VsZktleUZpZWxkTmFtZVwiIHNpemU9XCJzbWFsbFwiIHN0eWxlPVwid2lkdGg6MTk5cHhcIj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGktb3B0aW9uIHYtZm9yPVwiaXRlbSBpbiByZWxhdGlvblRhYmxlRWRpdG9yVmlldy5zZWxTZWxmS2V5RGF0YVwiIDp2YWx1ZT1cIml0ZW0uZmllbGROYW1lXCIgOmtleT1cIml0ZW0uZmllbGROYW1lXCI+e3tpdGVtLmZpZWxkQ2FwdGlvbn19PC9pLW9wdGlvbj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2ktc2VsZWN0PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImxhYmVsXCI+5aSW6IGU5a2X5q6177yaPC90ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGktc2VsZWN0IHBsYWNlaG9sZGVyPVwi6buY6K6k5L2/55SoSWTlrZfmrrVcIiB2LW1vZGVsPVwiY3VycmVudEVkaXRvckRhdGEub3V0ZXJLZXlGaWVsZE5hbWVcIiBzaXplPVwic21hbGxcIiBzdHlsZT1cIndpZHRoOjE5OXB4XCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpLW9wdGlvbiB2LWZvcj1cIml0ZW0gaW4gcmVsYXRpb25UYWJsZUVkaXRvclZpZXcuc2VsUEtEYXRhXCIgOnZhbHVlPVwiaXRlbS5maWVsZE5hbWVcIiA6a2V5PVwiaXRlbS5maWVsZE5hbWVcIj57e2l0ZW0uZmllbGRDYXB0aW9ufX08L2ktb3B0aW9uPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaS1zZWxlY3Q+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJsYWJlbFwiPkRlc2PvvJo8L3RkPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49XCIzXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGktaW5wdXQgdi1tb2RlbD1cImN1cnJlbnRFZGl0b3JEYXRhLmRlc2NcIiBzaXplPVwic21hbGxcIiBwbGFjZWhvbGRlcj1cIuivtOaYjlwiIC8+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJsYWJlbFwiPuWKoOi9veadoeS7tu+8mjwvdGQ+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjNcIj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3FsLWdlbmVyYWwtZGVzaWduLWNvbXAgcmVmPVwic3FsR2VuZXJhbERlc2lnbkNvbXBcIiA6c3FsRGVzaWduZXJIZWlnaHQ9XCI3NFwiIHYtbW9kZWw9XCJjdXJyZW50RWRpdG9yRGF0YS5jb25kaXRpb25cIj48L3NxbC1nZW5lcmFsLWRlc2lnbi1jb21wPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cXFxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJkaXZTZWxlY3RUYWJsZVwiIHRpdGxlPVwi6K+36YCJ5oup6KGoXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICA8dWwgaWQ9XCJzZWxlY3RUYWJsZVpUcmVlVUxcIiBjbGFzcz1cInp0cmVlXCI+PC91bD5cXFxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgICA8L2Rpdj4nXG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuVnVlLmNvbXBvbmVudChcImZkLWNvbnRyb2wtYmluZC10b1wiLCB7XG4gIHByb3BzOiBbXCJiaW5kVG9GaWVsZFByb3BcIiwgXCJkZWZhdWx0VmFsdWVQcm9wXCIsIFwidmFsaWRhdGVSdWxlc1Byb3BcIl0sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJpbmRUb0ZpZWxkOiB7XG4gICAgICAgIHRhYmxlSWQ6IFwiXCIsXG4gICAgICAgIHRhYmxlTmFtZTogXCJcIixcbiAgICAgICAgdGFibGVDYXB0aW9uOiBcIlwiLFxuICAgICAgICBmaWVsZE5hbWU6IFwiXCIsXG4gICAgICAgIGZpZWxkQ2FwdGlvbjogXCJcIixcbiAgICAgICAgZmllbGREYXRhVHlwZTogXCJcIixcbiAgICAgICAgZmllbGRMZW5ndGg6IFwiXCJcbiAgICAgIH0sXG4gICAgICB2YWxpZGF0ZVJ1bGVzOiB7XG4gICAgICAgIG1zZzogXCJcIixcbiAgICAgICAgcnVsZXM6IFtdXG4gICAgICB9LFxuICAgICAgZGVmYXVsdFZhbHVlOiB7XG4gICAgICAgIGRlZmF1bHRUeXBlOiBcIlwiLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IFwiXCIsXG4gICAgICAgIGRlZmF1bHRUZXh0OiBcIlwiXG4gICAgICB9LFxuICAgICAgdGVtcERhdGE6IHtcbiAgICAgICAgZGVmYXVsdERpc3BsYXlUZXh0OiBcIlwiXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgd2F0Y2g6IHtcbiAgICBiaW5kVG9Qcm9wOiBmdW5jdGlvbiBiaW5kVG9Qcm9wKG5ld1ZhbHVlKSB7XG4gICAgICBjb25zb2xlLmxvZyhuZXdWYWx1ZSk7XG4gICAgfSxcbiAgICBiaW5kVG9GaWVsZFByb3A6IGZ1bmN0aW9uIGJpbmRUb0ZpZWxkUHJvcChuZXdWYWx1ZSkge1xuICAgICAgdGhpcy5iaW5kVG9GaWVsZCA9IG5ld1ZhbHVlO1xuICAgIH0sXG4gICAgZGVmYXVsdFZhbHVlUHJvcDogZnVuY3Rpb24gZGVmYXVsdFZhbHVlUHJvcChuZXdWYWx1ZSkge1xuICAgICAgdGhpcy5kZWZhdWx0VmFsdWUgPSBuZXdWYWx1ZTtcblxuICAgICAgaWYgKCFTdHJpbmdVdGlsaXR5LklzTnVsbE9yRW1wdHkodGhpcy5kZWZhdWx0VmFsdWUuZGVmYXVsdFR5cGUpKSB7XG4gICAgICAgIHRoaXMudGVtcERhdGEuZGVmYXVsdERpc3BsYXlUZXh0ID0gSkJ1aWxkNERTZWxlY3RWaWV3LlNlbGVjdEVudlZhcmlhYmxlLmZvcm1hdFRleHQodGhpcy5kZWZhdWx0VmFsdWUuZGVmYXVsdFR5cGUsIHRoaXMuZGVmYXVsdFZhbHVlLmRlZmF1bHRUZXh0KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHZhbGlkYXRlUnVsZXNQcm9wOiBmdW5jdGlvbiB2YWxpZGF0ZVJ1bGVzUHJvcChuZXdWYWx1ZSkge1xuICAgICAgdGhpcy52YWxpZGF0ZVJ1bGVzID0gbmV3VmFsdWU7XG4gICAgfVxuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgIHRoaXMuYmluZFRvRmllbGQgPSB0aGlzLmJpbmRUb0ZpZWxkUHJvcDtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHNldENvbXBsZXRlZDogZnVuY3Rpb24gc2V0Q29tcGxldGVkKCkge1xuICAgICAgdGhpcy4kZW1pdCgnb24tc2V0LWNvbXBsZXRlZCcsIHRoaXMuYmluZFRvRmllbGQsIHRoaXMuZGVmYXVsdFZhbHVlLCB0aGlzLnZhbGlkYXRlUnVsZXMpO1xuICAgIH0sXG4gICAgc2VsZWN0QmluZEZpZWxkVmlldzogZnVuY3Rpb24gc2VsZWN0QmluZEZpZWxkVmlldygpIHtcbiAgICAgIEpCdWlsZDREU2VsZWN0Vmlldy5TZWxlY3RCaW5kVG9GaWVsZC5iZWdpblNlbGVjdEluRnJhbWUod2luZG93LCBcIl9TZWxlY3RCaW5kT2JqXCIsIHt9KTtcbiAgICAgIHdpbmRvdy5fU2VsZWN0QmluZE9iaiA9IHRoaXM7XG4gICAgfSxcbiAgICBzZXRTZWxlY3RGaWVsZFJlc3VsdFZhbHVlOiBmdW5jdGlvbiBzZXRTZWxlY3RGaWVsZFJlc3VsdFZhbHVlKHJlc3VsdCkge1xuICAgICAgdGhpcy5iaW5kVG9GaWVsZCA9IHt9O1xuXG4gICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5iaW5kVG9GaWVsZC5maWVsZE5hbWUgPSByZXN1bHQuZmllbGROYW1lO1xuICAgICAgICB0aGlzLmJpbmRUb0ZpZWxkLnRhYmxlSWQgPSByZXN1bHQudGFibGVJZDtcbiAgICAgICAgdGhpcy5iaW5kVG9GaWVsZC50YWJsZU5hbWUgPSByZXN1bHQudGFibGVOYW1lO1xuICAgICAgICB0aGlzLmJpbmRUb0ZpZWxkLnRhYmxlQ2FwdGlvbiA9IHJlc3VsdC50YWJsZUNhcHRpb247XG4gICAgICAgIHRoaXMuYmluZFRvRmllbGQuZmllbGRDYXB0aW9uID0gcmVzdWx0LmZpZWxkQ2FwdGlvbjtcbiAgICAgICAgdGhpcy5iaW5kVG9GaWVsZC5maWVsZERhdGFUeXBlID0gcmVzdWx0LmZpZWxkRGF0YVR5cGU7XG4gICAgICAgIHRoaXMuYmluZFRvRmllbGQuZmllbGRMZW5ndGggPSByZXN1bHQuZmllbGRMZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmJpbmRUb0ZpZWxkLmZpZWxkTmFtZSA9IFwiXCI7XG4gICAgICAgIHRoaXMuYmluZFRvRmllbGQudGFibGVJZCA9IFwiXCI7XG4gICAgICAgIHRoaXMuYmluZFRvRmllbGQudGFibGVOYW1lID0gXCJcIjtcbiAgICAgICAgdGhpcy5iaW5kVG9GaWVsZC50YWJsZUNhcHRpb24gPSBcIlwiO1xuICAgICAgICB0aGlzLmJpbmRUb0ZpZWxkLmZpZWxkQ2FwdGlvbiA9IFwiXCI7XG4gICAgICAgIHRoaXMuYmluZFRvRmllbGQuZmllbGREYXRhVHlwZSA9IFwiXCI7XG4gICAgICAgIHRoaXMuYmluZFRvRmllbGQuZmllbGRMZW5ndGggPSBcIlwiO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldENvbXBsZXRlZCgpO1xuICAgIH0sXG4gICAgZ2V0U2VsZWN0RmllbGRSZXN1bHRWYWx1ZTogZnVuY3Rpb24gZ2V0U2VsZWN0RmllbGRSZXN1bHRWYWx1ZSgpIHtcbiAgICAgIHJldHVybiBKc29uVXRpbGl0eS5DbG9uZVNpbXBsZSh0aGlzLmJpbmRUb0ZpZWxkKTtcbiAgICB9LFxuICAgIHNlbGVjdERlZmF1bHRWYWx1ZVZpZXc6IGZ1bmN0aW9uIHNlbGVjdERlZmF1bHRWYWx1ZVZpZXcoKSB7XG4gICAgICBKQnVpbGQ0RFNlbGVjdFZpZXcuU2VsZWN0RW52VmFyaWFibGUuYmVnaW5TZWxlY3RJbkZyYW1lKHdpbmRvdywgXCJfU2VsZWN0QmluZE9ialwiLCB7fSk7XG4gICAgICB3aW5kb3cuX1NlbGVjdEJpbmRPYmogPSB0aGlzO1xuICAgIH0sXG4gICAgc2V0U2VsZWN0RW52VmFyaWFibGVSZXN1bHRWYWx1ZTogZnVuY3Rpb24gc2V0U2VsZWN0RW52VmFyaWFibGVSZXN1bHRWYWx1ZShyZXN1bHQpIHtcbiAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLmRlZmF1bHRWYWx1ZS5kZWZhdWx0VHlwZSA9IHJlc3VsdC5UeXBlO1xuICAgICAgICB0aGlzLmRlZmF1bHRWYWx1ZS5kZWZhdWx0VmFsdWUgPSByZXN1bHQuVmFsdWU7XG4gICAgICAgIHRoaXMuZGVmYXVsdFZhbHVlLmRlZmF1bHRUZXh0ID0gcmVzdWx0LlRleHQ7XG4gICAgICAgIHRoaXMudGVtcERhdGEuZGVmYXVsdERpc3BsYXlUZXh0ID0gSkJ1aWxkNERTZWxlY3RWaWV3LlNlbGVjdEVudlZhcmlhYmxlLmZvcm1hdFRleHQodGhpcy5kZWZhdWx0VmFsdWUuZGVmYXVsdFR5cGUsIHRoaXMuZGVmYXVsdFZhbHVlLmRlZmF1bHRUZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdFZhbHVlLmRlZmF1bHRUeXBlID0gXCJcIjtcbiAgICAgICAgdGhpcy5kZWZhdWx0VmFsdWUuZGVmYXVsdFZhbHVlID0gXCJcIjtcbiAgICAgICAgdGhpcy5kZWZhdWx0VmFsdWUuZGVmYXVsdFRleHQgPSBcIlwiO1xuICAgICAgICB0aGlzLnRlbXBEYXRhLmRlZmF1bHREaXNwbGF5VGV4dCA9IFwiXCI7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0Q29tcGxldGVkKCk7XG4gICAgfSxcbiAgICBzZWxlY3RWYWxpZGF0ZVJ1bGVWaWV3OiBmdW5jdGlvbiBzZWxlY3RWYWxpZGF0ZVJ1bGVWaWV3KCkge1xuICAgICAgSkJ1aWxkNERTZWxlY3RWaWV3LlNlbGVjdFZhbGlkYXRlUnVsZS5iZWdpblNlbGVjdEluRnJhbWUod2luZG93LCBcIl9TZWxlY3RCaW5kT2JqXCIsIHt9KTtcbiAgICAgIHdpbmRvdy5fU2VsZWN0QmluZE9iaiA9IHRoaXM7XG4gICAgfSxcbiAgICBzZXRTZWxlY3RWYWxpZGF0ZVJ1bGVSZXN1bHRWYWx1ZTogZnVuY3Rpb24gc2V0U2VsZWN0VmFsaWRhdGVSdWxlUmVzdWx0VmFsdWUocmVzdWx0KSB7XG4gICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZVJ1bGVzID0gcmVzdWx0O1xuICAgICAgICB0aGlzLnNldENvbXBsZXRlZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZVJ1bGVzLm1zZyA9IFwiXCI7XG4gICAgICAgIHRoaXMudmFsaWRhdGVSdWxlcy5ydWxlcyA9IFtdO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0U2VsZWN0VmFsaWRhdGVSdWxlUmVzdWx0VmFsdWU6IGZ1bmN0aW9uIGdldFNlbGVjdFZhbGlkYXRlUnVsZVJlc3VsdFZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVSdWxlcztcbiAgICB9XG4gIH0sXG4gIHRlbXBsYXRlOiAnPHRhYmxlIGNlbGxwYWRkaW5nPVwiMFwiIGNlbGxzcGFjaW5nPVwiMFwiIGJvcmRlcj1cIjBcIiBjbGFzcz1cImh0bWwtZGVzaWduLXBsdWdpbi1kaWFsb2ctdGFibGUtd3JhcGVyXCI+JyArICc8Y29sZ3JvdXA+JyArICc8Y29sIHN0eWxlPVwid2lkdGg6IDEwMHB4XCIgLz4nICsgJzxjb2wgc3R5bGU9XCJ3aWR0aDogMjgwcHhcIiAvPicgKyAnPGNvbCBzdHlsZT1cIndpZHRoOiAxMDBweFwiIC8+JyArICc8Y29sIC8+JyArICc8L2NvbGdyb3VwPicgKyAnPHRyPicgKyAnPHRkIGNvbHNwYW49XCI0XCI+JyArICcgICAg57uR5a6a5Yiw6KGoPGJ1dHRvbiBjbGFzcz1cImJ0bi1zZWxlY3QgZnJpZ2h0XCIgdi1vbjpjbGljaz1cInNlbGVjdEJpbmRGaWVsZFZpZXdcIj4uLi48L2J1dHRvbj4nICsgJzwvdGQ+JyArICc8L3RyPicgKyAnPHRyPicgKyAnPHRkPuihqOe8luWPt++8mjwvdGQ+JyArICc8dGQgY29sc3Bhbj1cIjNcIj57e2JpbmRUb0ZpZWxkLnRhYmxlSWR9fTwvdGQ+JyArICc8L3RyPicgKyAnPHRyPicgKyAnPHRkPuihqOWQje+8mjwvdGQ+JyArICc8dGQ+e3tiaW5kVG9GaWVsZC50YWJsZU5hbWV9fTwvdGQ+JyArICc8dGQ+6KGo5qCH6aKY77yaPC90ZD4nICsgJzx0ZD57e2JpbmRUb0ZpZWxkLnRhYmxlQ2FwdGlvbn19PC90ZD4nICsgJzwvdHI+JyArICc8dHI+JyArICc8dGQ+5a2X5q615ZCN77yaPC90ZD4nICsgJzx0ZD57e2JpbmRUb0ZpZWxkLmZpZWxkTmFtZX19PC90ZD4nICsgJzx0ZD7lrZfmrrXmoIfpopjvvJo8L3RkPicgKyAnPHRkPnt7YmluZFRvRmllbGQuZmllbGRDYXB0aW9ufX08L3RkPicgKyAnPC90cj4nICsgJzx0cj4nICsgJzx0ZD7nsbvlnovvvJo8L3RkPicgKyAnPHRkPnt7YmluZFRvRmllbGQuZmllbGREYXRhVHlwZX19PC90ZD4nICsgJzx0ZD7plb/luqbvvJo8L3RkPicgKyAnPHRkPnt7YmluZFRvRmllbGQuZmllbGRMZW5ndGh9fTwvdGQ+JyArICc8L3RyPicgKyAnPHRyPicgKyAnPHRkIGNvbHNwYW49XCI0XCI+6buY6K6k5YC8PGJ1dHRvbiBjbGFzcz1cImJ0bi1zZWxlY3QgZnJpZ2h0XCIgdi1vbjpjbGljaz1cInNlbGVjdERlZmF1bHRWYWx1ZVZpZXdcIj4uLi48L2J1dHRvbj48L3RkPicgKyAnPC90cj4nICsgJzx0ciBzdHlsZT1cImhlaWdodDogMzVweFwiPicgKyAnPHRkIGNvbHNwYW49XCI0XCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1wiPicgKyAne3t0ZW1wRGF0YS5kZWZhdWx0RGlzcGxheVRleHR9fScgKyAnPC90ZD4nICsgJzwvdHI+JyArICc8dHI+JyArICc8dGQgY29sc3Bhbj1cIjRcIj4nICsgJyAgICDmoKHpqozop4TliJk8YnV0dG9uIGNsYXNzPVwiYnRuLXNlbGVjdCBmcmlnaHRcIiB2LW9uOmNsaWNrPVwic2VsZWN0VmFsaWRhdGVSdWxlVmlld1wiPi4uLjwvYnV0dG9uPicgKyAnPC90ZD4nICsgJzwvdHI+JyArICc8dHI+JyArICc8dGQgY29sc3Bhbj1cIjRcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmZmZmZmZcIj4nICsgJzx0YWJsZSBjbGFzcz1cImh0bWwtZGVzaWduLXBsdWdpbi1kaWFsb2ctdGFibGUtd3JhcGVyXCI+JyArICc8Y29sZ3JvdXA+JyArICc8Y29sIHN0eWxlPVwid2lkdGg6IDEwMHB4XCIgLz4nICsgJzxjb2wgLz4nICsgJzwvY29sZ3JvdXA+JyArICc8dHI+JyArICc8dGQgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+5o+Q56S65raI5oGv77yaPC90ZD4nICsgJzx0ZD57e3ZhbGlkYXRlUnVsZXMubXNnfX08L3RkPicgKyAnPC90cj4nICsgJzx0cj4nICsgJzx0ZCBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj7pqozor4Hnsbvlnos8L3RkPicgKyAnPHRkIHN0eWxlPVwiYmFja2dyb3VuZDogI2U4ZWFlYzt0ZXh0LWFsaWduOiBjZW50ZXI7XCI+5Y+C5pWwPC90ZD4nICsgJzwvdHI+JyArICc8dHIgdi1mb3I9XCJydWxlSXRlbSBpbiB2YWxpZGF0ZVJ1bGVzLnJ1bGVzXCI+JyArICc8dGQgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmZmZmZmO3RleHQtYWxpZ246IGNlbnRlcjtjb2xvcjogI2FkOTM2MVwiPnt7cnVsZUl0ZW0udmFsaWRhdGVUeXBlfX08L3RkPicgKyAnPHRkIHN0eWxlPVwiYmFja2dyb3VuZDogI2ZmZmZmZjt0ZXh0LWFsaWduOiBjZW50ZXI7XCI+PHAgdi1pZj1cInJ1bGVJdGVtLnZhbGlkYXRlUGFyYXMgPT09IFxcJ1xcJ1wiPuaXoOWPguaVsDwvcD48cCB2LWVsc2U+e3tydWxlSXRlbS52YWxpZGF0ZVBhcmFzfX08L3A+PC90ZD4nICsgJzwvdHI+JyArICc8L3RhYmxlPicgKyAnPC90ZD4nICsgJzwvdHI+JyArICc8L3RhYmxlPidcbn0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG5WdWUuY29tcG9uZW50KFwianMtZGVzaWduLWNvZGUtZnJhZ21lbnRcIiwge1xuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBqc0VkaXRvckluc3RhbmNlOiBudWxsXG4gICAgfTtcbiAgfSxcbiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LFxuICBtZXRob2RzOiB7XG4gICAgc2V0SlNFZGl0b3JJbnN0YW5jZTogZnVuY3Rpb24gc2V0SlNFZGl0b3JJbnN0YW5jZShvYmopIHtcbiAgICAgIHRoaXMuanNFZGl0b3JJbnN0YW5jZSA9IG9iajtcbiAgICB9LFxuICAgIGdldEpzRWRpdG9ySW5zdDogZnVuY3Rpb24gZ2V0SnNFZGl0b3JJbnN0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuanNFZGl0b3JJbnN0YW5jZTtcbiAgICB9LFxuICAgIGluc2VydEpzOiBmdW5jdGlvbiBpbnNlcnRKcyhqcykge1xuICAgICAgdmFyIGRvYyA9IHRoaXMuZ2V0SnNFZGl0b3JJbnN0KCkuZ2V0RG9jKCk7XG4gICAgICB2YXIgY3Vyc29yID0gZG9jLmdldEN1cnNvcigpO1xuICAgICAgZG9jLnJlcGxhY2VSYW5nZShqcywgY3Vyc29yKTtcbiAgICB9LFxuICAgIGZvcm1hdEpTOiBmdW5jdGlvbiBmb3JtYXRKUygpIHtcbiAgICAgIENvZGVNaXJyb3IuY29tbWFuZHNbXCJzZWxlY3RBbGxcIl0odGhpcy5nZXRKc0VkaXRvckluc3QoKSk7XG4gICAgICB2YXIgcmFuZ2UgPSB7XG4gICAgICAgIGZyb206IHRoaXMuZ2V0SnNFZGl0b3JJbnN0KCkuZ2V0Q3Vyc29yKHRydWUpLFxuICAgICAgICB0bzogdGhpcy5nZXRKc0VkaXRvckluc3QoKS5nZXRDdXJzb3IoZmFsc2UpXG4gICAgICB9O1xuICAgICAgO1xuICAgICAgdGhpcy5nZXRKc0VkaXRvckluc3QoKS5hdXRvRm9ybWF0UmFuZ2UocmFuZ2UuZnJvbSwgcmFuZ2UudG8pO1xuICAgIH0sXG4gICAgYWxlcnREZXNjOiBmdW5jdGlvbiBhbGVydERlc2MoKSB7fSxcbiAgICByZWZTY3JpcHQ6IGZ1bmN0aW9uIHJlZlNjcmlwdCgpIHtcbiAgICAgIHZhciBqcyA9IFwiPHNjcmlwdCB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiIHNyYz1cXFwiJHtjb250ZXh0UGF0aH0vVUlDb21wb25lbnQvVHJlZVRhYmxlL0pzL1RyZWVUYWJsZS5qc1xcXCI+PC9zY3JpcHQ+XCI7XG4gICAgICB0aGlzLmluc2VydEpzKGpzKTtcbiAgICB9LFxuICAgIGNhbGxTZXJ2aWNlTWV0aG9kOiBmdW5jdGlvbiBjYWxsU2VydmljZU1ldGhvZCgpIHt9XG4gIH0sXG4gIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImpzLWNvZGUtZnJhZ21lbnQtd3JhcFwiPlxcXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqcy1jb2RlLWZyYWdtZW50LWl0ZW1cIiBAY2xpY2s9XCJmb3JtYXRKU1wiPuagvOW8j+WMljwvZGl2PlxcXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqcy1jb2RlLWZyYWdtZW50LWl0ZW1cIj7or7TmmI48L2Rpdj5cXFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwianMtY29kZS1mcmFnbWVudC1pdGVtXCIgQGNsaWNrPVwicmVmU2NyaXB0XCI+5byV5YWl6ISa5pysPC9kaXY+XFxcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpzLWNvZGUtZnJhZ21lbnQtaXRlbVwiPuiOt+WPllVSTOWPguaVsDwvZGl2PlxcXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqcy1jb2RlLWZyYWdtZW50LWl0ZW1cIj7osIPnlKjmnI3liqHmlrnms5U8L2Rpdj5cXFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwianMtY29kZS1mcmFnbWVudC1pdGVtXCI+5Yqg6L295pWw5o2u5a2X5YW4PC9kaXY+XFxcclxuICAgICAgICA8L2Rpdj4nXG59KTsiLCJcInVzZSBzdHJpY3RcIjsiLCJcInVzZSBzdHJpY3RcIjsiLCJcInVzZSBzdHJpY3RcIjsiLCJcInVzZSBzdHJpY3RcIjsiLCJcInVzZSBzdHJpY3RcIjtcblxuVnVlLmNvbXBvbmVudChcIm1vZHVsZS1saXN0LXdlYmZvcm0tY29tcFwiLCB7XG4gIHByb3BzOiBbJ2xpc3RIZWlnaHQnLCAnbW9kdWxlRGF0YScsICdhY3RpdmVUYWJOYW1lJ10sXG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjSW50ZXJmYWNlOiB7XG4gICAgICAgIGVkaXRWaWV3OiBcIi9QbGF0Rm9ybS9CdWlsZGVyL0Zvcm0vRGV0YWlsVmlld1wiLFxuICAgICAgICByZWxvYWREYXRhOiBcIi9QbGF0Rm9ybS9CdWlsZGVyL0Zvcm0vR2V0TGlzdERhdGFcIixcbiAgICAgICAgZGVsZXRlOiBcIi9QbGF0Rm9ybS9CdWlsZGVyL0Zvcm0vRGVsZXRlXCIsXG4gICAgICAgIG1vdmU6IFwiL1BsYXRGb3JtL0J1aWxkZXIvRm9ybS9Nb3ZlXCJcbiAgICAgIH0sXG4gICAgICBpZEZpZWxkTmFtZTogXCJmb3JtSWRcIixcbiAgICAgIHNlYXJjaENvbmRpdGlvbjoge1xuICAgICAgICBmb3JtTW9kdWxlSWQ6IHtcbiAgICAgICAgICB2YWx1ZTogXCJcIixcbiAgICAgICAgICB0eXBlOiBTZWFyY2hVdGlsaXR5LlNlYXJjaEZpZWxkVHlwZS5TdHJpbmdUeXBlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb2x1bW5zQ29uZmlnOiBbe1xuICAgICAgICB0eXBlOiAnc2VsZWN0aW9uJyxcbiAgICAgICAgd2lkdGg6IDYwLFxuICAgICAgICBhbGlnbjogJ2NlbnRlcidcbiAgICAgIH0sIHtcbiAgICAgICAgdGl0bGU6ICfnvJblj7cnLFxuICAgICAgICBrZXk6ICdmb3JtQ29kZScsXG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICB3aWR0aDogODBcbiAgICAgIH0sIHtcbiAgICAgICAgdGl0bGU6ICfooajljZXlkI3np7AnLFxuICAgICAgICBrZXk6ICdmb3JtTmFtZScsXG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiXG4gICAgICB9LCB7XG4gICAgICAgIHRpdGxlOiAn5ZSv5LiA5ZCNJyxcbiAgICAgICAga2V5OiAnZm9ybVNpbmdsZU5hbWUnLFxuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIlxuICAgICAgfSwge1xuICAgICAgICB0aXRsZTogJ+Wkh+azqCcsXG4gICAgICAgIGtleTogJ2Zvcm1EZXNjJyxcbiAgICAgICAgYWxpZ246IFwiY2VudGVyXCJcbiAgICAgIH0sIHtcbiAgICAgICAgdGl0bGU6ICfnvJbovpHml7bpl7QnLFxuICAgICAgICBrZXk6ICdmb3JtVXBkYXRlVGltZScsXG4gICAgICAgIHdpZHRoOiAxMDAsXG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBwYXJhbXMpIHtcbiAgICAgICAgICByZXR1cm4gTGlzdFBhZ2VVdGlsaXR5LklWaWV3VGFibGVSZW5kZXJlci5Ub0RhdGVZWVlZX01NX0REKGgsIHBhcmFtcy5yb3cuZm9ybVVwZGF0ZVRpbWUpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIHRpdGxlOiAn5pON5L2cJyxcbiAgICAgICAga2V5OiAnZGljdEdyb3VwSWQnLFxuICAgICAgICB3aWR0aDogMTIwLFxuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgcGFyYW1zKSB7XG4gICAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgICAgICAgIGNsYXNzOiBcImxpc3Qtcm93LWJ1dHRvbi13cmFwXCJcbiAgICAgICAgICB9LCBbTGlzdFBhZ2VVdGlsaXR5LklWaWV3VGFibGVJbm5lckJ1dHRvbi5WaWV3QnV0dG9uKGgsIHBhcmFtcywgdGhpcy5pZEZpZWxkTmFtZSwgYXBwTGlzdCksIExpc3RQYWdlVXRpbGl0eS5JVmlld1RhYmxlSW5uZXJCdXR0b24uRWRpdEJ1dHRvbihoLCBwYXJhbXMsIHRoaXMuaWRGaWVsZE5hbWUsIGFwcExpc3QpLCBMaXN0UGFnZVV0aWxpdHkuSVZpZXdUYWJsZUlubmVyQnV0dG9uLkRlbGV0ZUJ1dHRvbihoLCBwYXJhbXMsIHRoaXMuaWRGaWVsZE5hbWUsIGFwcExpc3QpXSk7XG4gICAgICAgIH1cbiAgICAgIH1dLFxuICAgICAgdGFibGVEYXRhOiBbXSxcbiAgICAgIHRhYmxlRGF0YU9yaWdpbmFsOiBbXSxcbiAgICAgIHNlbGVjdGlvblJvd3M6IG51bGwsXG4gICAgICBwYWdlVG90YWw6IDAsXG4gICAgICBwYWdlU2l6ZTogNTAwLFxuICAgICAgcGFnZU51bTogMSxcbiAgICAgIHNlYXJjaFRleHQ6IFwiXCJcbiAgICB9O1xuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge1xuICAgIHRoaXMucmVsb2FkRGF0YSgpO1xuICB9LFxuICB3YXRjaDoge1xuICAgIG1vZHVsZURhdGE6IGZ1bmN0aW9uIG1vZHVsZURhdGEobmV3VmFsKSB7XG4gICAgICB0aGlzLnJlbG9hZERhdGEoKTtcbiAgICB9LFxuICAgIGFjdGl2ZVRhYk5hbWU6IGZ1bmN0aW9uIGFjdGl2ZVRhYk5hbWUobmV3VmFsKSB7XG4gICAgICB0aGlzLnJlbG9hZERhdGEoKTtcbiAgICB9LFxuICAgIHNlYXJjaFRleHQ6IGZ1bmN0aW9uIHNlYXJjaFRleHQobmV3VmFsKSB7XG4gICAgICBpZiAobmV3VmFsKSB7XG4gICAgICAgIHZhciBmaWx0ZXJUYWJsZURhdGEgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGFibGVEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHJvdyA9IHRoaXMudGFibGVEYXRhW2ldO1xuXG4gICAgICAgICAgaWYgKHJvdy5mb3JtQ29kZS5pbmRleE9mKG5ld1ZhbCkgPj0gMCkge1xuICAgICAgICAgICAgZmlsdGVyVGFibGVEYXRhLnB1c2gocm93KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJvdy5mb3JtTmFtZS5pbmRleE9mKG5ld1ZhbCkgPj0gMCkge1xuICAgICAgICAgICAgZmlsdGVyVGFibGVEYXRhLnB1c2gocm93KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IGZpbHRlclRhYmxlRGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGFibGVEYXRhID0gdGhpcy50YWJsZURhdGFPcmlnaW5hbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBzZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIHNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uUm93cyA9IHNlbGVjdGlvbjtcbiAgICB9LFxuICAgIHJlbG9hZERhdGE6IGZ1bmN0aW9uIHJlbG9hZERhdGEoKSB7XG4gICAgICBpZiAodGhpcy5tb2R1bGVEYXRhICE9IG51bGwgJiYgdGhpcy5hY3RpdmVUYWJOYW1lID09IFwibGlzdC13ZWJmb3JtXCIpIHtcbiAgICAgICAgdGhpcy5zZWFyY2hDb25kaXRpb24uZm9ybU1vZHVsZUlkLnZhbHVlID0gdGhpcy5tb2R1bGVEYXRhLm1vZHVsZUlkO1xuICAgICAgICBMaXN0UGFnZVV0aWxpdHkuSVZpZXdUYWJsZUxvYWREYXRhU2VhcmNoKHRoaXMuYWNJbnRlcmZhY2UucmVsb2FkRGF0YSwgdGhpcy5wYWdlTnVtLCB0aGlzLnBhZ2VTaXplLCB0aGlzLnNlYXJjaENvbmRpdGlvbiwgdGhpcywgdGhpcy5pZEZpZWxkTmFtZSwgdHJ1ZSwgZnVuY3Rpb24gKHJlc3VsdCwgcGFnZUFwcE9iaikge1xuICAgICAgICAgIHBhZ2VBcHBPYmoudGFibGVEYXRhT3JpZ2luYWwgPSByZXN1bHQuZGF0YS5saXN0O1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHtcbiAgICAgIGlmICh0aGlzLm1vZHVsZURhdGEgIT0gbnVsbCkge1xuICAgICAgICB2YXIgdXJsID0gQmFzZVV0aWxpdHkuQnVpbGRWaWV3KHRoaXMuYWNJbnRlcmZhY2UuZWRpdFZpZXcsIHtcbiAgICAgICAgICBcIm9wXCI6IFwiYWRkXCIsXG4gICAgICAgICAgXCJtb2R1bGVJZFwiOiB0aGlzLm1vZHVsZURhdGEubW9kdWxlSWRcbiAgICAgICAgfSk7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuT3Blbk5ld1dpbmRvdyh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nSWQsIHVybCwge1xuICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgIGhlaWdodDogMFxuICAgICAgICB9LCAyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCBcIuivt+mAieaLqeaooeWdlyFcIiwgbnVsbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBlZGl0OiBmdW5jdGlvbiBlZGl0KHJlY29yZElkKSB7XG4gICAgICB2YXIgdXJsID0gQmFzZVV0aWxpdHkuQnVpbGRWaWV3KHRoaXMuYWNJbnRlcmZhY2UuZWRpdFZpZXcsIHtcbiAgICAgICAgXCJvcFwiOiBcInVwZGF0ZVwiLFxuICAgICAgICBcInJlY29yZElkXCI6IHJlY29yZElkXG4gICAgICB9KTtcbiAgICAgIERpYWxvZ1V0aWxpdHkuRnJhbWVfT3BlbklmcmFtZVdpbmRvdyh3aW5kb3csIERpYWxvZ1V0aWxpdHkuRGlhbG9nSWQsIHVybCwge1xuICAgICAgICB0aXRsZTogXCLpgJrnlKjliJfooahcIlxuICAgICAgfSwgMik7XG4gICAgfSxcbiAgICB2aWV3OiBmdW5jdGlvbiB2aWV3KHJlY29yZElkKSB7XG4gICAgICB2YXIgdXJsID0gQmFzZVV0aWxpdHkuQnVpbGRWaWV3KHRoaXMuYWNJbnRlcmZhY2UuZWRpdFZpZXcsIHtcbiAgICAgICAgXCJvcFwiOiBcInZpZXdcIixcbiAgICAgICAgXCJyZWNvcmRJZFwiOiByZWNvcmRJZFxuICAgICAgfSk7XG4gICAgICBEaWFsb2dVdGlsaXR5LkZyYW1lX09wZW5JZnJhbWVXaW5kb3cod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0lkLCB1cmwsIHtcbiAgICAgICAgdGl0bGU6IFwi6YCa55So5YiX6KGoXCJcbiAgICAgIH0sIDIpO1xuICAgIH0sXG4gICAgZGVsOiBmdW5jdGlvbiBkZWwocmVjb3JkSWQpIHtcbiAgICAgIExpc3RQYWdlVXRpbGl0eS5JVmlld1RhYmxlRGVsZXRlUm93KHRoaXMuYWNJbnRlcmZhY2UuZGVsZXRlLCByZWNvcmRJZCwgYXBwTGlzdCk7XG4gICAgfSxcbiAgICBzdGF0dXNFbmFibGU6IGZ1bmN0aW9uIHN0YXR1c0VuYWJsZShzdGF0dXNOYW1lKSB7XG4gICAgICBMaXN0UGFnZVV0aWxpdHkuSVZpZXdDaGFuZ2VTZXJ2ZXJTdGF0dXNGYWNlKHRoaXMuYWNJbnRlcmZhY2Uuc3RhdHVzQ2hhbmdlLCB0aGlzLnNlbGVjdGlvblJvd3MsIGFwcExpc3QuaWRGaWVsZE5hbWUsIHN0YXR1c05hbWUsIGFwcExpc3QpO1xuICAgIH0sXG4gICAgbW92ZTogZnVuY3Rpb24gbW92ZSh0eXBlKSB7XG4gICAgICBMaXN0UGFnZVV0aWxpdHkuSVZpZXdNb3ZlRmFjZSh0aGlzLmFjSW50ZXJmYWNlLm1vdmUsIHRoaXMuc2VsZWN0aW9uUm93cywgYXBwTGlzdC5pZEZpZWxkTmFtZSwgdHlwZSwgYXBwTGlzdCk7XG4gICAgfSxcbiAgICBjaGFuZ2VQYWdlOiBmdW5jdGlvbiBjaGFuZ2VQYWdlKHBhZ2VOdW0pIHtcbiAgICAgIHRoaXMucGFnZU51bSA9IHBhZ2VOdW07XG4gICAgICB0aGlzLnJlbG9hZERhdGEoKTtcbiAgICAgIHRoaXMuc2VsZWN0aW9uUm93cyA9IG51bGw7XG4gICAgfVxuICB9LFxuICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2R1bGUtbGlzdC13cmFwXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibGlzdC1idXR0b24td3JhcFwiIGNsYXNzPVwibGlzdC1idXR0b24tb3V0ZXItd3JhcFwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaXN0LWJ1dHRvbi1pbm5lci13cmFwXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25Hcm91cD5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpLWJ1dHRvbiAgdHlwZT1cInN1Y2Nlc3NcIiBAY2xpY2s9XCJhZGQoKVwiIGljb249XCJtZC1hZGRcIj7mlrDlop48L2ktYnV0dG9uPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGktYnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgaWNvbj1cIm1kLWFkZFwiPuW8leWFpVVSTCA8L2ktYnV0dG9uPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGktYnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgaWNvbj1cIm1kLWFsYnVtc1wiPuWkjeWItjwvaS1idXR0b24+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aS1idXR0b24gdHlwZT1cInByaW1hcnlcIiBpY29uPVwibWQtcHJpY2V0YWdcIj7pooTop4g8L2ktYnV0dG9uPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGktYnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgaWNvbj1cIm1kLWJvb2ttYXJrc1wiPuWOhuWPsueJiOacrDwvaS1idXR0b24+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aS1idXR0b24gdHlwZT1cInByaW1hcnlcIiBpY29uPVwibWQtYnJ1c2hcIj7lpI3liLZJRDwvaS1idXR0b24+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aS1idXR0b24gdHlwZT1cInByaW1hcnlcIiBpY29uPVwibWQtYXJyb3ctdXBcIj7kuIrnp7s8L2ktYnV0dG9uPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGktYnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgaWNvbj1cIm1kLWFycm93LWRvd25cIj7kuIvnp7s8L2ktYnV0dG9uPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbkdyb3VwPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZmxvYXQ6IHJpZ2h0O3dpZHRoOiAyMDBweDttYXJnaW4tcmlnaHQ6IDEwcHg7XCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpLWlucHV0IHNlYXJjaCBjbGFzcz1cImlucHV0X2JvcmRlcl9ib3R0b21cIiB2LW1vZGVsPVwic2VhcmNoVGV4dFwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2ktaW5wdXQ+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImNsZWFyOiBib3RoXCI+PC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgIDxpLXRhYmxlIDpoZWlnaHQ9XCJsaXN0SGVpZ2h0XCIgc3RyaXBlIGJvcmRlciA6Y29sdW1ucz1cImNvbHVtbnNDb25maWdcIiA6ZGF0YT1cInRhYmxlRGF0YVwiXFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIml2LWxpc3QtdGFibGVcIiA6aGlnaGxpZ2h0LXJvdz1cInRydWVcIlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQG9uLXNlbGVjdGlvbi1jaGFuZ2U9XCJzZWxlY3Rpb25DaGFuZ2VcIj48L2ktdGFibGU+XFxcclxuICAgICAgICAgICAgICAgIDwvZGl2Pidcbn0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG5WdWUuY29tcG9uZW50KFwic3FsLWdlbmVyYWwtZGVzaWduLWNvbXBcIiwge1xuICBwcm9wczogW1wic3FsRGVzaWduZXJIZWlnaHRcIiwgXCJ2YWx1ZVwiXSxcbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3FsVGV4dDogXCJcIixcbiAgICAgIHNlbGVjdGVkSXRlbVZhbHVlOiBcIuivtOaYjlwiLFxuICAgICAgc2VsZlRhYmxlRmllbGRzOiBbXSxcbiAgICAgIHBhcmVudFRhYmxlRmllbGRzOiBbXVxuICAgIH07XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgc3FsVGV4dDogZnVuY3Rpb24gc3FsVGV4dChuZXdWYWwpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgbmV3VmFsKTtcbiAgICB9LFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShuZXdWYWwpIHtcbiAgICAgIHRoaXMuc3FsVGV4dCA9IG5ld1ZhbDtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5zcWxDb2RlTWlycm9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEoJChcIiNUZXh0QXJlYVNRTEVkaXRvclwiKVswXSwge1xuICAgICAgbW9kZTogXCJ0ZXh0L3gtc3FsXCIsXG4gICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcbiAgICAgIGxpbmVXcmFwcGluZzogdHJ1ZSxcbiAgICAgIGZvbGRHdXR0ZXI6IHRydWUsXG4gICAgICB0aGVtZTogXCJtb25va2FpXCJcbiAgICB9KTtcbiAgICB0aGlzLnNxbENvZGVNaXJyb3Iuc2V0U2l6ZShcIjEwMCVcIiwgdGhpcy5zcWxEZXNpZ25lckhlaWdodCk7XG5cbiAgICB2YXIgX3NlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5zcWxDb2RlTWlycm9yLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChjTWlycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhjTWlycm9yLmdldFZhbHVlKCkpO1xuICAgICAgX3NlbGYuc3FsVGV4dCA9IGNNaXJyb3IuZ2V0VmFsdWUoKTtcbiAgICB9KTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGdldFZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcbiAgICAgIHRoaXMuc3FsQ29kZU1pcnJvci5nZXRWYWx1ZSgpO1xuICAgIH0sXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICB0aGlzLnNxbENvZGVNaXJyb3Iuc2V0VmFsdWUodmFsdWUpO1xuICAgIH0sXG4gICAgc2V0QWJvdXRUYWJsZUZpZWxkczogZnVuY3Rpb24gc2V0QWJvdXRUYWJsZUZpZWxkcyhzZWxmVGFibGVGaWVsZHMsIHBhcmVudFRhYmxlRmllbGRzKSB7XG4gICAgICB0aGlzLnNlbGZUYWJsZUZpZWxkcyA9IHNlbGZUYWJsZUZpZWxkcztcbiAgICAgIHRoaXMucGFyZW50VGFibGVGaWVsZHMgPSBwYXJlbnRUYWJsZUZpZWxkcztcbiAgICB9LFxuICAgIGluc2VydEVudlRvRWRpdG9yOiBmdW5jdGlvbiBpbnNlcnRFbnZUb0VkaXRvcihjb2RlKSB7XG4gICAgICB0aGlzLmluc2VydENvZGVBdEN1cnNvcihjb2RlKTtcbiAgICB9LFxuICAgIGluc2VydEZpZWxkVG9FZGl0b3I6IGZ1bmN0aW9uIGluc2VydEZpZWxkVG9FZGl0b3Ioc291cmNlVHlwZSwgZXZlbnQpIHtcbiAgICAgIHZhciBzb3VyY2VGaWVsZHMgPSBudWxsO1xuXG4gICAgICBpZiAoc291cmNlVHlwZSA9PSBcInNlbGZUYWJsZUZpZWxkc1wiKSB7XG4gICAgICAgIHNvdXJjZUZpZWxkcyA9IHRoaXMuc2VsZlRhYmxlRmllbGRzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291cmNlRmllbGRzID0gdGhpcy5wYXJlbnRUYWJsZUZpZWxkcztcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2VGaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNvdXJjZUZpZWxkc1tpXS5maWVsZE5hbWUgPT0gZXZlbnQpIHtcbiAgICAgICAgICB0aGlzLmluc2VydENvZGVBdEN1cnNvcihzb3VyY2VGaWVsZHNbaV0udGFibGVOYW1lICsgXCIuXCIgKyBzb3VyY2VGaWVsZHNbaV0uZmllbGROYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgaW5zZXJ0Q29kZUF0Q3Vyc29yOiBmdW5jdGlvbiBpbnNlcnRDb2RlQXRDdXJzb3IoY29kZSkge1xuICAgICAgdmFyIGRvYyA9IHRoaXMuc3FsQ29kZU1pcnJvci5nZXREb2MoKTtcbiAgICAgIHZhciBjdXJzb3IgPSBkb2MuZ2V0Q3Vyc29yKCk7XG4gICAgICBkb2MucmVwbGFjZVJhbmdlKGNvZGUsIGN1cnNvcik7XG4gICAgfVxuICB9LFxuICB0ZW1wbGF0ZTogJzxkaXY+XFxcclxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cIlRleHRBcmVhU1FMRWRpdG9yXCI+PC90ZXh0YXJlYT5cXFxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0O21hcmdpbi10b3A6IDhweFwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbkdyb3VwIHNpemU9XCJzbWFsbFwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gQGNsaWNrPVwiaW5zZXJ0RW52VG9FZGl0b3IoXFwnI3tBcGlWYXIu5b2T5YmN55So5oi35omA5Zyo57uE57uHSUR9XFwnKVwiPue7hOe7h0lkPC9CdXR0b24+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBAY2xpY2s9XCJpbnNlcnRFbnZUb0VkaXRvcihcXCcje0FwaVZhci7lvZPliY3nlKjmiLfmiYDlnKjnu4Tnu4flkI3np7B9XFwnKVwiPue7hOe7h+WQjeensDwvQnV0dG9uPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gQGNsaWNrPVwiaW5zZXJ0RW52VG9FZGl0b3IoXFwnI3tBcGlWYXIu5b2T5YmN55So5oi3SUR9XFwnKVwiPueUqOaIt0lkPC9CdXR0b24+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBAY2xpY2s9XCJpbnNlcnRFbnZUb0VkaXRvcihcXCcje0FwaVZhci7lvZPliY3nlKjmiLflkI3np7B9XFwnKVwiPueUqOaIt+WQjeensDwvQnV0dG9uPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gQGNsaWNrPVwiaW5zZXJ0RW52VG9FZGl0b3IoXFwnI3tEYXRlVGltZS7lubTlubTlubTlubQt5pyI5pyILeaXpeaXpX1cXCcpXCI+eXl5eS1NTS1kZDwvQnV0dG9uPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24+6K+05piOPC9CdXR0b24+XFxcclxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbkdyb3VwPlxcXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6IDhweFwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZsb2F0OiBsZWZ0O21hcmdpbjogNHB4IDEwcHhcIj7mnKzooajlrZfmrrU8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmbG9hdDogbGVmdFwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpLXNlbGVjdCBwbGFjZWhvbGRlcj1cIum7mOiupOS9v+eUqElk5a2X5q61XCIgc2l6ZT1cInNtYWxsXCIgc3R5bGU9XCJ3aWR0aDoxNzVweFwiIEBvbi1jaGFuZ2U9XCJpbnNlcnRGaWVsZFRvRWRpdG9yKFxcJ3NlbGZUYWJsZUZpZWxkc1xcJywkZXZlbnQpXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpLW9wdGlvbiB2LWZvcj1cIml0ZW0gaW4gc2VsZlRhYmxlRmllbGRzXCIgOnZhbHVlPVwiaXRlbS5maWVsZE5hbWVcIiA6a2V5PVwiaXRlbS5maWVsZE5hbWVcIj57e2l0ZW0uZmllbGRDYXB0aW9ufX08L2ktb3B0aW9uPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaS1zZWxlY3Q+XFxcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmbG9hdDogbGVmdDttYXJnaW46IDRweCAxMHB4XCI+54i26KGo5a2X5q61PC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZmxvYXQ6IGxlZnRcIj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aS1zZWxlY3QgcGxhY2Vob2xkZXI9XCLpu5jorqTkvb/nlKhJZOWtl+autVwiIHNpemU9XCJzbWFsbFwiIHN0eWxlPVwid2lkdGg6MTc3cHhcIiBAb24tY2hhbmdlPVwiaW5zZXJ0RmllbGRUb0VkaXRvcihcXCdwYXJlbnRUYWJsZUZpZWxkc1xcJywkZXZlbnQpXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpLW9wdGlvbiB2LWZvcj1cIml0ZW0gaW4gcGFyZW50VGFibGVGaWVsZHNcIiA6dmFsdWU9XCJpdGVtLmZpZWxkTmFtZVwiIDprZXk9XCJpdGVtLmZpZWxkTmFtZVwiPnt7aXRlbS5maWVsZENhcHRpb259fTwvaS1vcHRpb24+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pLXNlbGVjdD5cXFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgIDwvZGl2Pidcbn0pOyJdfQ==

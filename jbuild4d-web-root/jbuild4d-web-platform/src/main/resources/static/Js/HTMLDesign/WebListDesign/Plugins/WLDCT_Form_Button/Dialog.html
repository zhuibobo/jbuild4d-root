<!DOCTYPE html><html lang="zh" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"><head><meta charset="UTF-8"><title>Title</title><title>JBuild4D</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><script type="text/javascript" src="../../../../../../static/Js/T3P/JQuery/jquery-3.3.1.min.js"></script><script type="text/javascript" src="../../../../../../static/Js/T3P/VUE-2.5.16/vue.js"></script><script type="text/javascript" src="../../../../../../static/Js/T3P/IView-3.X/dist/iview.min.js"></script><script type="text/javascript" src="../../../../../../static/Js/T3P/JQuery-UI-1.12.1/jquery-ui.js"></script><script type="text/javascript" src="../../../../../../static/Js/T3P/ZTree-V3/js/jquery.ztree.all.js"></script><script type="text/javascript" src="../../../../../../static/Js/T3P/perfect-scrollbar-14/perfect-scrollbar.js"></script><script type="text/javascript" src="../../../../../../static/Js/JBuild4DPlatformLib.js?refVersion=1"></script><script type="text/javascript" src="../../../../../../static/Js/UIEXComponent.js?refVersion=1"></script><script type="text/javascript" src="../../../../../../static/Js/VueEXComponent.js?refVersion=1"></script><script type="text/javascript" src="../../../../../../static/Js/HTMLDesign/HTMLDesignUtility.js?refVersion=1"></script><link rel="stylesheet" type="text/css" href="../../../../../../static/Themes/Default/Css/Jbuild4dPlatform.css?refVersion=1"><link rel="stylesheet" type="text/css" href="../../../../../../static/Themes/Default/IView-3.X/iview.css"><link rel="stylesheet" type="text/css" href="../../../../../../static/Themes/Default/JQueryUI/jquery-ui.css"><link rel="stylesheet" type="text/css" href="../../../../../../static/Themes/Default/ZTree/zTreeStyle/zTreeStyle.css"><script type="text/javascript" src="../../../../../../static/Js/T3P/ZTree-V3/js/jquery.ztree.exhide.js"></script><script type="text/javascript" src="../../../../../../static/Js/T3P/ZTree-V3/js/fuzzysearch.js"></script></head><body><div class="html-design-plugin-dialog-wraper" id="dialogApp" v-cloak><tabs size="small"><tab-pane label="绑定信息"><select-single-webform-dialog ref="selectSingleWebformDialog"></select-single-webform-dialog><table cellpadding="0" cellspacing="0" border="0" class="html-design-plugin-dialog-table-wraper"><colgroup><col style="width:100px"><col style="width:280px"><col style="width:100px"><col></colgroup><tr><td colspan="4">绑定窗体：<button class="btn-select fright" @click="selectWebFormBegin">...</button></td></tr><tr style="height:35px"><td colspan="4" style="background-color:#fff"></td></tr><tr><td>按钮标题：</td><td></td><td>窗体标题：</td><td></td></tr><tr><td>打开方式：</td><td colspan="3"></td></tr><tr><td>宽度*高度：</td><td colspan="3"></td></tr><tr><td>是否显示：</td><td></td><td></td><td></td></tr><tr><td>操作类型：</td><td></td><td>绑定权限：</td><td></td></tr><tr><td>内部按钮：</td><td colspan="3"></td></tr></table></tab-pane><tab-pane label="基础信息"><fd-control-base-info v-model="baseInfo"></fd-control-base-info></tab-pane><tab-pane label="开发扩展"><table cellpadding="0" cellspacing="0" border="0" class="html-design-plugin-dialog-table-wraper"><colgroup><col style="width:150px"><col></colgroup><tr><td>服务端解析方法：</td><td></td></tr><tr><td>客户端渲染前方法：</td><td></td></tr><tr><td>客户端点击前方法：</td><td></td></tr></table></tab-pane></tabs></div><script>var DialogApp=new Vue({
        el:"#dialogApp",
        data: {
            baseInfo:CKEditorPluginUtility.DefaultProps.baseInfo,
            defaultValue: CKEditorPluginUtility.DefaultProps.defaultValue,
            bindToSearchField:CKEditorPluginUtility.DefaultProps.bindToSearchField,
            dataSetId:null,
            bindToField:null
        },
        mounted:function () {

        },
        methods: {
            selectWebFormBegin:function(){
                this.$refs.selectSingleWebformDialog.beginSelectForm();
            },

            ready:function(actionName,sel,parents){
                this.baseInfo.id="txt_search_"+StringUtility.Timestamp();
                this.baseInfo.name=this.baseInfo.id;
            },
            getControlProps:function () {
                var bindData=this.$refs.listSearchControlBindToComp.getData();
                var result = {
                    success: true,
                    baseInfo: this.baseInfo,
                    bindToSearchField: bindData.bindToSearchField,
                    defaultValue: bindData.defaultValue
                }
                return result;
            },
            setControlProps:function ($elem,props) {
                console.log($elem.parent());
                this.baseInfo = props.baseInfo ? props.baseInfo : this.baseInfo;
                this.bindToSearchField = props.bindToSearchField ? props.bindToSearchField : this.bindToSearchField;
                this.defaultValue = props.defaultValue ? props.defaultValue : this.defaultValue;

                this.$refs.listSearchControlBindToComp.setData(this.bindToSearchField,this.defaultValue);
            }
        }
    });</script></body></html>
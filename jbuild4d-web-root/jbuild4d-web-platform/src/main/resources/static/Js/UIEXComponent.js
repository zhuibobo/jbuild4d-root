"use strict";Object.create||(Object.create=function(){function t(){}return function(e){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return t.prototype=e,new t}}());var EditTableConfig={Status:"Edit",Templates:[{Title:"表名1",FieldName:"TableField",Renderer:"EditTable_TextBox",TitleCellClassName:"TitleCell",Hidden:!1,TitleCellAttrs:{}},{Title:"字段类型",FieldName:"TableField",Renderer:"EditTable_TextBox",Hidden:!1},{Title:"备注",FieldName:"TableField",Renderer:"EditTable_TextBox",Hidden:!1}],RowIdCreater:function(){},TableClass:"EditTable",RendererTo:"divTreeTable",TableId:"EditTable",TableAttrs:{cellpadding:"1",cellspacing:"1",border:"1"}},EditTableData={},EditTable={_$Prop_TableElem:null,_$Prop_RendererToElem:null,_Prop_ConfigManager:null,_Prop_JsonData:new Object,_$Prop_EditingRowElem:null,Initialization:function(e){this._Prop_ConfigManager=Object.create(EditTableConfigManager),this._Prop_ConfigManager.InitializationConfig(e);var t=this._Prop_ConfigManager.GetConfig();this._$Prop_RendererToElem=$("#"+t.RendererTo),this._$Prop_TableElem=this.CreateTable(),this._$Prop_TableElem.append(this.CreateTableTitleRow()),this._$Prop_RendererToElem.append(this._$Prop_TableElem)},LoadJsonData:function(e){if(null!=e&&null!=e){for(var t=0;t<e.length;t++){var a=e[t],l=this.AddEditingRowByTemplate(e,a);this._Prop_JsonData[l]=a}this.CompletedEditingRow()}else alert("Json Data Object Error")},CreateTable:function(){var e=this._Prop_ConfigManager.GetConfig(),t=$("<table />");return t.addClass(e.TableClass),t.attr("Id",e.TableId),t.attr(e.TableAttrs),t},CreateTableTitleRow:function(){for(var e=this._Prop_ConfigManager.GetConfig(),t=$("<tr isHeader='true' />"),a=0;a<e.Templates.length;a++){var l=e.Templates[a],r=l.Title,i=$("<th>"+r+"</th>");l.TitleCellClassName&&i.addClass(l.TitleCellClassName),l.TitleCellAttrs&&i.attr(l.TitleCellAttrs),void 0!==l.Hidden&&1==l.Hidden&&i.hide(),t.append(i)}var n=$("<thead></thead>");return n.append(t),n},AddEmptyEditingRowByTemplate:function(e){var t=this.AddEditingRowByTemplate(null);this._Prop_JsonData[t]=null},AddEditingRowByTemplate:function AddEditingRowByTemplate(jsonDatas,jsonDataSingle){if(this.CompletedEditingRow()){var rowId=StringUtility.Guid(),$rowElem=$("<tr />");if($rowElem.attr("id",rowId),this._$Prop_EditingRowElem=$rowElem,null!=jsonDataSingle&&null!=jsonDataSingle&&0==jsonDataSingle.editEable);else{var event_data={host:this};$rowElem.bind("click",event_data,function(event){var rowStatus=$rowElem.attr("status");if(void 0!==rowStatus&&"disabled"==rowStatus)return!1;var _host=event.data.host;if(null==_host._$Prop_EditingRowElem||$(this).attr("id")!=_host._$Prop_EditingRowElem.attr("id")){var _C=_host._Prop_ConfigManager.GetConfig();if(void 0!==_C.RowClick&&"function"==typeof _C.RowClick)try{var result=_C.RowClick();if("undefined"!=result&&0==result)return!1}catch(e){alert("_C.RowClick() Error")}if(_host.CompletedEditingRow()){_host._$Prop_EditingRowElem=$(this),_host.SetRowIsEditStatus(_host._$Prop_EditingRowElem);var _row=$(this);_row.find("td").each(function(){var $td=$(this),renderer=$td.attr("renderer"),templateId=$td.attr("templateId"),template=_host._Prop_ConfigManager.GetTemplate(templateId),rendererObj=eval("Object.create("+renderer+")"),$htmlelem=rendererObj.Get_EditStatus_HtmlElem(_C,template,$td,_row,this._$Prop_TableElem,$td.children());void 0!==template.Hidden&&1==template.Hidden&&$td.hide(),void 0!==template.Style&&$td.css(template.Style),$td.html(""),$td.append($htmlelem)})}}})}for(var _C=this._Prop_ConfigManager.GetConfig(),i=0;i<_C.Templates.length;i++){var template=_C.Templates[i],renderer=null;try{renderer=template.Renderer;var rendererObj=eval("Object.create("+renderer+")")}catch(e){alert("实例化"+renderer+"失败!")}var $tdElem=null;$tdElem=$("<td />"),$tdElem.attr("renderer",renderer),$tdElem.attr("templateId",template.TemplateId),void 0!==template.Hidden&&1==template.Hidden&&$tdElem.hide(),void 0!==template.Width&&$tdElem.css("width",template.Width),void 0!==template.Align&&$tdElem.attr("align",template.Align);var $elem=rendererObj.Get_EditStatus_HtmlElem(_C,template,$tdElem,$rowElem,this._$Prop_TableElem,null,jsonDatas,jsonDataSingle);void 0!==template.Style&&$tdElem.css(template.Style),$tdElem.append($elem),$rowElem.append($tdElem)}return this._$Prop_TableElem.append($rowElem),void 0!==_C.AddAfterRowEvent&&"function"==typeof _C.AddAfterRowEvent&&_C.AddAfterRowEvent($rowElem),rowId}},SetRowIsEditStatus:function(e){$(e).attr("EditStatus","EditStatus")},SetRowIsCompletedStatus:function(e){$(e).attr("EditStatus","CompletedStatus")},RowIsEditStatus:function(e){return"EditStatus"==$(e).attr("EditStatus")},RowIsCompletedStatus:function(e){return"CompletedStatus"==$(e).attr("EditStatus")},CompletedEditingRow:function CompletedEditingRow(){var result=!0;if(null!=this._$Prop_EditingRowElem&&!this.RowIsCompletedStatus(this._$Prop_EditingRowElem)){var _C=this._Prop_ConfigManager.GetConfig(),_host=this;if(this.ValidateCompletedEditingRowEnable(this._$Prop_EditingRowElem)){var _row=this._$Prop_EditingRowElem;this.SetRowIsCompletedStatus(_row),_row.find("td").each(function(){var $td=$(this),renderer=$td.attr("renderer"),templateId=$td.attr("templateId"),template=_host._Prop_ConfigManager.GetTemplate(templateId),rendererObj=eval("Object.create("+renderer+")"),$htmlelem=rendererObj.Get_CompletedStatus_HtmlElem(_C,template,$td,_row,this._$Prop_TableElem,$td.children());$td.html(""),$td.append($htmlelem)}),this._$Prop_EditingRowElem=null}else result=!1}return result},ValidateCompletedEditingRowEnable:function ValidateCompletedEditingRowEnable(editRow){for(var _C=this._Prop_ConfigManager.GetConfig(),_host=this,result=!0,validateMsg="",tds=$(editRow).find("td"),i=0;i<tds.length;i++){var $td=$(tds[i]),renderer=$td.attr("renderer"),templateId=$td.attr("templateId"),template=_host._Prop_ConfigManager.GetTemplate(templateId),rendererObj=eval("Object.create("+renderer+")"),valresult=rendererObj.ValidateToCompletedEnable(_C,template,$td,editRow,this._$Prop_TableElem,$td.children());if(0==valresult.Success){result=!1,validateMsg=valresult.Msg;break}}return result||null==validateMsg||DialogUtility.Alert(window,DialogUtility.DialogAlertId,{},validateMsg,null),result},RemoveRow:function(){null!=this._$Prop_EditingRowElem&&(this._$Prop_EditingRowElem.remove(),this._$Prop_EditingRowElem=null)},GetTableObject:function(){return this._$Prop_TableElem},GetRows:function(){if(null!=this._$Prop_TableElem)return this._$Prop_TableElem.find("tr:not(:first)")},GetEditRow:function(){return null!=this._$Prop_EditingRowElem?this._$Prop_EditingRowElem:null},GetLastRow:function(){var e=this.GetEditRow();if(null==e)return null;var t=this.GetRows(),a=t.index(e);return 0<a?$(t[a-1]):null},GetNextRow:function(){var e=this.GetEditRow();if(null==e)return null;var t=this.GetRows(),a=t.index(e);return a<t.length-1?$(t[a+1]):null},MoveUp:function(){var e=this.GetLastRow();if(null==e)return!1;if(void 0!==e.attr("status")&&"disabled"==e.attr("status"))return!1;var t=this.GetEditRow(),a=t.attr("class");return t.attr("class",e.attr("class")),e.attr("class",a),null!=t&&(e.before(t[0]),!0)},MoveDown:function(){var e=this.GetNextRow();if(null==e)return!1;if(void 0!==e.attr("state")&&"disabled"==e.attr("state"))return!1;var t=this.GetEditRow(),a=t.attr("class");return t.attr("class",e.attr("class")),e.attr("class",a),null!=t&&(e.after(t[0]),!0)},RemoveAllRow:function(){null!=this._$Prop_TableElem&&this._$Prop_TableElem.find("tr:not(:first)").each(function(){$(this).remove()})},UpdateToRow:function(a,o){var e=this._$Prop_TableElem,u=this;e.find("tr[isHeader!='true']").each(function(){var e=$(this),t=e.attr("id");if(a==t)for(var d in o)e.find("td").each(function(){var e=$(this),t=e.find("[IsSerialize='true']"),a=t.attr("BindName");if(d==a){var l=e.attr("templateId"),r=u._Prop_ConfigManager.GetTemplate(l),i="",n=o[a];if(void 0!==r.Formatter&&"function"==typeof r.Formatter&&(i=r.Formatter(n)),""==i&&(i=n),"INPUT"==t.prop("tagName"))"checkbox"==t.attr("type").toLowerCase()||t.val(i);else{try{t.text(i)}catch(e){alert("UpdateToRow $label.text(text) Error!")}t.attr("Value",n)}}})})},GetSelectRowDataByRowId:function(a){var e=this._$Prop_TableElem,l={};return e.find("tr[isHeader!='true']").each(function(){var e=$(this),t=e.attr("id");a==t&&e.find("[IsSerialize='true']").each(function(){null!=$(this).attr("Value")?l[$(this).attr("BindName")]=$(this).attr("Value"):l[$(this).attr("BindName")]=$(this).val()})}),l},GetSelectRowByRowId:function(e){return this._$Prop_TableElem.find("tr[id='"+e+"']")},GetAllRowData:function(){var e=this._$Prop_TableElem,a=new Array;return e.find("tr[isHeader!='true']").each(function(){var e=$(this),t={};e.find("[IsSerialize='true']").each(function(){t[$(this).attr("BindName")]=$(this).attr("Value"),t[$(this).attr("BindName")+"___Text"]=$(this).attr("Text")}),a.push(t)}),a},GetSerializeJson:function(){var e=new Array;return this._$Prop_TableElem.find("tr[isHeader!='true']").each(function(){var r=new Object;$(this).find("[IsSerialize='true']").each(function(){var e=$(this),t=e.attr("BindName"),a=e.attr("Value"),l=e.attr("Text");r[t]=a,r[t+"___Text"]=l}),e.push(r)}),e},GetTableElement:function(){return this._$Prop_TableElem}},EditTableConfigManager={_Prop_Config:{},InitializationConfig:function(e){this._Prop_Config=$.extend(!0,{},this._Prop_Config,e);for(var t=this._Prop_Config.Templates,a=0;a<t.length;a++){t[a].TemplateId=StringUtility.Guid()}},GetConfig:function(){return this._Prop_Config},GetTemplate:function(e){for(var t=this._Prop_Config.Templates,a=0;a<t.length;a++){var l=t[a];if(l.TemplateId==e)return l}return null}},EditTableValidate={_SQLKeyWordArray:new Array,GetSQLKeyWords:function(){return 0==this._SQLKeyWordArray.length&&(this._SQLKeyWordArray.push("insert"),this._SQLKeyWordArray.push("update"),this._SQLKeyWordArray.push("delete"),this._SQLKeyWordArray.push("select"),this._SQLKeyWordArray.push("as"),this._SQLKeyWordArray.push("from"),this._SQLKeyWordArray.push("distinct"),this._SQLKeyWordArray.push("where"),this._SQLKeyWordArray.push("order"),this._SQLKeyWordArray.push("by"),this._SQLKeyWordArray.push("asc"),this._SQLKeyWordArray.push("desc"),this._SQLKeyWordArray.push("desc"),this._SQLKeyWordArray.push("and"),this._SQLKeyWordArray.push("or"),this._SQLKeyWordArray.push("between"),this._SQLKeyWordArray.push("order by"),this._SQLKeyWordArray.push("count"),this._SQLKeyWordArray.push("group"),this._SQLKeyWordArray.push("group by"),this._SQLKeyWordArray.push("having"),this._SQLKeyWordArray.push("alias"),this._SQLKeyWordArray.push("join"),this._SQLKeyWordArray.push("left"),this._SQLKeyWordArray.push("rigth"),this._SQLKeyWordArray.push("inneer"),this._SQLKeyWordArray.push("union"),this._SQLKeyWordArray.push("sum"),this._SQLKeyWordArray.push("all"),this._SQLKeyWordArray.push("minus"),this._SQLKeyWordArray.push("alert"),this._SQLKeyWordArray.push("drop"),this._SQLKeyWordArray.push("exec"),this._SQLKeyWordArray.push("truncate")),this._SQLKeyWordArray},Validate:function(e,t){var a={Success:!0,Msg:""},l=t.Validate;if(null!=l&&null!=l){var r=l.Type;if(null!=r&&null!=r)switch(r){case"NotEmpty":""==e&&(a.Success=!1,a.Msg="【"+t.Title+"】不能为空!");break;case"LUNoOnly":0==/^[a-zA-Z][a-zA-Z0-9_]{0,}$/.test(e)&&(a.Success=!1,a.Msg="【"+t.Title+"】不能为空且只能是字母、下划线、数字并以字母开头！");break;case"SQLKeyWord":0==/^[a-zA-Z][a-zA-Z0-9_]{0,}$/.test(e)&&(a.Success=!1,a.Msg="【"+t.Title+"】不能为空且只能是字母、下划线、数字并以字母开头！");e=e.toUpperCase();for(var i=this.GetSQLKeyWords(),n=0;n<i.length;n++)if(e==i[n].toUpperCase()){a.Success=!1,a.Msg="【"+t.Title+"】请不要使用SQL关键字作为列名！";break}}}return a}},EditTableDefauleValue={GetValue:function(e){var t=e.DefaultValue;if(null!=t&&null!=t){var a=t.Type;if(null!=a&&null!=a)switch(a){case"Const":return t.Value;case"GUID":return StringUtility.Guid()}}return""}},EditTable_CheckBox={Get_EditStatus_HtmlElem:function(e,t,a,l,r,i,n,d){var o="",u=t.BindName;if(null!=t.DefaultValue&&null!=t.DefaultValue)o=EditTableDefauleValue.GetValue(t);null!=d&&null!=d&&(o=d[u]),null!=i&&null!=i&&(o=i.html());var s="";return(s="是"==o?$("<input type='checkbox' checked='checked' />"):$("<input type='checkbox' />")).val(o),s},Get_CompletedStatus_HtmlElem:function(e,t,a,l,r,i){i.val();return t.IsCNValue?"checked"==i.attr("checked")?$("<label IsSerialize='true' BindName='"+t.BindName+"' value='是'>是</label>"):$("<label IsSerialize='true' BindName='"+t.BindName+"' value='否'>否</label>"):"checked"==i.attr("checked")?$("<label IsSerialize='true' BindName='"+t.BindName+"' value='1'>是</label>"):$("<label IsSerialize='true' BindName='"+t.BindName+"' value='0'>否</label>")},ValidateToCompletedEnable:function(e,t,a,l,r,i){var n=i.val();return EditTableValidate.Validate(n,t)}},EditTable_Formatter={Get_EditStatus_HtmlElem:function(e,t,a,l,r,i,n,d){if(t.Formatter&&"function"==typeof t.Formatter){var o=EditTable._Prop_JsonData;if(o){var u=o[l.attr("id")];if(u)return $(t.Formatter(t,a,l,r,u))}}return""},Get_CompletedStatus_HtmlElem:function(e,t,a,l,r,i,n,d){if(t.Formatter&&"function"==typeof t.Formatter){var o=EditTable._Prop_JsonData;if(o){var u=o[l.attr("id")];if(u)return $(t.Formatter(t,a,l,r,u))}}return""},ValidateToCompletedEnable:function(e,t,a,l,r,i){var n=i.val();return EditTableValidate.Validate(n,t)}},EditTable_Label={Get_EditStatus_HtmlElem:function(e,t,a,l,r,i,n,d){var o,u="",s=t.BindName;if(null!=t.DefaultValue&&null!=t.DefaultValue&&(u=EditTableDefauleValue.GetValue(t)),null!=d&&null!=d&&(u=d[s]),null!=i&&null!=i&&(u=void 0===t.Formater?i.html():i.attr("Value")),void 0===t.Formater)o=$("<label IsSerialize='true' Text='"+_+"' BindName='"+t.BindName+"' Value='"+u+"'>"+u+"</label>");else{var _=t.Formater(u);o=$("<label IsSerialize='true' Text="+_+" BindName='"+t.BindName+"' Value="+u+">"+_+"</label>")}return o.val(u),o},Get_CompletedStatus_HtmlElem:function(e,t,a,l,r,i){var n,d=i.val();if(void 0===t.Formater)n=$("<label IsSerialize='true' Text='"+o+"' BindName='"+t.BindName+"' Value='"+d+"'>"+d+"</label>");else{var o=t.Formater(d);n=$("<label IsSerialize='true' Text='"+o+"' BindName='"+t.BindName+"' Value='"+d+"'>"+o+"</label>")}return n.val(d),n},ValidateToCompletedEnable:function(e,t,a,l,r,i){var n=i.val();return EditTableValidate.Validate(n,t)}},EditTable_Radio={Get_EditStatus_HtmlElem:function(e,t,a,l,r,i,n,d){var o="",u=t.BindName;if(null!=t.DefaultValue&&null!=t.DefaultValue)o=EditTableDefauleValue.GetValue(t);null!=d&&null!=d&&(o=d[u]),null!=i&&null!=i&&(o=i.val());var s="";return(s=null!=i&&null!=i&&"checked"==i.attr("checked")||1==o?$("<input type='radio' IsSerialize='true' BindName='"+t.BindName+"' name='"+t.BindName+"' checked='checked' value='1'/>"):$("<input type='radio' IsSerialize='true' BindName='"+t.BindName+"' name='"+t.BindName+"' value='0'/>")).val(o),s},Get_CompletedStatus_HtmlElem:function(e,t,a,l,r,i){i.val();return"checked"==i.attr("checked")?$("<input type='radio' IsSerialize='true' BindName='"+t.BindName+"' name='"+t.BindName+"'checked='checked'  value='1'/>"):$("<input type='radio' IsSerialize='true' BindName='"+t.BindName+"' name='"+t.BindName+"' value='0'/>")},ValidateToCompletedEnable:function(e,t,a,l,r,i){var n=i.val();return EditTableValidate.Validate(n,t)}},EditTable_Select={Get_EditStatus_HtmlElem:function(e,t,a,l,r,i,n,d){var o=null;if(null!=t.ClientDataSource&&null!=t.ClientDataSource?o=t.ClientDataSource:null!=t.ClientDataSourceFunc&&null!=t.ClientDataSourceFunc&&(o=t.ClientDataSourceFunc(t.ClientDataSourceFuncParas,e,t,a,l,r,i,n,d)),null==o)return $("<label>找不到数据源设置,请在template中设置数据源</label>");var u="",s=t.BindName;if(null!=t.DefaultValue&&null!=t.DefaultValue)u=EditTableDefauleValue.GetValue(t);null!=d&&null!=d&&(u=d[s]),null!=i&&null!=i&&(u=i.attr("Value"));o[u];for(var _=$("<select />"),p=0;p<o.length;p++){var h=o[p];_.append("<option Value='"+h.Value+"' Text='"+h.Text+"'>"+h.Text+"</option>")}return _.val(u),"function"==typeof t.ChangeEvent&&_.change(function(){t.ChangeEvent(this,e,t,a,l,r,i)}),_},Get_CompletedStatus_HtmlElem:function(e,t,a,l,r,i){var n=i.find("option:selected").attr("Value"),d=i.find("option:selected").attr("Text");return $("<label IsSerialize='true' BindName='"+t.BindName+"' Value='"+n+"' Text='"+d+"'>"+d+"</label>")},ValidateToCompletedEnable:function(e,t,a,l,r,i){var n=i.val();return EditTableValidate.Validate(n,t)}},EditTable_SelectRowCheckBox={Get_EditStatus_HtmlElem:function(e,t,a,l,r,i,n,d){var o="",u=t.BindName;null!=d&&null!=d&&(o=d[u]),null!=i&&null!=i&&(o=i.attr("Value"));var s=$("<input IsSerialize='true' type='checkbox' checked='checked'  BindName='"+t.BindName+"' />");return s.attr("Value",o),s},Get_CompletedStatus_HtmlElem:function(e,t,a,l,r,i){var n=$(i).attr("Value"),d=$("<input IsSerialize='true' type='checkbox'  BindName='"+t.BindName+"' />");return d.attr("Value",n),d},ValidateToCompletedEnable:function(e,t,a,l,r,i){var n=i.val();return EditTableValidate.Validate(n,t)}},EditTable_TextBox={Get_EditStatus_HtmlElem:function(e,t,a,l,r,i,n,d){var o="",u=t.BindName;if(null!=t.DefaultValue&&null!=t.DefaultValue)o=EditTableDefauleValue.GetValue(t);null!=d&&null!=d&&(o=d[u]),null!=i&&null!=i&&(o=i.html());var s=$("<input type='text' IsSerialize='true' style='width: 98%' />");return s.val(o),s},Get_CompletedStatus_HtmlElem:function(e,t,a,l,r,i){var n=i.val();return $("<label IsSerialize='true' BindName='"+t.BindName+"' Value='"+n+"'>"+n+"</label>")},ValidateToCompletedEnable:function(e,t,a,l,r,i){var n=i.val();if(void 0===t.Validate||"function"!=typeof t.Validate)return EditTableValidate.Validate(n,t);var d={Success:!0,Msg:null};return d.Success=t.Validate(),d}},Column_SelectDefaultValue={Get_EditStatus_HtmlElem:function(e,t,a,l,r,i,n,d){var o="",u="",s="";null!=d&&null!=d&&(o=d.columnDefaultType?d.columnDefaultType:"",u=d.columnDefaultValue?d.columnDefaultValue:"",s=d.columnDefaultText?d.columnDefaultText:""),null!=i&&null!=i&&i.find("label").each(function(){"columnDefaultType"==$(this).attr("BindName")?o=$(this).attr("Value"):"columnDefaultText"==$(this).attr("BindName")?s=$(this).attr("Value"):"columnDefaultValue"==$(this).attr("BindName")&&(u=$(this).attr("Value"))});var _=$("<div></div>"),p=$("<input type='text' style='width: 90%' readonly />");p.attr("columnDefaultType",o),p.attr("columnDefaultValue",u),p.attr("columnDefaultText",s),p.val(JBuild4DSelectView.SelectEnvVariable.formatText(o,s));var h=$("<input class='normalbutton-v1' style='margin-left: 4px;' type='button' value='...'/>");return _.append(p).append(h),window.$Temp$Inputtxt=p,h.click(function(){JBuild4DSelectView.SelectEnvVariable.beginSelect("Column_SelectDefaultValue")}),_},Get_CompletedStatus_HtmlElem:function(e,t,a,l,r,i){var n=i.find("input[type='text']");if(0<n.length){var d=n.attr("columnDefaultType"),o=n.attr("columnDefaultValue"),u=n.attr("columnDefaultText"),s=$("<div></div>");return s.append("<label>"+JBuild4DSelectView.SelectEnvVariable.formatText(d,u)+"</label>"),s.append("<label IsSerialize='true' BindName='columnDefaultType' Value='"+d+"' style='display:none'/>"),s.append("<label IsSerialize='true' BindName='columnDefaultText' Value='"+u+"' style='display:none'/>"),s.append("<label IsSerialize='true' BindName='columnDefaultValue' Value='"+o+"' style='display:none'/>"),s}return $("<label></label>")},ValidateToCompletedEnable:function(e,t,a,l,r,i){var n=i.val();return EditTableValidate.Validate(n,t)},setSelectEnvVariableResultValue:function(e){var t=window.$Temp$Inputtxt;null!=e?(t.attr("columnDefaultType",e.Type),t.attr("columnDefaultValue",e.Value),t.attr("columnDefaultText",e.Text),t.val(JBuild4DSelectView.SelectEnvVariable.formatText(e.Type,e.Text))):(t.attr("columnDefaultType",""),t.attr("columnDefaultValue",""),t.attr("columnDefaultText",""),t.val(""))}},EditTable_FieldName={Get_EditStatus_HtmlElem:function(e,t,a,l,r,i,n,d){var o="",u=t.BindName;if(null!=t.DefaultValue&&null!=t.DefaultValue)o=EditTableDefauleValue.GetValue(t);null!=d&&null!=d&&(o=d[u]),null!=i&&null!=i&&(o=i.html());var s=$("<input type='text' style='width: 98%' />");return s.val(o),s.attr("BindName",t.BindName),s.attr("Val",o),s.attr("IsSerialize","true"),s},Get_CompletedStatus_HtmlElem:function(e,t,a,l,r,i){var n=i.val().toUpperCase();return $("<label IsSerialize='true' BindName='"+t.BindName+"' Value='"+n+"'>"+n+"</label>")},ValidateToCompletedEnable:function(e,t,a,l,r,i){var n=i.val(),d=EditTableValidate.Validate(n,t);return d.Success&&r.find("[renderer=EditTable_FieldName]").each(function(){$(this).find("label").each(function(){var e=$(this);e.text()!=n&&e.text()!=n.toUpperCase()||(d={Success:!1,Msg:"[字段名称]不能重复!"})})}),d}},EditTable_SelectDefaultValue={Get_EditStatus_HtmlElem:function(e,t,a,l,r,i,n,d){var o="",u="",s="";null!=d&&null!=d&&(o=d.fieldDefaultType?d.fieldDefaultType:"",u=d.fieldDefaultValue?d.fieldDefaultValue:"",s=d.fieldDefaultText?d.fieldDefaultText:""),null!=i&&null!=i&&i.find("label").each(function(){"fieldDefaultType"==$(this).attr("BindName")?o=$(this).attr("Value"):"fieldDefaultText"==$(this).attr("BindName")?s=$(this).attr("Value"):"fieldDefaultValue"==$(this).attr("BindName")&&(u=$(this).attr("Value"))});var _=$("<div></div>"),p=$("<input type='text' style='width: 90%' readonly />");p.attr("fieldDefaultType",o),p.attr("fieldDefaultValue",u),p.attr("fieldDefaultText",s),p.val(JBuild4DSelectView.SelectEnvVariable.formatText(o,s));var h=$("<input class='normalbutton-v1' style='margin-left: 4px;' type='button' value='...'/>");return _.append(p).append(h),window.$Temp$Inputtxt=p,h.click(function(){JBuild4DSelectView.SelectEnvVariable.beginSelect("EditTable_SelectDefaultValue")}),_},Get_CompletedStatus_HtmlElem:function(e,t,a,l,r,i){var n=i.find("input[type='text']");if(0<n.length){var d=n.attr("fieldDefaultType"),o=n.attr("fieldDefaultValue"),u=n.attr("fieldDefaultText"),s=$("<div></div>");return s.append("<label>"+JBuild4DSelectView.SelectEnvVariable.formatText(d,u)+"</label>"),s.append("<label IsSerialize='true' BindName='fieldDefaultType' Value='"+d+"' style='display:none'/>"),s.append("<label IsSerialize='true' BindName='fieldDefaultText' Value='"+u+"' style='display:none'/>"),s.append("<label IsSerialize='true' BindName='fieldDefaultValue' Value='"+o+"' style='display:none'/>"),s}return $("<label></label>")},ValidateToCompletedEnable:function(e,t,a,l,r,i){var n=i.val();return EditTableValidate.Validate(n,t)},setSelectEnvVariableResultValue:function(e){var t=window.$Temp$Inputtxt;null!=e?(t.attr("fieldDefaultType",e.Type),t.attr("fieldDefaultValue",e.Value),t.attr("fieldDefaultText",e.Text),t.val(JBuild4DSelectView.SelectEnvVariable.formatText(e.Type,e.Text))):(t.attr("fieldDefaultType",""),t.attr("fieldDefaultValue",""),t.attr("fieldDefaultText",""),t.val(""))}},EditTable_SelectFieldTypeDataLoader={_fieldDataTypeArray:null,GetFieldDataTypeArray:function(){if(null==this._fieldDataTypeArray){var a=this;AjaxUtility.PostSync("/PlatForm/Builder/DataStorage/DataBase/Table/GetTableFieldType.do",{},function(e){if(1==e.success){var t=JsonUtility.StringToJson(e.data);null!=t&&null!=t&&(a._fieldDataTypeArray=t)}else DialogUtility.Alert(window,"AlertLoadingQueryError",{},"加载字段类型失败！",null)},"json")}return this._fieldDataTypeArray},GetFieldDataTypeObjectByValue:function(e){for(var t=this.GetFieldDataTypeArray(),a=0;a<t.length;a++){var l=t[a];if(l.Value==e)return l}alert("找不到指定的数据类型，请确认是否支持该类型！")},GetFieldDataTypeObjectByText:function(e){for(var t=this.GetFieldDataTypeArray(),a=0;a<t.length;a++){var l=t[a];if(l.Text==e)return l}alert("找不到指定的数据类型，请确认是否支持该类型！")}},EditTable_SelectFieldType={Get_EditStatus_HtmlElem:function(e,t,a,l,r,i,n,d){var o="",u=$("<select />");null!=d&&null!=d&&(o=d.fieldDataType),null!=i&&null!=i&&(o=i.attr("Value"));for(var s=EditTable_SelectFieldTypeDataLoader.GetFieldDataTypeArray(),_=0;_<s.length;_++){var p=s[_].Value,h=s[_].Text;u.append("<option value='"+p+"'>"+h+"</option>")}return""!=o?u.val(o):u.val(EditTable_SelectFieldTypeDataLoader.GetFieldDataTypeObjectByText("字符串").Value),u.change(function(){var e=$(this).val();"整数"==e?($(a).next().find("input").attr("disabled",!0),$(a).next().find("input").val(0),$(a).next().next().find("input").attr("disabled",!0),$(a).next().next().find("input").val(0)):"小数"==e?($(a).next().find("input").attr("disabled",!1),$(a).next().find("input").val(10),$(a).next().next().find("input").attr("disabled",!1),$(a).next().next().find("input").val(2)):"日期时间"==e?($(a).next().find("input").attr("disabled",!0),$(a).next().find("input").val(20),$(a).next().next().find("input").attr("disabled",!0),$(a).next().next().find("input").val(0)):"字符串"==e?($(a).next().find("input").attr("disabled",!1),$(a).next().find("input").val(50),$(a).next().next().find("input").attr("disabled",!0),$(a).next().next().find("input").val(0)):"长字符串"==e&&($(a).next().find("input").attr("disabled",!0),$(a).next().find("input").val(0),$(a).next().next().find("input").attr("disabled",!0),$(a).next().next().find("input").val(0))}),u},Get_CompletedStatus_HtmlElem:function(e,t,a,l,r,i){var n=i.val(),d=EditTable_SelectFieldTypeDataLoader.GetFieldDataTypeObjectByValue(n).Text;return $("<label IsSerialize='true' BindName='"+t.BindName+"' Value='"+n+"'>"+d+"</label>")},ValidateToCompletedEnable:function(e,t,a,l,r,i){var n=i.val();return EditTableValidate.Validate(n,t)}},TreeTableConfig={CanDeleteWhenHasChild:!1,IdField:"Organ_Id",RowIdPrefix:"TreeTable_",LoadChildJsonURL:"",LoadChildFunc:null,OpenLevel:1,ChildTestField:"Child_Count",Templates:[{Title:"组织机构名称",FieldName:"Organ_Name",TitleCellClassName:"TitleCell",Renderer:"Lable",Hidden:!1,TitleCellAttrs:{},Width:"50%"},{Title:"组织机构缩写名称",FieldName:"Organ_ShortName",TitleCellClassName:"TitleCell",Renderer:"Lable",Hidden:!1,TitleCellAttrs:{},Width:"20%"},{Title:"组织编号",FieldName:"Organ_Code",TitleCellClassName:"TitleCell",Renderer:"Lable",Hidden:!1,TitleCellAttrs:{},Width:"20%"},{Title:"组织ID",FieldName:"Organ_Id",TitleCellClassName:"TitleCell",Renderer:"Lable",Hidden:!1,TitleCellAttrs:{},Width:"10"}],TableClass:"TreeTable",RendererTo:"divEditTable",TableId:"TreeTable",TableAttrs:{cellpadding:"0",cellspacing:"0",border:"0"}},TreeTableJsonData={Organ_Id:"0",Organ_Name:"root",Organ_ShortName:"2",Organ_Code:"2",Child_Count:2,Nodes:[{Organ_Id:"1",Organ_Name:"1Organ_Name",Organ_ShortName:"1",Organ_Code:"1",Child_Count:2,Nodes:[{Organ_Id:"1-1",Organ_Name:"1-1Organ_Name",Organ_ShortName:"1-1",Organ_Code:"1-1",Child_Count:1,Nodes:[{Organ_Id:"1-1-1",Organ_Name:"1-1-1Organ_Name",Organ_ShortName:"1-1-1",Organ_Code:"1-1",Child_Count:0}]},{Organ_Id:"1-2",Organ_Name:"1-2Organ_Name",Organ_ShortName:"1-2",Organ_Code:"1-2",Child_Count:0}]},{Organ_Id:"2",Organ_Name:"2Organ_Name",Organ_ShortName:"2",Organ_Code:"2",Child_Count:0},{Organ_Id:"3",Organ_Name:"3Organ_Name",Organ_ShortName:"3",Organ_Code:"3",Child_Count:0},{Organ_Id:"4",Organ_Name:"4Organ_Name",Organ_ShortName:"4",Organ_Code:"4",Child_Count:0}]},TreeTableJsonDataList=[{Organ_Id:"0",Organ_Name:"root",Organ_ShortName:"2",Organ_Code:"2",Child_Count:2},{Organ_Id:"1",Organ_Name:"1Organ_Name",Organ_ShortName:"1",Organ_Code:"1",Child_Count:2,Parent_Id:"0"},{Organ_Id:"2",Organ_Name:"2Organ_Name",Organ_ShortName:"2",Organ_Code:"2",Child_Count:0,Parent_Id:"0"},{Organ_Id:"1-1",Organ_Name:"1-1Organ_Name",Organ_ShortName:"1-1",Organ_Code:"1-1",Child_Count:1,Parent_Id:"1"},{Organ_Id:"1-2",Organ_Name:"1-2Organ_Name",Organ_ShortName:"1-2",Organ_Code:"1-2",Child_Count:0,Parent_Id:"1"},{Organ_Id:"1-1-1",Organ_Name:"1-1-1Organ_Name",Organ_ShortName:"1-1-1",Organ_Code:"1-1",Child_Count:0,Parent_Id:"1-1"}],TreeTable={_$Prop_TableElem:null,_$Prop_RendererToElem:null,_Prop_Config:null,_Prop_JsonData:null,_Prop_AutoOpenLevel:0,_Prop_FirstColumn_Inden:20,_Prop_CurrentSelectedRowId:null,Initialization:function(e){this._Prop_Config=e,this._$Prop_RendererToElem=$("#"+this._Prop_Config.RendererTo),this._$Prop_TableElem=this.CreateTable(),this._$Prop_TableElem.append(this.CreateTableTitleRow()),this._$Prop_RendererToElem.append(this._$Prop_TableElem)},LoadJsonData:function(e){if(null!=e&&null!=e){this._Prop_JsonData=e,this._Prop_AutoOpenLevel=this._Prop_Config.OpenLevel;var t=this._GetRowDataId(e);this._CreateRootRow(e,t),this._LoopCreateRow(e,e.Nodes,1,t),this.RendererStyle()}else alert("Json Data Object Error")},_CreateRootRow:function(e,t){var a=this.CreateRowElem(e,0,null,!0,t);this._$Prop_TableElem.append(a),this.SetJsonDataExtendAttr_CurrentLevel(e,0),this.SetJsonDataExtendAttr_ParentIdList(e,t)},_LoopCreateRow:function(e,t,a,l){if(this._Prop_Config.IsOpenALL,null!=t)for(var r=0;r<t.length;r++){var i=t[r],n=this._TestRowIsOpen(a),d=this._GetRowDataId(i),o=this._CreateParentIdList(l,d);if(this.SetJsonDataExtendAttr_CurrentLevel(i,a),this.SetJsonDataExtendAttr_ParentIdList(i,o),rowElem=this.CreateRowElem(i,a,e,n,o),this._$Prop_TableElem.append(rowElem),null!=i.Nodes&&null!=i.Nodes&&0<i.Nodes.length){var u=a+1;this._LoopCreateRow(i,i.Nodes,u,o)}}},CreateTable:function(){var e=this._Prop_Config,t=$("<table />");return t.addClass(e.TableClass),t.attr("Id",e.TableId),t.attr(e.TableAttrs),t},SetJsonDataExtendAttr_CurrentLevel:function(e,t){e._Extend_CurrentLevel=t},GetJsonDataExtendAttr_CurrentLevel:function(e){return e._Extend_CurrentLevel},SetJsonDataExtendAttr_ParentIdList:function(e,t){e._Extend_ParentIdList=t},GetJsonDataExtendAttr_ParentIdList:function(e){return e._Extend_ParentIdList},CreateTableTitleRow:function(){for(var e=this._Prop_Config,t=$("<thead>                                <tr isHeader='true' />                            </thead>"),a=t.find("tr"),l=0;l<e.Templates.length;l++){var r=e.Templates[l],i=r.Title,n=$("<th>"+i+"</th>");r.TitleCellClassName&&n.addClass(r.TitleCellClassName),r.TitleCellAttrs&&n.attr(r.TitleCellAttrs),void 0!==r.Hidden&&1==r.Hidden&&n.hide(),r.Style&&n.css(r.Style),a.append(n)}return t},CreateRowElem:function(e,t,a,l,r){var i=this._Prop_Config,n=$("<tr />"),d=this._CreateElemId(e),o=this._GetRowDataId(e),u=this._CreateParentRowId(a);n.attr("rowId",o).attr("pid",u).attr("id",d).attr("currentLevel",t).attr("isdatarow","true");var s=e[i.ChildTestField];(1==s||"true"==s||0<s)&&n.attr("hasChild","true"),n.attr("rowIsOpen",l).attr("parentIdList",r);for(var _=0;_<i.Templates.length;_++){var p=i.Templates[_],h=e[p.FieldName],m=p.Width,f=p.Renderer,c=$('<td bindField="'+p.FieldName+"\" Renderer='"+f+"'>"+h+"</td>").css("width",m);if("DateTime"==f){var v=new Date(h),T=DateUtility.Format(v,"yyyy-MM-dd");c.text(T)}p.TextAlign&&c.css("textAlign",p.TextAlign),void 0!==p.Hidden&&1==p.Hidden&&c.hide(),void 0!==p.Style&&c.css(p.Style),n.append(c)}var C=this;return n.bind("click",null,function(e){$(".tr-selected").removeClass("tr-selected"),$(this).addClass("tr-selected"),C._Prop_CurrentSelectedRowId=$(this).attr("rowId"),void 0!==i.ClickRowEvent&&"function"==typeof i.ClickRowEvent&&i.ClickRowEvent(o)}),n.hover(function(){$(this).hasClass("tr-selected")||$(this).addClass("tr-hover")},function(){$(".tr-hover").removeClass("tr-hover")}),n},_TestRowIsOpen:function(e){return this._Prop_Config.OpenLevel>e},_CreateElemId:function(e){var t="";return null!=this._Prop_Config.RowIdPrefix&&null!=this._Prop_Config.RowIdPrefix!=null&&(t=this._Prop_Config.RowIdPrefix),t+this._GetRowDataId(e)},_CreateParentIdList:function(e,t){return e+"※"+t},_CreateParentIdListByParentJsonData:function(e,t){var a=this.GetJsonDataExtendAttr_ParentIdList(e),l=this._GetRowDataId(t);return this._CreateParentIdList(a,l)},_GetRowDataId:function(e){var t=this._Prop_Config.IdField;return null!=e[t]&&null!=e[t]?e[t]:(alert("在数据源中找不到用于构建Id的字段，请检查配置及数据源"),null)},_CreateParentRowId:function(e){return null==e?"Root":this._GetRowDataId(e)},RendererStyle:function(){var d=this;$("tr[isdatarow='true']").each(function(){var e=$(this),t=$(this).find("td:first"),a=e.attr("rowId"),l=t.text();t.css("padding-left",d._Prop_FirstColumn_Inden*parseInt($(this).attr("currentLevel")));var r=!1;"true"==e.attr("hasChild")&&(r=!0);var i=!1;"true"==e.attr("rowIsOpen")&&(i=!0);var n=d._CreateRowSwitchElem(r,i,a);t.html(""),t.append(n).append("<span>"+l+"</span>"),i||$("tr[pid='"+a+"']").hide()})},_GetIndenClass:function(e,t){return e&&t?"img-switch-open":e&&!t?"img-switch-close":e?"img-switch-close":"img-switch-open"},_CreateRowSwitchElem:function(r,e,t){var a=$('<div isswitch="true"></div>'),l=this._GetIndenClass(r,e);a.addClass(l);var i={RowId:t};return a.bind("click",i,function(e){if(r){var t=$(this).parent().parent(),a=t.attr("rowId"),l=!1;"true"==t.attr("rowIsOpen")&&(l=!0),l?(l=!1,$("tr[parentIdList*='"+a+"※']").hide(),$(this).removeClass("img-switch-open").addClass("img-switch-close"),$("tr[parentIdList*='"+a+"※'][haschild='true']").find("[isswitch='true']").removeClass("img-switch-open").addClass("img-switch-close"),$("tr[parentIdList*='"+a+"※'][haschild='true']").attr("rowisopen",!1)):(l=!0,$("tr[pid='"+a+"']").show(),$(this).removeClass("img-switch-close").addClass("img-switch-open")),t.attr("rowIsOpen",l)}}),a},GetChildsRowElem:function(e,t){return e?$("tr[parentIdList*='"+t+"']"):$("tr[pid='"+t+"']")},_Prop_SelectedRowData:null,_Prop_TempGetRowData:null,_GetSelectedRowData:function(e,t,a){if(e[this._Prop_Config.IdField]==t)a?this._Prop_SelectedRowData=e:this._Prop_TempGetRowData=e;else if(null!=e.Nodes&&null!=e.Nodes)for(var l=0;l<e.Nodes.length;l++)this._GetSelectedRowData(e.Nodes[l],t,a)},GetSelectedRowData:function(){return null==this._Prop_CurrentSelectedRowId?null:(this._GetSelectedRowData(this._Prop_JsonData,this._Prop_CurrentSelectedRowId,!0),this._Prop_SelectedRowData)},GetRowDataByRowId:function(e){return this._Prop_TempGetRowData=null,this._GetSelectedRowData(this._Prop_JsonData,e,!1),this._Prop_TempGetRowData},AppendChildRowToCurrentSelectedRow:function(e){var t=this.GetSelectedRowData();null!=t.Nodes&&null!=t.Nodes||(t.Nodes=new Array),t.Nodes.push(e),this.SetJsonDataExtendAttr_CurrentLevel(e,this.GetJsonDataExtendAttr_CurrentLevel(t)+1),this.SetJsonDataExtendAttr_ParentIdList(e,this._CreateParentIdListByParentJsonData(t,e));var a=this.CreateRowElem(e,this.GetJsonDataExtendAttr_CurrentLevel(t)+1,t,!0,this.GetJsonDataExtendAttr_ParentIdList(e)),l=this._GetRowDataId(t),r=$("tr[rowId='"+l+"']");r.attr("haschild","true");var i=$("tr[parentidlist*='"+l+"※']:last");0<i.length?i.after(a):(r.attr("rowisopen",!0),r.after(a)),this.RendererStyle()},UpdateToRow:function(e,t){var l=this.GetRowDataByRowId(e);for(var a in t)"Nodes"!=a&&(l[a]=t[a]);e=this._GetRowDataId(l);$("tr[rowid='"+e+"']").find("td").each(function(){var e=$(this).attr("bindField"),t=l[e];if("DateTime"==$(this).attr("Renderer")){var a=new Date(t);t=DateUtility.Format(a,"yyyy-MM-dd")}0<$(this).find("[isswitch='true']").length?$(this).find("span").text(t):$(this).text(t)})},LoadChildByAjax:function(){},DeleteRow:function(e){0<$("tr[pid='"+e+"']").length&&(this._Prop_Config.CanDeleteWhenHasChild||alert("指定的节点存在子节点，请先删除子节点！")),$("tr[parentidlist*='※"+e+"']").remove(),this._Prop_CurrentSelectedRowId=null},MoveUpRow:function(e){var t=$("tr[rowid='"+e+"']"),a=t.attr("pid"),l=$(t.prevAll("[pid='"+a+"']")[0]);$("tr[parentidlist*='※"+e+"']").insertBefore(l)},MoveDownRow:function(e){var t=$("tr[rowid='"+e+"']"),a=t.attr("pid"),l=$(t.nextAll("[pid='"+a+"']")[0]).attr("rowid"),r=$("tr[parentidlist*='※"+l+"']"),i=$(r[r.length-1]);$("tr[parentidlist*='※"+e+"']").insertAfter(i)},GetBrothersNodeDatasByParentId:function(e){for(var t=$("tr[rowid='"+e+"']"),a=t.attr("pid"),l=$(t.parent().find("[pid='"+a+"']")),r=new Array,i=0;i<l.length;i++)r.push(this.GetRowDataByRowId($(l[i]).attr("rowid")));return r},RemoveAllRow:function(){null!=this._$Prop_TableElem&&this._$Prop_TableElem.find("tr:not(:first)").each(function(){$(this).remove()})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkpzL0NvbmZpZy5qcyIsIkpzL0VkaXRUYWJsZS5qcyIsIkpzL1JlbmRlcmVycy9FZGl0VGFibGVfQ2hlY2tCb3guanMiLCJKcy9SZW5kZXJlcnMvRWRpdFRhYmxlX0Zvcm1hdHRlci5qcyIsIkpzL1JlbmRlcmVycy9FZGl0VGFibGVfTGFiZWwuanMiLCJKcy9SZW5kZXJlcnMvRWRpdFRhYmxlX1JhZGlvLmpzIiwiSnMvUmVuZGVyZXJzL0VkaXRUYWJsZV9TZWxlY3QuanMiLCJKcy9SZW5kZXJlcnMvRWRpdFRhYmxlX1NlbGVjdFJvd0NoZWNrQm94LmpzIiwiSnMvUmVuZGVyZXJzL0VkaXRUYWJsZV9UZXh0Qm94LmpzIiwiSnMvUmVuZGVyZXJzL0RhdGFTZXQvQ29sdW1uX1NlbGVjdERlZmF1bHRWYWx1ZS5qcyIsIkpzL1JlbmRlcmVycy9UYWJsZURlc2lnbi9FZGl0VGFibGVfRmllbGROYW1lLmpzIiwiSnMvUmVuZGVyZXJzL1RhYmxlRGVzaWduL0VkaXRUYWJsZV9TZWxlY3REZWZhdWx0VmFsdWUuanMiLCJKcy9SZW5kZXJlcnMvVGFibGVEZXNpZ24vRWRpdFRhYmxlX1NlbGVjdEZpZWxkVHlwZS5qcyIsImRlbW8vVHJlZVRhYmxlQ29uZmlnLmpzIiwiSnMvVHJlZVRhYmxlLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImNyZWF0ZSIsIkYiLCJvIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiRXJyb3IiLCJwcm90b3R5cGUiLCJFZGl0VGFibGVDb25maWciLCJTdGF0dXMiLCJUZW1wbGF0ZXMiLCJUaXRsZSIsIkZpZWxkTmFtZSIsIlJlbmRlcmVyIiwiVGl0bGVDZWxsQ2xhc3NOYW1lIiwiSGlkZGVuIiwiVGl0bGVDZWxsQXR0cnMiLCJSb3dJZENyZWF0ZXIiLCJUYWJsZUNsYXNzIiwiUmVuZGVyZXJUbyIsIlRhYmxlSWQiLCJUYWJsZUF0dHJzIiwiY2VsbHBhZGRpbmciLCJjZWxsc3BhY2luZyIsImJvcmRlciIsIkVkaXRUYWJsZURhdGEiLCJFZGl0VGFibGUiLCJfJFByb3BfVGFibGVFbGVtIiwiXyRQcm9wX1JlbmRlcmVyVG9FbGVtIiwiX1Byb3BfQ29uZmlnTWFuYWdlciIsIl9Qcm9wX0pzb25EYXRhIiwiXyRQcm9wX0VkaXRpbmdSb3dFbGVtIiwiSW5pdGlhbGl6YXRpb24iLCJfY29uZmlnIiwidGhpcyIsIkVkaXRUYWJsZUNvbmZpZ01hbmFnZXIiLCJJbml0aWFsaXphdGlvbkNvbmZpZyIsIl9DIiwiR2V0Q29uZmlnIiwiJCIsIkNyZWF0ZVRhYmxlIiwiYXBwZW5kIiwiQ3JlYXRlVGFibGVUaXRsZVJvdyIsIkxvYWRKc29uRGF0YSIsImpzb25EYXRhIiwidW5kZWZpbmVkIiwiaSIsIml0ZW0iLCJyb3dJZCIsIkFkZEVkaXRpbmdSb3dCeVRlbXBsYXRlIiwiQ29tcGxldGVkRWRpdGluZ1JvdyIsImFsZXJ0IiwiX2VkaXRUYWJsZSIsImFkZENsYXNzIiwiYXR0ciIsIl90aXRsZVJvdyIsInRlbXBsYXRlIiwidGl0bGUiLCJ0aCIsImhpZGUiLCJfdGl0bGVSb3dIZWFkIiwiQWRkRW1wdHlFZGl0aW5nUm93QnlUZW1wbGF0ZSIsImNhbGxiYWNrZnVuIiwianNvbkRhdGFzIiwianNvbkRhdGFTaW5nbGUiLCJTdHJpbmdVdGlsaXR5IiwiR3VpZCIsIiRyb3dFbGVtIiwiZWRpdEVhYmxlIiwiZXZlbnRfZGF0YSIsImhvc3QiLCJiaW5kIiwiZXZlbnQiLCJyb3dTdGF0dXMiLCJfaG9zdCIsImRhdGEiLCJSb3dDbGljayIsInJlc3VsdCIsImUiLCJTZXRSb3dJc0VkaXRTdGF0dXMiLCJfcm93IiwiZmluZCIsImVhY2giLCIkdGQiLCJyZW5kZXJlciIsInRlbXBsYXRlSWQiLCJHZXRUZW1wbGF0ZSIsInJlbmRlcmVyT2JqIiwiZXZhbCIsIiRodG1sZWxlbSIsIkdldF9FZGl0U3RhdHVzX0h0bWxFbGVtIiwiY2hpbGRyZW4iLCJTdHlsZSIsImNzcyIsImh0bWwiLCIkdGRFbGVtIiwiVGVtcGxhdGVJZCIsIldpZHRoIiwiQWxpZ24iLCIkZWxlbSIsIkFkZEFmdGVyUm93RXZlbnQiLCJ0ciIsIlNldFJvd0lzQ29tcGxldGVkU3RhdHVzIiwiUm93SXNFZGl0U3RhdHVzIiwiUm93SXNDb21wbGV0ZWRTdGF0dXMiLCJWYWxpZGF0ZUNvbXBsZXRlZEVkaXRpbmdSb3dFbmFibGUiLCJHZXRfQ29tcGxldGVkU3RhdHVzX0h0bWxFbGVtIiwiZWRpdFJvdyIsInZhbGlkYXRlTXNnIiwidGRzIiwidmFscmVzdWx0IiwiVmFsaWRhdGVUb0NvbXBsZXRlZEVuYWJsZSIsIlN1Y2Nlc3MiLCJNc2ciLCJEaWFsb2dVdGlsaXR5IiwiQWxlcnQiLCJ3aW5kb3ciLCJEaWFsb2dBbGVydElkIiwiUmVtb3ZlUm93IiwicmVtb3ZlIiwiR2V0VGFibGVPYmplY3QiLCJHZXRSb3dzIiwiR2V0RWRpdFJvdyIsIkdldExhc3RSb3ciLCJyb3ciLCJyb3dzIiwiaW5kZXgiLCJHZXROZXh0Um93IiwiTW92ZVVwIiwibWUiLCJ0ZW1wIiwiYmVmb3JlIiwiTW92ZURvd24iLCJhZnRlciIsIlJlbW92ZUFsbFJvdyIsIlVwZGF0ZVRvUm93Iiwicm93RGF0YSIsInRhYmxlRWxlbWVudCIsIiR0ciIsIl9yb3dJZCIsImF0dHJOYW1lIiwiJGRpc3BsYXlFbGVtIiwiYmluZE5hbWUiLCJ0ZXh0IiwidmFsIiwiRm9ybWF0dGVyIiwicHJvcCIsInRvTG93ZXJDYXNlIiwiR2V0U2VsZWN0Um93RGF0YUJ5Um93SWQiLCJHZXRTZWxlY3RSb3dCeVJvd0lkIiwiR2V0QWxsUm93RGF0YSIsInJvd0RhdGFzIiwiQXJyYXkiLCJwdXNoIiwiR2V0U2VyaWFsaXplSnNvbiIsInJvd2RhdGEiLCJzZXJpdGVtIiwiYmluZFZhbHVlIiwiYmluZFRleHQiLCJHZXRUYWJsZUVsZW1lbnQiLCJfUHJvcF9Db25maWciLCJleHRlbmQiLCJfdGVtcGxhdGVzIiwiRWRpdFRhYmxlVmFsaWRhdGUiLCJfU1FMS2V5V29yZEFycmF5IiwiR2V0U1FMS2V5V29yZHMiLCJWYWxpZGF0ZSIsInZhbGlkYXRlQ29uZmlnIiwidmFsaWRhdGVUeXBlIiwiVHlwZSIsInRlc3QiLCJ0b1VwcGVyQ2FzZSIsInNxbEtleVdvcmRzIiwiRWRpdFRhYmxlRGVmYXVsZVZhbHVlIiwiR2V0VmFsdWUiLCJkZWZhdWx0VmFsdWVDb25maWciLCJEZWZhdWx0VmFsdWUiLCJkZWZhdWx0VmFsdWVUeXBlIiwiVmFsdWUiLCJFZGl0VGFibGVfQ2hlY2tCb3giLCJob3N0Q2VsbCIsImhvc3RSb3ciLCJob3N0VGFibGUiLCJ2aWV3U3RhdXNIdG1sRWxlbSIsImJpbmRuYW1lIiwiQmluZE5hbWUiLCJlZGl0U3RhdXNIdG1sRWxlbSIsIklzQ05WYWx1ZSIsIkVkaXRUYWJsZV9Gb3JtYXR0ZXIiLCJlZGl0RGF0YXMiLCJFZGl0VGFibGVfTGFiZWwiLCJGb3JtYXRlciIsIkVkaXRUYWJsZV9SYWRpbyIsIkVkaXRUYWJsZV9TZWxlY3QiLCJjb25maWdTb3VyY2UiLCJDbGllbnREYXRhU291cmNlIiwiQ2xpZW50RGF0YVNvdXJjZUZ1bmMiLCJDbGllbnREYXRhU291cmNlRnVuY1BhcmFzIiwiVGV4dCIsIkNoYW5nZUV2ZW50IiwiY2hhbmdlIiwiRWRpdFRhYmxlX1NlbGVjdFJvd0NoZWNrQm94IiwiRWRpdFRhYmxlX1RleHRCb3giLCJDb2x1bW5fU2VsZWN0RGVmYXVsdFZhbHVlIiwiZGVmYXVsdFR5cGUiLCJkZWZhdWx0VmFsdWUiLCJkZWZhdWx0VGV4dCIsIiRpbnB1dFR4dCIsIkpCdWlsZDREU2VsZWN0VmlldyIsIlNlbGVjdEVudlZhcmlhYmxlIiwiZm9ybWF0VGV4dCIsIiRpbnB1dEJ0biIsIiRUZW1wJElucHV0dHh0IiwiY2xpY2siLCJiZWdpblNlbGVjdCIsInNldFNlbGVjdEVudlZhcmlhYmxlUmVzdWx0VmFsdWUiLCJkZWZhdWx0RGF0YSIsIkVkaXRUYWJsZV9GaWVsZE5hbWUiLCJsYWJlbGl0ZW0iLCJFZGl0VGFibGVfU2VsZWN0RGVmYXVsdFZhbHVlIiwiZmllbGREZWZhdWx0VHlwZSIsImZpZWxkRGVmYXVsdFZhbHVlIiwiZmllbGREZWZhdWx0VGV4dCIsIkVkaXRUYWJsZV9TZWxlY3RGaWVsZFR5cGVEYXRhTG9hZGVyIiwiX2ZpZWxkRGF0YVR5cGVBcnJheSIsIkdldEZpZWxkRGF0YVR5cGVBcnJheSIsIl9zZWxmIiwiQWpheFV0aWxpdHkiLCJQb3N0U3luYyIsInN1Y2Nlc3MiLCJsaXN0IiwiSnNvblV0aWxpdHkiLCJTdHJpbmdUb0pzb24iLCJHZXRGaWVsZERhdGFUeXBlT2JqZWN0QnlWYWx1ZSIsImFycmF5RGF0YSIsIm9iaiIsIkdldEZpZWxkRGF0YVR5cGVPYmplY3RCeVRleHQiLCJFZGl0VGFibGVfU2VsZWN0RmllbGRUeXBlIiwidmFsdWUiLCJuZXh0IiwiVHJlZVRhYmxlQ29uZmlnIiwiQ2FuRGVsZXRlV2hlbkhhc0NoaWxkIiwiSWRGaWVsZCIsIlJvd0lkUHJlZml4IiwiTG9hZENoaWxkSnNvblVSTCIsIkxvYWRDaGlsZEZ1bmMiLCJPcGVuTGV2ZWwiLCJDaGlsZFRlc3RGaWVsZCIsIlRyZWVUYWJsZUpzb25EYXRhIiwiT3JnYW5fSWQiLCJPcmdhbl9OYW1lIiwiT3JnYW5fU2hvcnROYW1lIiwiT3JnYW5fQ29kZSIsIkNoaWxkX0NvdW50IiwiTm9kZXMiLCJUcmVlVGFibGVKc29uRGF0YUxpc3QiLCJQYXJlbnRfSWQiLCJUcmVlVGFibGUiLCJfUHJvcF9BdXRvT3BlbkxldmVsIiwiX1Byb3BfRmlyc3RDb2x1bW5fSW5kZW4iLCJfUHJvcF9DdXJyZW50U2VsZWN0ZWRSb3dJZCIsIl9HZXRSb3dEYXRhSWQiLCJfQ3JlYXRlUm9vdFJvdyIsIl9Mb29wQ3JlYXRlUm93IiwiUmVuZGVyZXJTdHlsZSIsInBhcmVudGpzb25Ob2RlIiwicGFyZW50SWRMaXN0Iiwicm93RWxlbSIsIkNyZWF0ZVJvd0VsZW0iLCJTZXRKc29uRGF0YUV4dGVuZEF0dHJfQ3VycmVudExldmVsIiwiU2V0SnNvbkRhdGFFeHRlbmRBdHRyX1BhcmVudElkTGlzdCIsImpzb25Ob2RlQXJyYXkiLCJjdXJyZW50TGV2ZWwiLCJJc09wZW5BTEwiLCJyb3dJc09wZW4iLCJfVGVzdFJvd0lzT3BlbiIsIl9wSWRMaXN0IiwiX0NyZWF0ZVBhcmVudElkTGlzdCIsIl90cCIsIl9FeHRlbmRfQ3VycmVudExldmVsIiwiR2V0SnNvbkRhdGFFeHRlbmRBdHRyX0N1cnJlbnRMZXZlbCIsIl9FeHRlbmRfUGFyZW50SWRMaXN0IiwiR2V0SnNvbkRhdGFFeHRlbmRBdHRyX1BhcmVudElkTGlzdCIsIl90aGVhZCIsInBhcmVudFJvd0RhdGEiLCJfYyIsImVsZW1JZCIsIl9DcmVhdGVFbGVtSWQiLCJwcm93SWQiLCJfQ3JlYXRlUGFyZW50Um93SWQiLCJoYXNDaGlsZCIsIl9jYyIsIl9jZCIsIl93aWR0aCIsIl9yZW5kZXJlciIsImRhdGUiLCJEYXRlIiwiZGF0ZVN0ciIsIkRhdGVVdGlsaXR5IiwiRm9ybWF0IiwiVGV4dEFsaWduIiwicmVtb3ZlQ2xhc3MiLCJDbGlja1Jvd0V2ZW50IiwiaG92ZXIiLCJoYXNDbGFzcyIsInJvd0lkUHJlZml4IiwiX0NyZWF0ZVBhcmVudElkTGlzdEJ5UGFyZW50SnNvbkRhdGEiLCJwYXJlbnRKc29uRGF0YSIsInNlbGZKc29uRGF0YSIsImlkRmllbGQiLCIkZmlyc3R0ZCIsInJvd2lkIiwic291cmNlVGV4dCIsInBhcnNlSW50Iiwic3dpdGNoRWxlbSIsIl9DcmVhdGVSb3dTd2l0Y2hFbGVtIiwiX0dldEluZGVuQ2xhc3MiLCJpc09wZW4iLCJlbGVtIiwiY2xzIiwic2VuZGRhdGEiLCJSb3dJZCIsInBhcmVudCIsInNob3ciLCJHZXRDaGlsZHNSb3dFbGVtIiwibG9vcCIsImlkIiwiX1Byb3BfU2VsZWN0ZWRSb3dEYXRhIiwiX1Byb3BfVGVtcEdldFJvd0RhdGEiLCJfR2V0U2VsZWN0ZWRSb3dEYXRhIiwibm9kZSIsImlzU2V0U2VsZWN0ZWQiLCJHZXRTZWxlY3RlZFJvd0RhdGEiLCJHZXRSb3dEYXRhQnlSb3dJZCIsIkFwcGVuZENoaWxkUm93VG9DdXJyZW50U2VsZWN0ZWRSb3ciLCJzZWxlY3RlZFJvd0RhdGEiLCJzZWxlY3RlZFJvd0lkIiwiY3VycmVudFNlbGVjdEVsZW0iLCJsYXN0Q2hpbGRzIiwiYmluZEZpZWxkIiwibmV3dGV4dCIsIkxvYWRDaGlsZEJ5QWpheCIsIkRlbGV0ZVJvdyIsIk1vdmVVcFJvdyIsInRoaXN0ciIsInBpZCIsIm5lYXJ0ciIsInByZXZBbGwiLCJpbnNlcnRCZWZvcmUiLCJNb3ZlRG93blJvdyIsIm5lYXJ0cnJpZCIsIm5leHRBbGwiLCJvZmZ0cnMiLCJvZmZsYXN0dHIiLCJpbnNlcnRBZnRlciIsIkdldEJyb3RoZXJzTm9kZURhdGFzQnlQYXJlbnRJZCIsImJyb3RoZXJzdHIiXSwibWFwcGluZ3MiOiJBQUFBLGFBS0FBLE9BQUFDLFNBQ0FELE9BQUFDLE9BQUEsV0FDQSxTQUFBQyxLQUVBLE9BQUEsU0FBQUMsR0FDQSxHQUFBLEdBQUFDLFVBQUFDLE9BQ0EsTUFBQSxJQUFBQyxNQUFBLDREQUlBLE9BREFKLEVBQUFLLFVBQUFKLEVBQ0EsSUFBQUQsR0FUQSxJQWNBLElBQUFNLGdCQUFBLENBQ0FDLE9BQUEsT0FFQUMsVUFBQSxDQUFBLENBQ0FDLE1BQUEsTUFDQUMsVUFBQSxhQUNBQyxTQUFBLG9CQUNBQyxtQkFBQSxZQUNBQyxRQUFBLEVBQ0FDLGVBQUEsSUFDQSxDQUNBTCxNQUFBLE9BQ0FDLFVBQUEsYUFDQUMsU0FBQSxvQkFDQUUsUUFBQSxHQUNBLENBQ0FKLE1BQUEsS0FDQUMsVUFBQSxhQUNBQyxTQUFBLG9CQUNBRSxRQUFBLElBRUFFLGFBQUEsYUFDQUMsV0FBQSxZQUNBQyxXQUFBLGVBRUFDLFFBQUEsWUFDQUMsV0FBQSxDQUNBQyxZQUFBLElBQ0FDLFlBQUEsSUFDQUMsT0FBQSxNQUdBQyxjQUFBLEdDL0NBQyxVQUFBLENBQ0FDLGlCQUFBLEtBQ0FDLHNCQUFBLEtBQ0FDLG9CQUFBLEtBQ0FDLGVBQUEsSUFBQTlCLE9BQ0ErQixzQkFBQSxLQU1BQyxlQUFBLFNBQUFDLEdBQ0FDLEtBQUFMLG9CQUFBN0IsT0FBQUMsT0FBQWtDLHdCQUVBRCxLQUFBTCxvQkFBQU8scUJBQUFILEdBRUEsSUFBQUksRUFBQUgsS0FBQUwsb0JBQUFTLFlBRUFKLEtB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QUFELEVBQUFsUyxLQUFBLE9BQ0FvUyxFQUFBblQsRUFBQWlULEVBQUFHLFFBQUEsU0FBQUYsRUFBQSxNQUFBLElBQ0FsVCxFQUFBLHNCQUFBUyxFQUFBLE1BQ0E0UyxhQUFBRixJQUVBRyxZQUFBLFNBQUE3UyxHQUNBLElBQUF3UyxFQUFBalQsRUFBQSxhQUFBUyxFQUFBLE1BQ0F5UyxFQUFBRCxFQUFBbFMsS0FBQSxPQUdBd1MsRUFGQXZULEVBQUFpVCxFQUFBTyxRQUFBLFNBQUFOLEVBQUEsTUFBQSxJQUVBblMsS0FBQSxTQUNBMFMsRUFBQXpULEVBQUEsc0JBQUF1VCxFQUFBLE1BQ0FHLEVBQUExVCxFQUFBeVQsRUFBQUEsRUFBQTNWLE9BQUEsSUFDQWtDLEVBQUEsc0JBQUFTLEVBQUEsTUFDQWtULFlBQUFELElBRUFFLCtCQUFBLFNBQUFuVCxHQU9BLElBTEEsSUFBQXdTLEVBQUFqVCxFQUFBLGFBQUFTLEVBQUEsTUFDQXlTLEVBQUFELEVBQUFsUyxLQUFBLE9BQ0E4UyxFQUFBN1QsRUFBQWlULEVBQUF0QixTQUFBalAsS0FBQSxTQUFBd1EsRUFBQSxPQUNBNVEsRUFBQSxJQUFBMkUsTUFFQTFHLEVBQUEsRUFBQUEsRUFBQXNULEVBQUEvVixPQUFBeUMsSUFDQStCLEVBQUE0RSxLQUFBdkgsS0FBQTJTLGtCQUFBdFMsRUFBQTZULEVBQUF0VCxJQUFBUSxLQUFBLFdBR0EsT0FBQXVCLEdBR0F5RCxhQUFBLFdBQ0EsTUFBQXBHLEtBQUFQLGtCQUNBTyxLQUFBUCxpQkFBQXNELEtBQUEsa0JBQUFDLEtBQUEsV0FDQTNDLEVBQUFMLE1BQUFxRiIsImZpbGUiOiJVSUVYQ29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHpodWFuZ3JiIG9uIDIwMTgvOC8xOC5cclxuICovXG5pZiAoIU9iamVjdC5jcmVhdGUpIHtcbiAgT2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGKCkge31cblxuICAgIHJldHVybiBmdW5jdGlvbiAobykge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09iamVjdC5jcmVhdGUgaW1wbGVtZW50YXRpb24gb25seSBhY2NlcHRzIG9uZSBwYXJhbWV0ZXIuJyk7XG4gICAgICB9XG5cbiAgICAgIEYucHJvdG90eXBlID0gbztcbiAgICAgIHJldHVybiBuZXcgRigpO1xuICAgIH07XG4gIH0oKTtcbn1cblxudmFyIEVkaXRUYWJsZUNvbmZpZyA9IHtcbiAgU3RhdHVzOiBcIkVkaXRcIixcbiAgLy/nirbmgIEg57yW6L6RIEVkaXQg5rWP6KeIIFZpZXdcbiAgVGVtcGxhdGVzOiBbe1xuICAgIFRpdGxlOiBcIuihqOWQjTFcIixcbiAgICBGaWVsZE5hbWU6IFwiVGFibGVGaWVsZFwiLFxuICAgIFJlbmRlcmVyOiBcIkVkaXRUYWJsZV9UZXh0Qm94XCIsXG4gICAgVGl0bGVDZWxsQ2xhc3NOYW1lOiBcIlRpdGxlQ2VsbFwiLFxuICAgIEhpZGRlbjogZmFsc2UsXG4gICAgVGl0bGVDZWxsQXR0cnM6IHt9XG4gIH0sIHtcbiAgICBUaXRsZTogXCLlrZfmrrXnsbvlnotcIixcbiAgICBGaWVsZE5hbWU6IFwiVGFibGVGaWVsZFwiLFxuICAgIFJlbmRlcmVyOiBcIkVkaXRUYWJsZV9UZXh0Qm94XCIsXG4gICAgSGlkZGVuOiBmYWxzZVxuICB9LCB7XG4gICAgVGl0bGU6IFwi5aSH5rOoXCIsXG4gICAgRmllbGROYW1lOiBcIlRhYmxlRmllbGRcIixcbiAgICBSZW5kZXJlcjogXCJFZGl0VGFibGVfVGV4dEJveFwiLFxuICAgIEhpZGRlbjogZmFsc2VcbiAgfV0sXG4gIFJvd0lkQ3JlYXRlcjogZnVuY3Rpb24gUm93SWRDcmVhdGVyKCkge30sXG4gIFRhYmxlQ2xhc3M6IFwiRWRpdFRhYmxlXCIsXG4gIFJlbmRlcmVyVG86IFwiZGl2VHJlZVRhYmxlXCIsXG4gIC8vZGl2IGVsZW1cbiAgVGFibGVJZDogXCJFZGl0VGFibGVcIixcbiAgVGFibGVBdHRyczoge1xuICAgIGNlbGxwYWRkaW5nOiBcIjFcIixcbiAgICBjZWxsc3BhY2luZzogXCIxXCIsXG4gICAgYm9yZGVyOiBcIjFcIlxuICB9XG59O1xudmFyIEVkaXRUYWJsZURhdGEgPSB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXHJcbiAqIENyZWF0ZWQgYnkgemh1YW5ncmIgb24gMjAxOC84LzE4LlxyXG4gKi9cbnZhciBFZGl0VGFibGUgPSB7XG4gIF8kUHJvcF9UYWJsZUVsZW06IG51bGwsXG4gIF8kUHJvcF9SZW5kZXJlclRvRWxlbTogbnVsbCxcbiAgX1Byb3BfQ29uZmlnTWFuYWdlcjogbnVsbCxcbiAgX1Byb3BfSnNvbkRhdGE6IG5ldyBPYmplY3QoKSxcbiAgXyRQcm9wX0VkaXRpbmdSb3dFbGVtOiBudWxsLFxuICAvL+W9k+WJjemAieS4reeahOihjOWvueixoTx0cj5cblxuICAvKlxyXG4gICDnu4Tku7bliJ3lp4vljJZcclxuICAgKi9cbiAgSW5pdGlhbGl6YXRpb246IGZ1bmN0aW9uIEluaXRpYWxpemF0aW9uKF9jb25maWcpIHtcbiAgICB0aGlzLl9Qcm9wX0NvbmZpZ01hbmFnZXIgPSBPYmplY3QuY3JlYXRlKEVkaXRUYWJsZUNvbmZpZ01hbmFnZXIpO1xuXG4gICAgdGhpcy5fUHJvcF9Db25maWdNYW5hZ2VyLkluaXRpYWxpemF0aW9uQ29uZmlnKF9jb25maWcpO1xuXG4gICAgdmFyIF9DID0gdGhpcy5fUHJvcF9Db25maWdNYW5hZ2VyLkdldENvbmZpZygpO1xuXG4gICAgdGhpcy5fJFByb3BfUmVuZGVyZXJUb0VsZW0gPSAkKFwiI1wiICsgX0MuUmVuZGVyZXJUbyk7XG4gICAgdGhpcy5fJFByb3BfVGFibGVFbGVtID0gdGhpcy5DcmVhdGVUYWJsZSgpO1xuXG4gICAgdGhpcy5fJFByb3BfVGFibGVFbGVtLmFwcGVuZCh0aGlzLkNyZWF0ZVRhYmxlVGl0bGVSb3coKSk7XG5cbiAgICB0aGlzLl8kUHJvcF9SZW5kZXJlclRvRWxlbS5hcHBlbmQodGhpcy5fJFByb3BfVGFibGVFbGVtKTtcbiAgfSxcbiAgTG9hZEpzb25EYXRhOiBmdW5jdGlvbiBMb2FkSnNvbkRhdGEoanNvbkRhdGEpIHtcbiAgICBpZiAoanNvbkRhdGEgIT0gbnVsbCAmJiBqc29uRGF0YSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwganNvbkRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBqc29uRGF0YVtpXTtcbiAgICAgICAgdmFyIHJvd0lkID0gdGhpcy5BZGRFZGl0aW5nUm93QnlUZW1wbGF0ZShqc29uRGF0YSwgaXRlbSk7XG4gICAgICAgIHRoaXMuX1Byb3BfSnNvbkRhdGFbcm93SWRdID0gaXRlbTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5Db21wbGV0ZWRFZGl0aW5nUm93KCk7IC8vQWRkRWRpdGluZ1Jvd0J5VGVtcGxhdGUg5bey57uP5pyJ5a6M5oiQ57yW6L6R5pa55rOVLOi/memHjOiwg+eUqOS4gOasoeaYr+acgOWQjuS4gOihjOWujOaIkOe8lui+kVxuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydChcIkpzb24gRGF0YSBPYmplY3QgRXJyb3JcIik7XG4gICAgfVxuICB9LFxuICAvL+WIm+W7uuihqOagvOWuueWZqFxuICBDcmVhdGVUYWJsZTogZnVuY3Rpb24gQ3JlYXRlVGFibGUoKSB7XG4gICAgdmFyIF9DID0gdGhpcy5fUHJvcF9Db25maWdNYW5hZ2VyLkdldENvbmZpZygpO1xuXG4gICAgdmFyIF9lZGl0VGFibGUgPSAkKFwiPHRhYmxlIC8+XCIpO1xuXG4gICAgX2VkaXRUYWJsZS5hZGRDbGFzcyhfQy5UYWJsZUNsYXNzKTtcblxuICAgIF9lZGl0VGFibGUuYXR0cihcIklkXCIsIF9DLlRhYmxlSWQpO1xuXG4gICAgX2VkaXRUYWJsZS5hdHRyKF9DLlRhYmxlQXR0cnMpO1xuXG4gICAgcmV0dXJuIF9lZGl0VGFibGU7XG4gIH0sXG4gIC8v5Yib5bu66KGo5aS0XG4gIENyZWF0ZVRhYmxlVGl0bGVSb3c6IGZ1bmN0aW9uIENyZWF0ZVRhYmxlVGl0bGVSb3coKSB7XG4gICAgdmFyIF9DID0gdGhpcy5fUHJvcF9Db25maWdNYW5hZ2VyLkdldENvbmZpZygpO1xuXG4gICAgdmFyIF90aXRsZVJvdyA9ICQoXCI8dHIgaXNIZWFkZXI9J3RydWUnIC8+XCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfQy5UZW1wbGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0ZW1wbGF0ZSA9IF9DLlRlbXBsYXRlc1tpXTtcbiAgICAgIHZhciB0aXRsZSA9IHRlbXBsYXRlLlRpdGxlO1xuICAgICAgdmFyIHRoID0gJChcIjx0aD5cIiArIHRpdGxlICsgXCI8L3RoPlwiKTtcblxuICAgICAgaWYgKHRlbXBsYXRlLlRpdGxlQ2VsbENsYXNzTmFtZSkge1xuICAgICAgICB0aC5hZGRDbGFzcyh0ZW1wbGF0ZS5UaXRsZUNlbGxDbGFzc05hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGVtcGxhdGUuVGl0bGVDZWxsQXR0cnMpIHtcbiAgICAgICAgdGguYXR0cih0ZW1wbGF0ZS5UaXRsZUNlbGxBdHRycyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUuSGlkZGVuICE9ICd1bmRlZmluZWQnICYmIHRlbXBsYXRlLkhpZGRlbiA9PSB0cnVlKSB7XG4gICAgICAgIHRoLmhpZGUoKTtcbiAgICAgIH1cblxuICAgICAgX3RpdGxlUm93LmFwcGVuZCh0aCk7XG4gICAgfVxuXG4gICAgdmFyIF90aXRsZVJvd0hlYWQgPSAkKFwiPHRoZWFkPjwvdGhlYWQ+XCIpO1xuXG4gICAgX3RpdGxlUm93SGVhZC5hcHBlbmQoX3RpdGxlUm93KTtcblxuICAgIHJldHVybiBfdGl0bGVSb3dIZWFkO1xuICB9LFxuICAvLyDlop7liqDooYxcbiAgQWRkRW1wdHlFZGl0aW5nUm93QnlUZW1wbGF0ZTogZnVuY3Rpb24gQWRkRW1wdHlFZGl0aW5nUm93QnlUZW1wbGF0ZShjYWxsYmFja2Z1bikge1xuICAgIHZhciByb3dJZCA9IHRoaXMuQWRkRWRpdGluZ1Jvd0J5VGVtcGxhdGUobnVsbCk7XG4gICAgdGhpcy5fUHJvcF9Kc29uRGF0YVtyb3dJZF0gPSBudWxsO1xuICB9LFxuICAvLyDlvoDooajmoLzkuK3lop7liqDmlrDooYws5bm25rOo5YaM55u45YWz55qE5LqL5Lu2XG4gIEFkZEVkaXRpbmdSb3dCeVRlbXBsYXRlOiBmdW5jdGlvbiBBZGRFZGl0aW5nUm93QnlUZW1wbGF0ZShqc29uRGF0YXMsIGpzb25EYXRhU2luZ2xlKSB7XG4gICAgaWYgKHRoaXMuQ29tcGxldGVkRWRpdGluZ1JvdygpKSB7XG4gICAgICB2YXIgcm93SWQgPSBTdHJpbmdVdGlsaXR5Lkd1aWQoKTtcbiAgICAgIHZhciAkcm93RWxlbSA9ICQoXCI8dHIgLz5cIik7XG4gICAgICAkcm93RWxlbS5hdHRyKFwiaWRcIiwgcm93SWQpO1xuICAgICAgdGhpcy5fJFByb3BfRWRpdGluZ1Jvd0VsZW0gPSAkcm93RWxlbTtcblxuICAgICAgaWYgKGpzb25EYXRhU2luZ2xlICE9IHVuZGVmaW5lZCAmJiBqc29uRGF0YVNpbmdsZSAhPSBudWxsICYmIGpzb25EYXRhU2luZ2xlLmVkaXRFYWJsZSA9PSBmYWxzZSkge30gZWxzZSB7XG4gICAgICAgIHZhciBldmVudF9kYXRhID0ge1xuICAgICAgICAgIGhvc3Q6IHRoaXNcbiAgICAgICAgfTsgLy8kcm93RWxlbS5jbGljayhldmVudF9kYXRhLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy9hbGVydCgxKTtcblxuICAgICAgICAkcm93RWxlbS5iaW5kKFwiY2xpY2tcIiwgZXZlbnRfZGF0YSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgLy9kZWJ1Z2dlcjtcbiAgICAgICAgICAvLyDooYznirbmgIFcbiAgICAgICAgICB2YXIgcm93U3RhdHVzID0gJHJvd0VsZW0uYXR0cihcInN0YXR1c1wiKTsgLy8g6KGM54q25oCB5Li656aB55So54q25oCB5LiN5YGa5Lu75L2V5pON5L2cXG5cbiAgICAgICAgICBpZiAodHlwZW9mIHJvd1N0YXR1cyAhPSAndW5kZWZpbmVkJyAmJiByb3dTdGF0dXMgPT0gXCJkaXNhYmxlZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIF9ob3N0ID0gZXZlbnQuZGF0YS5ob3N0O1xuXG4gICAgICAgICAgaWYgKF9ob3N0Ll8kUHJvcF9FZGl0aW5nUm93RWxlbSAhPSBudWxsICYmICQodGhpcykuYXR0cihcImlkXCIpID09IF9ob3N0Ll8kUHJvcF9FZGl0aW5nUm93RWxlbS5hdHRyKFwiaWRcIikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX0MgPSBfaG9zdC5fUHJvcF9Db25maWdNYW5hZ2VyLkdldENvbmZpZygpO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBfQy5Sb3dDbGljayAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgX0MuUm93Q2xpY2sgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF9DLlJvd0NsaWNrKCk7XG5cbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSAndW5kZWZpbmVkJyAmJiByZXN1bHQgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgYWxlcnQoXCJfQy5Sb3dDbGljaygpIEVycm9yXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChfaG9zdC5Db21wbGV0ZWRFZGl0aW5nUm93KCkpIHtcbiAgICAgICAgICAgIF9ob3N0Ll8kUHJvcF9FZGl0aW5nUm93RWxlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgIF9ob3N0LlNldFJvd0lzRWRpdFN0YXR1cyhfaG9zdC5fJFByb3BfRWRpdGluZ1Jvd0VsZW0pO1xuXG4gICAgICAgICAgICB2YXIgX3JvdyA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgIF9yb3cuZmluZChcInRkXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgJHRkID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gJHRkLmF0dHIoXCJyZW5kZXJlclwiKTtcbiAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlSWQgPSAkdGQuYXR0cihcInRlbXBsYXRlSWRcIik7XG5cbiAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gX2hvc3QuX1Byb3BfQ29uZmlnTWFuYWdlci5HZXRUZW1wbGF0ZSh0ZW1wbGF0ZUlkKTtcblxuICAgICAgICAgICAgICB2YXIgcmVuZGVyZXJPYmogPSBldmFsKFwiT2JqZWN0LmNyZWF0ZShcIiArIHJlbmRlcmVyICsgXCIpXCIpO1xuICAgICAgICAgICAgICB2YXIgJGh0bWxlbGVtID0gcmVuZGVyZXJPYmouR2V0X0VkaXRTdGF0dXNfSHRtbEVsZW0oX0MsIHRlbXBsYXRlLCAkdGQsIF9yb3csIHRoaXMuXyRQcm9wX1RhYmxlRWxlbSwgJHRkLmNoaWxkcmVuKCkpO1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUuSGlkZGVuICE9ICd1bmRlZmluZWQnICYmIHRlbXBsYXRlLkhpZGRlbiA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgJHRkLmhpZGUoKTtcbiAgICAgICAgICAgICAgfSAvL2FsZXJ0KHRlbXBsYXRlLlN0eWxlKTtcblxuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUuU3R5bGUgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAkdGQuY3NzKHRlbXBsYXRlLlN0eWxlKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICR0ZC5odG1sKFwiXCIpO1xuICAgICAgICAgICAgICAkdGQuYXBwZW5kKCRodG1sZWxlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgX0MgPSB0aGlzLl9Qcm9wX0NvbmZpZ01hbmFnZXIuR2V0Q29uZmlnKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX0MuVGVtcGxhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IF9DLlRlbXBsYXRlc1tpXTtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlbmRlcmVyID0gdGVtcGxhdGUuUmVuZGVyZXI7XG4gICAgICAgICAgdmFyIHJlbmRlcmVyT2JqID0gZXZhbChcIk9iamVjdC5jcmVhdGUoXCIgKyByZW5kZXJlciArIFwiKVwiKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGFsZXJ0KFwi5a6e5L6L5YyWXCIgKyByZW5kZXJlciArIFwi5aSx6LSlIVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciAkdGRFbGVtID0gbnVsbDtcbiAgICAgICAgJHRkRWxlbSA9ICQoXCI8dGQgLz5cIik7XG4gICAgICAgICR0ZEVsZW0uYXR0cihcInJlbmRlcmVyXCIsIHJlbmRlcmVyKTtcbiAgICAgICAgJHRkRWxlbS5hdHRyKFwidGVtcGxhdGVJZFwiLCB0ZW1wbGF0ZS5UZW1wbGF0ZUlkKTtcblxuICAgICAgICBpZiAodHlwZW9mIHRlbXBsYXRlLkhpZGRlbiAhPSAndW5kZWZpbmVkJyAmJiB0ZW1wbGF0ZS5IaWRkZW4gPT0gdHJ1ZSkge1xuICAgICAgICAgICR0ZEVsZW0uaGlkZSgpO1xuICAgICAgICB9IC8v5a695bqmXG5cblxuICAgICAgICBpZiAodHlwZW9mIHRlbXBsYXRlLldpZHRoICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgJHRkRWxlbS5jc3MoXCJ3aWR0aFwiLCB0ZW1wbGF0ZS5XaWR0aCk7XG4gICAgICAgIH0gLy/lr7npvZDmlrnlvI9cblxuXG4gICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUuQWxpZ24gIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAkdGRFbGVtLmF0dHIoXCJhbGlnblwiLCB0ZW1wbGF0ZS5BbGlnbik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgJGVsZW0gPSByZW5kZXJlck9iai5HZXRfRWRpdFN0YXR1c19IdG1sRWxlbShfQywgdGVtcGxhdGUsICR0ZEVsZW0sICRyb3dFbGVtLCB0aGlzLl8kUHJvcF9UYWJsZUVsZW0sIG51bGwsIGpzb25EYXRhcywganNvbkRhdGFTaW5nbGUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUuU3R5bGUgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAkdGRFbGVtLmNzcyh0ZW1wbGF0ZS5TdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICAkdGRFbGVtLmFwcGVuZCgkZWxlbSk7XG4gICAgICAgICRyb3dFbGVtLmFwcGVuZCgkdGRFbGVtKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fJFByb3BfVGFibGVFbGVtLmFwcGVuZCgkcm93RWxlbSk7IC8vIOWinuWKoOihjOWujOaIkOaJp+ihjOeahOaWueazlVxuXG5cbiAgICAgIGlmICh0eXBlb2YgX0MuQWRkQWZ0ZXJSb3dFdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIF9DLkFkZEFmdGVyUm93RXZlbnQgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBfQy5BZGRBZnRlclJvd0V2ZW50KCRyb3dFbGVtKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJvd0lkO1xuICAgIH1cbiAgfSxcbiAgU2V0Um93SXNFZGl0U3RhdHVzOiBmdW5jdGlvbiBTZXRSb3dJc0VkaXRTdGF0dXModHIpIHtcbiAgICAkKHRyKS5hdHRyKFwiRWRpdFN0YXR1c1wiLCBcIkVkaXRTdGF0dXNcIik7XG4gIH0sXG4gIFNldFJvd0lzQ29tcGxldGVkU3RhdHVzOiBmdW5jdGlvbiBTZXRSb3dJc0NvbXBsZXRlZFN0YXR1cyh0cikge1xuICAgICQodHIpLmF0dHIoXCJFZGl0U3RhdHVzXCIsIFwiQ29tcGxldGVkU3RhdHVzXCIpO1xuICB9LFxuICBSb3dJc0VkaXRTdGF0dXM6IGZ1bmN0aW9uIFJvd0lzRWRpdFN0YXR1cyh0cikge1xuICAgIHJldHVybiAkKHRyKS5hdHRyKFwiRWRpdFN0YXR1c1wiKSA9PSBcIkVkaXRTdGF0dXNcIjtcbiAgfSxcbiAgUm93SXNDb21wbGV0ZWRTdGF0dXM6IGZ1bmN0aW9uIFJvd0lzQ29tcGxldGVkU3RhdHVzKHRyKSB7XG4gICAgcmV0dXJuICQodHIpLmF0dHIoXCJFZGl0U3RhdHVzXCIpID09IFwiQ29tcGxldGVkU3RhdHVzXCI7XG4gIH0sXG4gIC8v5a6M5oiQ6KGo5qC86KGM55qE57yW6L6R54q25oCBLOW5tuWIh+aNouWIsOWujOaIkOeKtuaAgVxuICBDb21wbGV0ZWRFZGl0aW5nUm93OiBmdW5jdGlvbiBDb21wbGV0ZWRFZGl0aW5nUm93KCkge1xuICAgIHZhciByZXN1bHQgPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMuXyRQcm9wX0VkaXRpbmdSb3dFbGVtICE9IG51bGwpIHtcbiAgICAgIC8vIGFsZXJ0KHRoaXMuXyRQcm9wX0VkaXRpbmdSb3dFbGVtLklzQ29tcGxhdGVkKTtcbiAgICAgIGlmICghdGhpcy5Sb3dJc0NvbXBsZXRlZFN0YXR1cyh0aGlzLl8kUHJvcF9FZGl0aW5nUm93RWxlbSkpIHtcbiAgICAgICAgdmFyIF9DID0gdGhpcy5fUHJvcF9Db25maWdNYW5hZ2VyLkdldENvbmZpZygpO1xuXG4gICAgICAgIHZhciBfaG9zdCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuVmFsaWRhdGVDb21wbGV0ZWRFZGl0aW5nUm93RW5hYmxlKHRoaXMuXyRQcm9wX0VkaXRpbmdSb3dFbGVtKSkge1xuICAgICAgICAgIHZhciBfcm93ID0gdGhpcy5fJFByb3BfRWRpdGluZ1Jvd0VsZW07XG4gICAgICAgICAgdGhpcy5TZXRSb3dJc0NvbXBsZXRlZFN0YXR1cyhfcm93KTsgLy90aGlzLl8kUHJvcF9FZGl0aW5nUm93RWxlbS5Jc0NvbXBsYXRlZCE9dHJ1ZTtcblxuICAgICAgICAgIF9yb3cuZmluZChcInRkXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICR0ZCA9ICQodGhpcyk7XG4gICAgICAgICAgICB2YXIgcmVuZGVyZXIgPSAkdGQuYXR0cihcInJlbmRlcmVyXCIpO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlSWQgPSAkdGQuYXR0cihcInRlbXBsYXRlSWRcIik7XG5cbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IF9ob3N0Ll9Qcm9wX0NvbmZpZ01hbmFnZXIuR2V0VGVtcGxhdGUodGVtcGxhdGVJZCk7XG5cbiAgICAgICAgICAgIHZhciByZW5kZXJlck9iaiA9IGV2YWwoXCJPYmplY3QuY3JlYXRlKFwiICsgcmVuZGVyZXIgKyBcIilcIik7XG4gICAgICAgICAgICB2YXIgJGh0bWxlbGVtID0gcmVuZGVyZXJPYmouR2V0X0NvbXBsZXRlZFN0YXR1c19IdG1sRWxlbShfQywgdGVtcGxhdGUsICR0ZCwgX3JvdywgdGhpcy5fJFByb3BfVGFibGVFbGVtLCAkdGQuY2hpbGRyZW4oKSk7XG4gICAgICAgICAgICAkdGQuaHRtbChcIlwiKTtcbiAgICAgICAgICAgICR0ZC5hcHBlbmQoJGh0bWxlbGVtKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHRoaXMuXyRQcm9wX0VkaXRpbmdSb3dFbGVtID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG4gIC8v5qCh6aqM57yW6L6R6KGo5qC86IO95ZCm5YiH5o2i5Yiw5a6M5oiQ54q25oCBXG4gIFZhbGlkYXRlQ29tcGxldGVkRWRpdGluZ1Jvd0VuYWJsZTogZnVuY3Rpb24gVmFsaWRhdGVDb21wbGV0ZWRFZGl0aW5nUm93RW5hYmxlKGVkaXRSb3cpIHtcbiAgICB2YXIgX0MgPSB0aGlzLl9Qcm9wX0NvbmZpZ01hbmFnZXIuR2V0Q29uZmlnKCk7XG5cbiAgICB2YXIgX2hvc3QgPSB0aGlzO1xuXG4gICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgdmFyIHZhbGlkYXRlTXNnID0gXCJcIjtcbiAgICB2YXIgdGRzID0gJChlZGl0Um93KS5maW5kKFwidGRcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRkcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyICR0ZCA9ICQodGRzW2ldKTtcbiAgICAgIHZhciByZW5kZXJlciA9ICR0ZC5hdHRyKFwicmVuZGVyZXJcIik7XG4gICAgICB2YXIgdGVtcGxhdGVJZCA9ICR0ZC5hdHRyKFwidGVtcGxhdGVJZFwiKTtcblxuICAgICAgdmFyIHRlbXBsYXRlID0gX2hvc3QuX1Byb3BfQ29uZmlnTWFuYWdlci5HZXRUZW1wbGF0ZSh0ZW1wbGF0ZUlkKTtcblxuICAgICAgdmFyIHJlbmRlcmVyT2JqID0gZXZhbChcIk9iamVjdC5jcmVhdGUoXCIgKyByZW5kZXJlciArIFwiKVwiKTtcbiAgICAgIHZhciB2YWxyZXN1bHQgPSByZW5kZXJlck9iai5WYWxpZGF0ZVRvQ29tcGxldGVkRW5hYmxlKF9DLCB0ZW1wbGF0ZSwgJHRkLCBlZGl0Um93LCB0aGlzLl8kUHJvcF9UYWJsZUVsZW0sICR0ZC5jaGlsZHJlbigpKTtcblxuICAgICAgaWYgKHZhbHJlc3VsdC5TdWNjZXNzID09IGZhbHNlKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB2YWxpZGF0ZU1zZyA9IHZhbHJlc3VsdC5Nc2c7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcmVzdWx0ICYmIHZhbGlkYXRlTXNnICE9IG51bGwpIHtcbiAgICAgIC8vIGFsZXJ0KHZhbGlkYXRlTXNnKTtcbiAgICAgIERpYWxvZ1V0aWxpdHkuQWxlcnQod2luZG93LCBEaWFsb2dVdGlsaXR5LkRpYWxvZ0FsZXJ0SWQsIHt9LCB2YWxpZGF0ZU1zZywgbnVsbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbiAgLy8g6KGM56e76ZmkXG4gIFJlbW92ZVJvdzogZnVuY3Rpb24gUmVtb3ZlUm93KCkge1xuICAgIGlmICh0aGlzLl8kUHJvcF9FZGl0aW5nUm93RWxlbSAhPSBudWxsKSB7XG4gICAgICB0aGlzLl8kUHJvcF9FZGl0aW5nUm93RWxlbS5yZW1vdmUoKTtcblxuICAgICAgdGhpcy5fJFByb3BfRWRpdGluZ1Jvd0VsZW0gPSBudWxsO1xuICAgIH1cbiAgfSxcbiAgLy8g6I635Y+W6KGo5qC85a+56LGhXG4gIEdldFRhYmxlT2JqZWN0OiBmdW5jdGlvbiBHZXRUYWJsZU9iamVjdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fJFByb3BfVGFibGVFbGVtO1xuICB9LFxuICAvLyDojrflj5ZUYWJsZeaJgOacieihjFxuICBHZXRSb3dzOiBmdW5jdGlvbiBHZXRSb3dzKCkge1xuICAgIGlmICh0aGlzLl8kUHJvcF9UYWJsZUVsZW0gIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuXyRQcm9wX1RhYmxlRWxlbS5maW5kKFwidHI6bm90KDpmaXJzdClcIik7XG4gICAgfVxuICB9LFxuICAvLyDojrflj5blvZPliY3nvJbovpHooYxcbiAgR2V0RWRpdFJvdzogZnVuY3Rpb24gR2V0RWRpdFJvdygpIHtcbiAgICBpZiAodGhpcy5fJFByb3BfRWRpdGluZ1Jvd0VsZW0gIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuXyRQcm9wX0VkaXRpbmdSb3dFbGVtO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0sXG4gIC8vIOiOt+WPluS4iuS4gOihjFxuICBHZXRMYXN0Um93OiBmdW5jdGlvbiBHZXRMYXN0Um93KCkge1xuICAgIHZhciByb3cgPSB0aGlzLkdldEVkaXRSb3coKTtcbiAgICBpZiAocm93ID09IG51bGwpIHJldHVybiBudWxsO1xuICAgIHZhciByb3dzID0gdGhpcy5HZXRSb3dzKCk7XG4gICAgdmFyIGluZGV4ID0gcm93cy5pbmRleChyb3cpO1xuXG4gICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgcmV0dXJuICQocm93c1tpbmRleCAtIDFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgLy8g6I635Y+W5LiL5LiA6KGMXG4gIEdldE5leHRSb3c6IGZ1bmN0aW9uIEdldE5leHRSb3coKSB7XG4gICAgdmFyIHJvdyA9IHRoaXMuR2V0RWRpdFJvdygpO1xuICAgIGlmIChyb3cgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgdmFyIHJvd3MgPSB0aGlzLkdldFJvd3MoKTtcbiAgICB2YXIgaW5kZXggPSByb3dzLmluZGV4KHJvdyk7XG5cbiAgICBpZiAoaW5kZXggPCByb3dzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybiAkKHJvd3NbaW5kZXggKyAxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIC8v5bCG5b2T5YmN6KGM5LiK56e7XG4gIE1vdmVVcDogZnVuY3Rpb24gTW92ZVVwKCkge1xuICAgIHZhciByb3cgPSB0aGlzLkdldExhc3RSb3coKTtcblxuICAgIGlmIChyb3cgIT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiByb3cuYXR0cihcInN0YXR1c1wiKSAhPSBcInVuZGVmaW5lZFwiICYmIHJvdy5hdHRyKFwic3RhdHVzXCIpID09IFwiZGlzYWJsZWRcIikgcmV0dXJuIGZhbHNlO1xuICAgICAgdmFyIG1lID0gdGhpcy5HZXRFZGl0Um93KCk7XG4gICAgICB2YXIgdGVtcCA9IG1lLmF0dHIoXCJjbGFzc1wiKTtcbiAgICAgIG1lLmF0dHIoXCJjbGFzc1wiLCByb3cuYXR0cihcImNsYXNzXCIpKTtcbiAgICAgIHJvdy5hdHRyKFwiY2xhc3NcIiwgdGVtcCk7XG5cbiAgICAgIGlmIChtZSAhPSBudWxsKSB7XG4gICAgICAgIHJvdy5iZWZvcmUobWVbMF0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgLy/lsIblvZPliY3ooYzkuIvnp7tcbiAgTW92ZURvd246IGZ1bmN0aW9uIE1vdmVEb3duKCkge1xuICAgIHZhciByb3cgPSB0aGlzLkdldE5leHRSb3coKTtcblxuICAgIGlmIChyb3cgIT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiByb3cuYXR0cihcInN0YXRlXCIpICE9IFwidW5kZWZpbmVkXCIgJiYgcm93LmF0dHIoXCJzdGF0ZVwiKSA9PSBcImRpc2FibGVkXCIpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciBtZSA9IHRoaXMuR2V0RWRpdFJvdygpO1xuICAgICAgdmFyIHRlbXAgPSBtZS5hdHRyKFwiY2xhc3NcIik7XG4gICAgICBtZS5hdHRyKFwiY2xhc3NcIiwgcm93LmF0dHIoXCJjbGFzc1wiKSk7XG4gICAgICByb3cuYXR0cihcImNsYXNzXCIsIHRlbXApO1xuXG4gICAgICBpZiAobWUgIT0gbnVsbCkge1xuICAgICAgICByb3cuYWZ0ZXIobWVbMF0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgLy8g56e76Zmk5omA5pyJ6KGMKOS4jeWMheaLrOihqOWktClcbiAgUmVtb3ZlQWxsUm93OiBmdW5jdGlvbiBSZW1vdmVBbGxSb3coKSB7XG4gICAgaWYgKHRoaXMuXyRQcm9wX1RhYmxlRWxlbSAhPSBudWxsKSB7XG4gICAgICB0aGlzLl8kUHJvcF9UYWJsZUVsZW0uZmluZChcInRyOm5vdCg6Zmlyc3QpXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAvLyDmm7TmlrDooYzmlbDmja5cbiAgVXBkYXRlVG9Sb3c6IGZ1bmN0aW9uIFVwZGF0ZVRvUm93KHJvd0lkLCByb3dEYXRhKSB7XG4gICAgdmFyIHRhYmxlRWxlbWVudCA9IHRoaXMuXyRQcm9wX1RhYmxlRWxlbTtcblxuICAgIHZhciBfaG9zdCA9IHRoaXM7XG5cbiAgICB0YWJsZUVsZW1lbnQuZmluZChcInRyW2lzSGVhZGVyIT0ndHJ1ZSddXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0ciA9ICQodGhpcyk7XG5cbiAgICAgIHZhciBfcm93SWQgPSAkdHIuYXR0cihcImlkXCIpO1xuXG4gICAgICBpZiAocm93SWQgPT0gX3Jvd0lkKSB7XG4gICAgICAgIGZvciAodmFyIGF0dHJOYW1lIGluIHJvd0RhdGEpIHtcbiAgICAgICAgICAkdHIuZmluZChcInRkXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICR0ZCA9ICQodGhpcyk7XG4gICAgICAgICAgICB2YXIgJGRpc3BsYXlFbGVtID0gJHRkLmZpbmQoXCJbSXNTZXJpYWxpemU9J3RydWUnXVwiKTtcbiAgICAgICAgICAgIHZhciBiaW5kTmFtZSA9ICRkaXNwbGF5RWxlbS5hdHRyKFwiQmluZE5hbWVcIik7XG5cbiAgICAgICAgICAgIGlmIChhdHRyTmFtZSA9PSBiaW5kTmFtZSkge1xuICAgICAgICAgICAgICAvL2RlYnVnZ2VyO1xuICAgICAgICAgICAgICB2YXIgdGVtcGxhdGVJZCA9ICR0ZC5hdHRyKFwidGVtcGxhdGVJZFwiKTtcblxuICAgICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSBfaG9zdC5fUHJvcF9Db25maWdNYW5hZ2VyLkdldFRlbXBsYXRlKHRlbXBsYXRlSWQpO1xuXG4gICAgICAgICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IHJvd0RhdGFbYmluZE5hbWVdO1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUuRm9ybWF0dGVyICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB0ZW1wbGF0ZS5Gb3JtYXR0ZXIgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZW1wbGF0ZS5Gb3JtYXR0ZXIodmFsKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICh0ZXh0ID09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdmFsO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCRkaXNwbGF5RWxlbS5wcm9wKCd0YWdOYW1lJykgPT0gXCJJTlBVVFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCRkaXNwbGF5RWxlbS5hdHRyKFwidHlwZVwiKS50b0xvd2VyQ2FzZSgpID09IFwiY2hlY2tib3hcIikge30gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAkZGlzcGxheUVsZW0udmFsKHRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgJGRpc3BsYXlFbGVtLnRleHQodGV4dCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgYWxlcnQoXCJVcGRhdGVUb1JvdyAkbGFiZWwudGV4dCh0ZXh0KSBFcnJvciFcIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJGRpc3BsYXlFbGVtLmF0dHIoXCJWYWx1ZVwiLCB2YWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLyokdHIuZmluZChcIltJc1NlcmlhbGl6ZT0ndHJ1ZSddXCIpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIHZhciAkbGFiZWwgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgIHZhciBiaW5kTmFtZSA9ICQodGhpcykuYXR0cihcIkJpbmROYW1lXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYoYXR0ck5hbWUgPT0gYmluZE5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgJGxhYmVsLnRleHQocm93RGF0YVtiaW5kTmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgICAkbGFiZWwuYXR0cihcIlZhbHVlXCIsIHJvd0RhdGFbYmluZE5hbWVdKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTsqL1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIC8vIOagueaNrnJvd0lk6I635Y+W6KGM5pWw5o2uXG4gIEdldFNlbGVjdFJvd0RhdGFCeVJvd0lkOiBmdW5jdGlvbiBHZXRTZWxlY3RSb3dEYXRhQnlSb3dJZChyb3dJZCkge1xuICAgIHZhciB0YWJsZUVsZW1lbnQgPSB0aGlzLl8kUHJvcF9UYWJsZUVsZW07XG4gICAgdmFyIHJvd0RhdGEgPSB7fTtcbiAgICB0YWJsZUVsZW1lbnQuZmluZChcInRyW2lzSGVhZGVyIT0ndHJ1ZSddXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0ciA9ICQodGhpcyk7XG5cbiAgICAgIHZhciBfcm93SWQgPSAkdHIuYXR0cihcImlkXCIpO1xuXG4gICAgICBpZiAocm93SWQgPT0gX3Jvd0lkKSB7XG4gICAgICAgICR0ci5maW5kKFwiW0lzU2VyaWFsaXplPSd0cnVlJ11cIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCQodGhpcykuYXR0cihcIlZhbHVlXCIpICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcm93RGF0YVskKHRoaXMpLmF0dHIoXCJCaW5kTmFtZVwiKV0gPSAkKHRoaXMpLmF0dHIoXCJWYWx1ZVwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcm93RGF0YVskKHRoaXMpLmF0dHIoXCJCaW5kTmFtZVwiKV0gPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJvd0RhdGE7XG4gIH0sXG4gIC8vIOagueaNrnJvd0lk6I635Y+W6KGM5a+56LGhXG4gIEdldFNlbGVjdFJvd0J5Um93SWQ6IGZ1bmN0aW9uIEdldFNlbGVjdFJvd0J5Um93SWQocm93SWQpIHtcbiAgICB2YXIgdGFibGVFbGVtZW50ID0gdGhpcy5fJFByb3BfVGFibGVFbGVtO1xuICAgIHJldHVybiB0YWJsZUVsZW1lbnQuZmluZChcInRyW2lkPSdcIiArIHJvd0lkICsgXCInXVwiKTtcbiAgfSxcbiAgLy8g6I635Y+W5omA5pyJ6KGM5pWw5o2uXG4gIEdldEFsbFJvd0RhdGE6IGZ1bmN0aW9uIEdldEFsbFJvd0RhdGEoKSB7XG4gICAgdmFyIHRhYmxlRWxlbWVudCA9IHRoaXMuXyRQcm9wX1RhYmxlRWxlbTtcbiAgICB2YXIgcm93RGF0YXMgPSBuZXcgQXJyYXkoKTtcbiAgICB0YWJsZUVsZW1lbnQuZmluZChcInRyW2lzSGVhZGVyIT0ndHJ1ZSddXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0ciA9ICQodGhpcyk7XG4gICAgICB2YXIgcm93RGF0YSA9IHt9O1xuICAgICAgJHRyLmZpbmQoXCJbSXNTZXJpYWxpemU9J3RydWUnXVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcm93RGF0YVskKHRoaXMpLmF0dHIoXCJCaW5kTmFtZVwiKV0gPSAkKHRoaXMpLmF0dHIoXCJWYWx1ZVwiKTtcbiAgICAgICAgcm93RGF0YVskKHRoaXMpLmF0dHIoXCJCaW5kTmFtZVwiKSArIFwiX19fVGV4dFwiXSA9ICQodGhpcykuYXR0cihcIlRleHRcIik7XG4gICAgICB9KTtcbiAgICAgIHJvd0RhdGFzLnB1c2gocm93RGF0YSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJvd0RhdGFzO1xuICB9LFxuICBHZXRTZXJpYWxpemVKc29uOiBmdW5jdGlvbiBHZXRTZXJpYWxpemVKc29uKCkge1xuICAgIHZhciByZXN1bHQgPSBuZXcgQXJyYXkoKTtcbiAgICB2YXIgdGFibGUgPSB0aGlzLl8kUHJvcF9UYWJsZUVsZW07XG4gICAgdGFibGUuZmluZChcInRyW2lzSGVhZGVyIT0ndHJ1ZSddXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJvd2RhdGEgPSBuZXcgT2JqZWN0KCk7XG4gICAgICB2YXIgJHRyID0gJCh0aGlzKTtcbiAgICAgICR0ci5maW5kKFwiW0lzU2VyaWFsaXplPSd0cnVlJ11cIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZXJpdGVtID0gJCh0aGlzKTtcbiAgICAgICAgdmFyIGJpbmROYW1lID0gc2VyaXRlbS5hdHRyKFwiQmluZE5hbWVcIik7XG4gICAgICAgIHZhciBiaW5kVmFsdWUgPSBzZXJpdGVtLmF0dHIoXCJWYWx1ZVwiKTtcbiAgICAgICAgdmFyIGJpbmRUZXh0ID0gc2VyaXRlbS5hdHRyKFwiVGV4dFwiKTtcbiAgICAgICAgcm93ZGF0YVtiaW5kTmFtZV0gPSBiaW5kVmFsdWU7XG4gICAgICAgIHJvd2RhdGFbYmluZE5hbWUgKyBcIl9fX1RleHRcIl0gPSBiaW5kVGV4dDtcbiAgICAgIH0pO1xuICAgICAgcmVzdWx0LnB1c2gocm93ZGF0YSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbiAgR2V0VGFibGVFbGVtZW50OiBmdW5jdGlvbiBHZXRUYWJsZUVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRQcm9wX1RhYmxlRWxlbTtcbiAgfVxufTtcbnZhciBFZGl0VGFibGVDb25maWdNYW5hZ2VyID0ge1xuICBfUHJvcF9Db25maWc6IHt9LFxuICBJbml0aWFsaXphdGlvbkNvbmZpZzogZnVuY3Rpb24gSW5pdGlhbGl6YXRpb25Db25maWcoX2NvbmZpZykge1xuICAgIHRoaXMuX1Byb3BfQ29uZmlnID0gJC5leHRlbmQodHJ1ZSwge30sIHRoaXMuX1Byb3BfQ29uZmlnLCBfY29uZmlnKTtcbiAgICB2YXIgX3RlbXBsYXRlcyA9IHRoaXMuX1Byb3BfQ29uZmlnLlRlbXBsYXRlcztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RlbXBsYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRlbXBsYXRlID0gX3RlbXBsYXRlc1tpXTtcbiAgICAgIHRlbXBsYXRlLlRlbXBsYXRlSWQgPSBTdHJpbmdVdGlsaXR5Lkd1aWQoKTtcbiAgICB9XG4gIH0sXG4gIEdldENvbmZpZzogZnVuY3Rpb24gR2V0Q29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLl9Qcm9wX0NvbmZpZztcbiAgfSxcbiAgR2V0VGVtcGxhdGU6IGZ1bmN0aW9uIEdldFRlbXBsYXRlKHRlbXBsYXRlSWQpIHtcbiAgICB2YXIgX3RlbXBsYXRlcyA9IHRoaXMuX1Byb3BfQ29uZmlnLlRlbXBsYXRlcztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RlbXBsYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRlbXBsYXRlID0gX3RlbXBsYXRlc1tpXTtcblxuICAgICAgaWYgKHRlbXBsYXRlLlRlbXBsYXRlSWQgPT0gdGVtcGxhdGVJZCkge1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG52YXIgRWRpdFRhYmxlVmFsaWRhdGUgPSB7XG4gIF9TUUxLZXlXb3JkQXJyYXk6IG5ldyBBcnJheSgpLFxuICBHZXRTUUxLZXlXb3JkczogZnVuY3Rpb24gR2V0U1FMS2V5V29yZHMoKSB7XG4gICAgaWYgKHRoaXMuX1NRTEtleVdvcmRBcnJheS5sZW5ndGggPT0gMCkge1xuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJpbnNlcnRcIik7XG5cbiAgICAgIHRoaXMuX1NRTEtleVdvcmRBcnJheS5wdXNoKFwidXBkYXRlXCIpO1xuXG4gICAgICB0aGlzLl9TUUxLZXlXb3JkQXJyYXkucHVzaChcImRlbGV0ZVwiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJzZWxlY3RcIik7XG5cbiAgICAgIHRoaXMuX1NRTEtleVdvcmRBcnJheS5wdXNoKFwiYXNcIik7XG5cbiAgICAgIHRoaXMuX1NRTEtleVdvcmRBcnJheS5wdXNoKFwiZnJvbVwiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJkaXN0aW5jdFwiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJ3aGVyZVwiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJvcmRlclwiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJieVwiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJhc2NcIik7XG5cbiAgICAgIHRoaXMuX1NRTEtleVdvcmRBcnJheS5wdXNoKFwiZGVzY1wiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJkZXNjXCIpO1xuXG4gICAgICB0aGlzLl9TUUxLZXlXb3JkQXJyYXkucHVzaChcImFuZFwiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJvclwiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJiZXR3ZWVuXCIpO1xuXG4gICAgICB0aGlzLl9TUUxLZXlXb3JkQXJyYXkucHVzaChcIm9yZGVyIGJ5XCIpO1xuXG4gICAgICB0aGlzLl9TUUxLZXlXb3JkQXJyYXkucHVzaChcImNvdW50XCIpO1xuXG4gICAgICB0aGlzLl9TUUxLZXlXb3JkQXJyYXkucHVzaChcImdyb3VwXCIpO1xuXG4gICAgICB0aGlzLl9TUUxLZXlXb3JkQXJyYXkucHVzaChcImdyb3VwIGJ5XCIpO1xuXG4gICAgICB0aGlzLl9TUUxLZXlXb3JkQXJyYXkucHVzaChcImhhdmluZ1wiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJhbGlhc1wiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJqb2luXCIpO1xuXG4gICAgICB0aGlzLl9TUUxLZXlXb3JkQXJyYXkucHVzaChcImxlZnRcIik7XG5cbiAgICAgIHRoaXMuX1NRTEtleVdvcmRBcnJheS5wdXNoKFwicmlndGhcIik7XG5cbiAgICAgIHRoaXMuX1NRTEtleVdvcmRBcnJheS5wdXNoKFwiaW5uZWVyXCIpO1xuXG4gICAgICB0aGlzLl9TUUxLZXlXb3JkQXJyYXkucHVzaChcInVuaW9uXCIpO1xuXG4gICAgICB0aGlzLl9TUUxLZXlXb3JkQXJyYXkucHVzaChcInN1bVwiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJhbGxcIik7XG5cbiAgICAgIHRoaXMuX1NRTEtleVdvcmRBcnJheS5wdXNoKFwibWludXNcIik7XG5cbiAgICAgIHRoaXMuX1NRTEtleVdvcmRBcnJheS5wdXNoKFwiYWxlcnRcIik7XG5cbiAgICAgIHRoaXMuX1NRTEtleVdvcmRBcnJheS5wdXNoKFwiZHJvcFwiKTtcblxuICAgICAgdGhpcy5fU1FMS2V5V29yZEFycmF5LnB1c2goXCJleGVjXCIpO1xuXG4gICAgICB0aGlzLl9TUUxLZXlXb3JkQXJyYXkucHVzaChcInRydW5jYXRlXCIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9TUUxLZXlXb3JkQXJyYXk7XG4gIH0sXG4gIFZhbGlkYXRlOiBmdW5jdGlvbiBWYWxpZGF0ZSh2YWwsIHRlbXBsYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgIFN1Y2Nlc3M6IHRydWUsXG4gICAgICBNc2c6IFwiXCJcbiAgICB9O1xuICAgIHZhciB2YWxpZGF0ZUNvbmZpZyA9IHRlbXBsYXRlLlZhbGlkYXRlO1xuXG4gICAgaWYgKHZhbGlkYXRlQ29uZmlnICE9IHVuZGVmaW5lZCAmJiB2YWxpZGF0ZUNvbmZpZyAhPSBudWxsKSB7XG4gICAgICB2YXIgdmFsaWRhdGVUeXBlID0gdmFsaWRhdGVDb25maWcuVHlwZTtcblxuICAgICAgaWYgKHZhbGlkYXRlVHlwZSAhPSB1bmRlZmluZWQgJiYgdmFsaWRhdGVUeXBlICE9IG51bGwpIHtcbiAgICAgICAgc3dpdGNoICh2YWxpZGF0ZVR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwiTm90RW1wdHlcIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWYgKHZhbCA9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LlN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXN1bHQuTXNnID0gXCLjgJBcIiArIHRlbXBsYXRlLlRpdGxlICsgXCLjgJHkuI3og73kuLrnqbohXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIkxVTm9Pbmx5XCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlmICgvXlthLXpBLVpdW2EtekEtWjAtOV9dezAsfSQvLnRlc3QodmFsKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5TdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVzdWx0Lk1zZyA9IFwi44CQXCIgKyB0ZW1wbGF0ZS5UaXRsZSArIFwi44CR5LiN6IO95Li656m65LiU5Y+q6IO95piv5a2X5q+N44CB5LiL5YiS57q/44CB5pWw5a2X5bm25Lul5a2X5q+N5byA5aS077yBXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIlNRTEtleVdvcmRcIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWYgKC9eW2EtekEtWl1bYS16QS1aMC05X117MCx9JC8udGVzdCh2YWwpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LlN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXN1bHQuTXNnID0gXCLjgJBcIiArIHRlbXBsYXRlLlRpdGxlICsgXCLjgJHkuI3og73kuLrnqbrkuJTlj6rog73mmK/lrZfmr43jgIHkuIvliJLnur/jgIHmlbDlrZflubbku6XlrZfmr43lvIDlpLTvvIFcIjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciB2YWwgPSB2YWwudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgdmFyIHNxbEtleVdvcmRzID0gdGhpcy5HZXRTUUxLZXlXb3JkcygpO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3FsS2V5V29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsID09IHNxbEtleVdvcmRzW2ldLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdC5TdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICByZXN1bHQuTXNnID0gXCLjgJBcIiArIHRlbXBsYXRlLlRpdGxlICsgXCLjgJHor7fkuI3opoHkvb/nlKhTUUzlhbPplK7lrZfkvZzkuLrliJflkI3vvIFcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xudmFyIEVkaXRUYWJsZURlZmF1bGVWYWx1ZSA9IHtcbiAgR2V0VmFsdWU6IGZ1bmN0aW9uIEdldFZhbHVlKHRlbXBsYXRlKSB7XG4gICAgdmFyIGRlZmF1bHRWYWx1ZUNvbmZpZyA9IHRlbXBsYXRlLkRlZmF1bHRWYWx1ZTtcblxuICAgIGlmIChkZWZhdWx0VmFsdWVDb25maWcgIT0gdW5kZWZpbmVkICYmIGRlZmF1bHRWYWx1ZUNvbmZpZyAhPSBudWxsKSB7XG4gICAgICB2YXIgZGVmYXVsdFZhbHVlVHlwZSA9IGRlZmF1bHRWYWx1ZUNvbmZpZy5UeXBlO1xuXG4gICAgICBpZiAoZGVmYXVsdFZhbHVlVHlwZSAhPSB1bmRlZmluZWQgJiYgZGVmYXVsdFZhbHVlVHlwZSAhPSBudWxsKSB7XG4gICAgICAgIHN3aXRjaCAoZGVmYXVsdFZhbHVlVHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJDb25zdFwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlQ29uZmlnLlZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSBcIkdVSURcIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxpdHkuR3VpZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIjtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXHJcbiAqIENyZWF0ZWQgYnkgemh1YW5ncmIgb24gMjAxOC84LzE4LlxyXG4gKi9cbnZhciBFZGl0VGFibGVfQ2hlY2tCb3ggPSB7XG4gIC8qXHJcbiAgIF9jb25maWc66YWN572u5a+56LGhXHJcbiAgIHRlbXBsYXRlOuW9k+WJjeaooeeJiFxyXG4gICBob3N0Q2VsbDrmiYDlpITnmoTljZXlhYPmoLxcclxuICAgaG9zdFJvdzrmiYDlpITnmoTliJdcclxuICAgaG9zdFRhYmxlOuaJgOWkhOeahOihqOagvFxyXG4gICB2aWV3U3RhdXNIdG1sRWxlbTrmtY/op4jnirbmgIHnmoRodG1s5YWD57SgXHJcbiAgIGpzb25EYXRhSXRlbTpqc29u5pWw5o2u5rqQXHJcbiAgICovXG4gIC8vIOe8lui+keaXtuaYvuekuueahOagh+etvlxuICBHZXRfRWRpdFN0YXR1c19IdG1sRWxlbTogZnVuY3Rpb24gR2V0X0VkaXRTdGF0dXNfSHRtbEVsZW0oX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIHZpZXdTdGF1c0h0bWxFbGVtLCBqc29uRGF0YXMsIGpzb25EYXRhU2luZ2xlKSB7XG4gICAgdmFyIHZhbCA9IFwiXCI7XG4gICAgdmFyIGJpbmRuYW1lID0gdGVtcGxhdGUuQmluZE5hbWU7XG5cbiAgICBpZiAodGVtcGxhdGUuRGVmYXVsdFZhbHVlICE9IHVuZGVmaW5lZCAmJiB0ZW1wbGF0ZS5EZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgdmFyIHZhbCA9IEVkaXRUYWJsZURlZmF1bGVWYWx1ZS5HZXRWYWx1ZSh0ZW1wbGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGpzb25EYXRhU2luZ2xlICE9IG51bGwgJiYganNvbkRhdGFTaW5nbGUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWwgPSBqc29uRGF0YVNpbmdsZVtiaW5kbmFtZV07XG4gICAgfVxuXG4gICAgaWYgKHZpZXdTdGF1c0h0bWxFbGVtICE9IG51bGwgJiYgdmlld1N0YXVzSHRtbEVsZW0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWwgPSB2aWV3U3RhdXNIdG1sRWxlbS5odG1sKCk7XG4gICAgfVxuXG4gICAgdmFyICRlbGVtID0gXCJcIjtcblxuICAgIGlmICh2YWwgPT0gXCLmmK9cIikge1xuICAgICAgJGVsZW0gPSAkKFwiPGlucHV0IHR5cGU9J2NoZWNrYm94JyBjaGVja2VkPSdjaGVja2VkJyAvPlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGVsZW0gPSAkKFwiPGlucHV0IHR5cGU9J2NoZWNrYm94JyAvPlwiKTtcbiAgICB9XG5cbiAgICAkZWxlbS52YWwodmFsKTtcbiAgICByZXR1cm4gJGVsZW07XG4gIH0sXG4gIC8v57yW6L6R5a6M5oiQ5pe25pi+56S655qE54q25oCBIO+8jCDmlbDmja7liJ3lp4vljJbml7bosIPnlKjmlrnms5VcbiAgR2V0X0NvbXBsZXRlZFN0YXR1c19IdG1sRWxlbTogZnVuY3Rpb24gR2V0X0NvbXBsZXRlZFN0YXR1c19IdG1sRWxlbShfY29uZmlnLCB0ZW1wbGF0ZSwgaG9zdENlbGwsIGhvc3RSb3csIGhvc3RUYWJsZSwgZWRpdFN0YXVzSHRtbEVsZW0pIHtcbiAgICB2YXIgdmFsID0gZWRpdFN0YXVzSHRtbEVsZW0udmFsKCk7XG4gICAgdmFyICRlbGVtID0gXCJcIjtcblxuICAgIGlmICh0ZW1wbGF0ZS5Jc0NOVmFsdWUpIHtcbiAgICAgIGlmIChlZGl0U3RhdXNIdG1sRWxlbS5hdHRyKFwiY2hlY2tlZFwiKSA9PSBcImNoZWNrZWRcIikge1xuICAgICAgICAkZWxlbSA9ICQoXCI8bGFiZWwgSXNTZXJpYWxpemU9J3RydWUnIEJpbmROYW1lPSdcIiArIHRlbXBsYXRlLkJpbmROYW1lICsgXCInIHZhbHVlPSfmmK8nPuaYrzwvbGFiZWw+XCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGVsZW0gPSAkKFwiPGxhYmVsIElzU2VyaWFsaXplPSd0cnVlJyBCaW5kTmFtZT0nXCIgKyB0ZW1wbGF0ZS5CaW5kTmFtZSArIFwiJyB2YWx1ZT0n5ZCmJz7lkKY8L2xhYmVsPlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVkaXRTdGF1c0h0bWxFbGVtLmF0dHIoXCJjaGVja2VkXCIpID09IFwiY2hlY2tlZFwiKSB7XG4gICAgICAgICRlbGVtID0gJChcIjxsYWJlbCBJc1NlcmlhbGl6ZT0ndHJ1ZScgQmluZE5hbWU9J1wiICsgdGVtcGxhdGUuQmluZE5hbWUgKyBcIicgdmFsdWU9JzEnPuaYrzwvbGFiZWw+XCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGVsZW0gPSAkKFwiPGxhYmVsIElzU2VyaWFsaXplPSd0cnVlJyBCaW5kTmFtZT0nXCIgKyB0ZW1wbGF0ZS5CaW5kTmFtZSArIFwiJyB2YWx1ZT0nMCc+5ZCmPC9sYWJlbD5cIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICRlbGVtO1xuICB9LFxuICAvL+WAvOagoemqjFxuICBWYWxpZGF0ZVRvQ29tcGxldGVkRW5hYmxlOiBmdW5jdGlvbiBWYWxpZGF0ZVRvQ29tcGxldGVkRW5hYmxlKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCBlZGl0U3RhdXNIdG1sRWxlbSkge1xuICAgIHZhciB2YWwgPSBlZGl0U3RhdXNIdG1sRWxlbS52YWwoKTtcbiAgICByZXR1cm4gRWRpdFRhYmxlVmFsaWRhdGUuVmFsaWRhdGUodmFsLCB0ZW1wbGF0ZSk7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHpodWFuZ3JiIG9uIDIwMTgvOC8xOC5cclxuICovXG52YXIgRWRpdFRhYmxlX0Zvcm1hdHRlciA9IHtcbiAgLypcclxuICAgX2NvbmZpZzrphY3nva7lr7nosaFcclxuICAgdGVtcGxhdGU65b2T5YmN5qih54mIXHJcbiAgIGhvc3RDZWxsOuaJgOWkhOeahOWNleWFg+agvFxyXG4gICBob3N0Um93OuaJgOWkhOeahOWIl1xyXG4gICBob3N0VGFibGU65omA5aSE55qE6KGo5qC8XHJcbiAgIHZpZXdTdGF1c0h0bWxFbGVtOua1j+iniOeKtuaAgeeahGh0bWzlhYPntKBcclxuICAganNvbkRhdGFJdGVtOmpzb27mlbDmja7mupBcclxuICAgKi9cbiAgR2V0X0VkaXRTdGF0dXNfSHRtbEVsZW06IGZ1bmN0aW9uIEdldF9FZGl0U3RhdHVzX0h0bWxFbGVtKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCB2aWV3U3RhdXNIdG1sRWxlbSwganNvbkRhdGFzLCBqc29uRGF0YVNpbmdsZSkge1xuICAgIGlmICh0ZW1wbGF0ZS5Gb3JtYXR0ZXIgJiYgdHlwZW9mIHRlbXBsYXRlLkZvcm1hdHRlciA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIC8vdmFyICRlZGl0VGFibGUgPSBob3N0VGFibGU7XG4gICAgICB2YXIgZWRpdERhdGFzID0gRWRpdFRhYmxlLl9Qcm9wX0pzb25EYXRhO1xuXG4gICAgICBpZiAoZWRpdERhdGFzKSB7XG4gICAgICAgIHZhciByb3dJZCA9IGhvc3RSb3cuYXR0cihcImlkXCIpO1xuICAgICAgICB2YXIgcm93RGF0YSA9IGVkaXREYXRhc1tyb3dJZF07XG5cbiAgICAgICAgaWYgKHJvd0RhdGEpIHtcbiAgICAgICAgICByZXR1cm4gJCh0ZW1wbGF0ZS5Gb3JtYXR0ZXIodGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIHJvd0RhdGEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcIlwiO1xuICB9LFxuICBHZXRfQ29tcGxldGVkU3RhdHVzX0h0bWxFbGVtOiBmdW5jdGlvbiBHZXRfQ29tcGxldGVkU3RhdHVzX0h0bWxFbGVtKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCBlZGl0U3RhdXNIdG1sRWxlbSwganNvbkRhdGFzLCBqc29uRGF0YVNpbmdsZSkge1xuICAgIGlmICh0ZW1wbGF0ZS5Gb3JtYXR0ZXIgJiYgdHlwZW9mIHRlbXBsYXRlLkZvcm1hdHRlciA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIC8vdmFyICRlZGl0VGFibGUgPSBob3N0VGFibGU7XG4gICAgICB2YXIgZWRpdERhdGFzID0gRWRpdFRhYmxlLl9Qcm9wX0pzb25EYXRhO1xuXG4gICAgICBpZiAoZWRpdERhdGFzKSB7XG4gICAgICAgIHZhciByb3dJZCA9IGhvc3RSb3cuYXR0cihcImlkXCIpO1xuICAgICAgICB2YXIgcm93RGF0YSA9IGVkaXREYXRhc1tyb3dJZF07XG5cbiAgICAgICAgaWYgKHJvd0RhdGEpIHtcbiAgICAgICAgICByZXR1cm4gJCh0ZW1wbGF0ZS5Gb3JtYXR0ZXIodGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIHJvd0RhdGEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcIlwiO1xuICB9LFxuICBWYWxpZGF0ZVRvQ29tcGxldGVkRW5hYmxlOiBmdW5jdGlvbiBWYWxpZGF0ZVRvQ29tcGxldGVkRW5hYmxlKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCBlZGl0U3RhdXNIdG1sRWxlbSkge1xuICAgIHZhciB2YWwgPSBlZGl0U3RhdXNIdG1sRWxlbS52YWwoKTtcbiAgICByZXR1cm4gRWRpdFRhYmxlVmFsaWRhdGUuVmFsaWRhdGUodmFsLCB0ZW1wbGF0ZSk7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHpodWFuZ3JiIG9uIDIwMTgvOC8xOC5cclxuICovXG52YXIgRWRpdFRhYmxlX0xhYmVsID0ge1xuICAvKlxyXG4gICBfY29uZmlnOumFjee9ruWvueixoVxyXG4gICB0ZW1wbGF0ZTrlvZPliY3mqKHniYhcclxuICAgaG9zdENlbGw65omA5aSE55qE5Y2V5YWD5qC8XHJcbiAgIGhvc3RSb3c65omA5aSE55qE5YiXXHJcbiAgIGhvc3RUYWJsZTrmiYDlpITnmoTooajmoLxcclxuICAgdmlld1N0YXVzSHRtbEVsZW065rWP6KeI54q25oCB55qEaHRtbOWFg+e0oFxyXG4gICBqc29uRGF0YUl0ZW06anNvbuaVsOaNrua6kFxyXG4gICAqL1xuICBHZXRfRWRpdFN0YXR1c19IdG1sRWxlbTogZnVuY3Rpb24gR2V0X0VkaXRTdGF0dXNfSHRtbEVsZW0oX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIHZpZXdTdGF1c0h0bWxFbGVtLCBqc29uRGF0YXMsIGpzb25EYXRhU2luZ2xlKSB7XG4gICAgdmFyIHZhbCA9IFwiXCI7XG4gICAgdmFyIGJpbmRuYW1lID0gdGVtcGxhdGUuQmluZE5hbWU7IC8vZGVidWdnZXI7XG5cbiAgICBpZiAodGVtcGxhdGUuRGVmYXVsdFZhbHVlICE9IHVuZGVmaW5lZCAmJiB0ZW1wbGF0ZS5EZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgdmFsID0gRWRpdFRhYmxlRGVmYXVsZVZhbHVlLkdldFZhbHVlKHRlbXBsYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoanNvbkRhdGFTaW5nbGUgIT0gbnVsbCAmJiBqc29uRGF0YVNpbmdsZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbCA9IGpzb25EYXRhU2luZ2xlW2JpbmRuYW1lXTtcbiAgICB9XG5cbiAgICBpZiAodmlld1N0YXVzSHRtbEVsZW0gIT0gbnVsbCAmJiB2aWV3U3RhdXNIdG1sRWxlbSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUuRm9ybWF0ZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhbCA9IHZpZXdTdGF1c0h0bWxFbGVtLmh0bWwoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IHZpZXdTdGF1c0h0bWxFbGVtLmF0dHIoXCJWYWx1ZVwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgJGVsZW07XG5cbiAgICBpZiAodHlwZW9mIHRlbXBsYXRlLkZvcm1hdGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgJGVsZW0gPSAkKFwiPGxhYmVsIElzU2VyaWFsaXplPSd0cnVlJyBUZXh0PSdcIiArIHRleHQgKyBcIicgQmluZE5hbWU9J1wiICsgdGVtcGxhdGUuQmluZE5hbWUgKyBcIicgVmFsdWU9J1wiICsgdmFsICsgXCInPlwiICsgdmFsICsgXCI8L2xhYmVsPlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHRleHQgPSB0ZW1wbGF0ZS5Gb3JtYXRlcih2YWwpO1xuICAgICAgJGVsZW0gPSAkKFwiPGxhYmVsIElzU2VyaWFsaXplPSd0cnVlJyBUZXh0PVwiICsgdGV4dCArIFwiIEJpbmROYW1lPSdcIiArIHRlbXBsYXRlLkJpbmROYW1lICsgXCInIFZhbHVlPVwiICsgdmFsICsgXCI+XCIgKyB0ZXh0ICsgXCI8L2xhYmVsPlwiKTtcbiAgICB9XG5cbiAgICAkZWxlbS52YWwodmFsKTtcbiAgICByZXR1cm4gJGVsZW07XG4gIH0sXG4gIEdldF9Db21wbGV0ZWRTdGF0dXNfSHRtbEVsZW06IGZ1bmN0aW9uIEdldF9Db21wbGV0ZWRTdGF0dXNfSHRtbEVsZW0oX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIGVkaXRTdGF1c0h0bWxFbGVtKSB7XG4gICAgdmFyICRlbGVtO1xuICAgIHZhciB2YWwgPSBlZGl0U3RhdXNIdG1sRWxlbS52YWwoKTtcblxuICAgIGlmICh0eXBlb2YgdGVtcGxhdGUuRm9ybWF0ZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAkZWxlbSA9ICQoXCI8bGFiZWwgSXNTZXJpYWxpemU9J3RydWUnIFRleHQ9J1wiICsgdGV4dCArIFwiJyBCaW5kTmFtZT0nXCIgKyB0ZW1wbGF0ZS5CaW5kTmFtZSArIFwiJyBWYWx1ZT0nXCIgKyB2YWwgKyBcIic+XCIgKyB2YWwgKyBcIjwvbGFiZWw+XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdGV4dCA9IHRlbXBsYXRlLkZvcm1hdGVyKHZhbCk7XG4gICAgICAkZWxlbSA9ICQoXCI8bGFiZWwgSXNTZXJpYWxpemU9J3RydWUnIFRleHQ9J1wiICsgdGV4dCArIFwiJyBCaW5kTmFtZT0nXCIgKyB0ZW1wbGF0ZS5CaW5kTmFtZSArIFwiJyBWYWx1ZT0nXCIgKyB2YWwgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2xhYmVsPlwiKTtcbiAgICB9XG5cbiAgICAkZWxlbS52YWwodmFsKTtcbiAgICByZXR1cm4gJGVsZW07XG4gIH0sXG4gIFZhbGlkYXRlVG9Db21wbGV0ZWRFbmFibGU6IGZ1bmN0aW9uIFZhbGlkYXRlVG9Db21wbGV0ZWRFbmFibGUoX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIGVkaXRTdGF1c0h0bWxFbGVtKSB7XG4gICAgdmFyIHZhbCA9IGVkaXRTdGF1c0h0bWxFbGVtLnZhbCgpO1xuICAgIHJldHVybiBFZGl0VGFibGVWYWxpZGF0ZS5WYWxpZGF0ZSh2YWwsIHRlbXBsYXRlKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXHJcbiAqIENyZWF0ZWQgYnkgemh1YW5ncmIgb24gMjAxOC84LzE4LlxyXG4gKi9cbnZhciBFZGl0VGFibGVfUmFkaW8gPSB7XG4gIC8qXHJcbiAgIF9jb25maWc66YWN572u5a+56LGhXHJcbiAgIHRlbXBsYXRlOuW9k+WJjeaooeeJiFxyXG4gICBob3N0Q2VsbDrmiYDlpITnmoTljZXlhYPmoLxcclxuICAgaG9zdFJvdzrmiYDlpITnmoTliJdcclxuICAgaG9zdFRhYmxlOuaJgOWkhOeahOihqOagvFxyXG4gICB2aWV3U3RhdXNIdG1sRWxlbTrmtY/op4jnirbmgIHnmoRodG1s5YWD57SgXHJcbiAgIGpzb25EYXRhSXRlbTpqc29u5pWw5o2u5rqQXHJcbiAgICovXG4gIC8vIOe8lui+keaXtuaYvuekuueahOagh+etvlxuICBHZXRfRWRpdFN0YXR1c19IdG1sRWxlbTogZnVuY3Rpb24gR2V0X0VkaXRTdGF0dXNfSHRtbEVsZW0oX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIHZpZXdTdGF1c0h0bWxFbGVtLCBqc29uRGF0YXMsIGpzb25EYXRhU2luZ2xlKSB7XG4gICAgdmFyIHZhbCA9IFwiXCI7XG4gICAgdmFyIGJpbmRuYW1lID0gdGVtcGxhdGUuQmluZE5hbWU7XG5cbiAgICBpZiAodGVtcGxhdGUuRGVmYXVsdFZhbHVlICE9IHVuZGVmaW5lZCAmJiB0ZW1wbGF0ZS5EZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgdmFyIHZhbCA9IEVkaXRUYWJsZURlZmF1bGVWYWx1ZS5HZXRWYWx1ZSh0ZW1wbGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGpzb25EYXRhU2luZ2xlICE9IG51bGwgJiYganNvbkRhdGFTaW5nbGUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWwgPSBqc29uRGF0YVNpbmdsZVtiaW5kbmFtZV07XG4gICAgfVxuXG4gICAgaWYgKHZpZXdTdGF1c0h0bWxFbGVtICE9IG51bGwgJiYgdmlld1N0YXVzSHRtbEVsZW0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAvL3ZhbD12aWV3U3RhdXNIdG1sRWxlbS5odG1sKCk7XG4gICAgICB2YWwgPSB2aWV3U3RhdXNIdG1sRWxlbS52YWwoKTtcbiAgICB9XG5cbiAgICB2YXIgJGVsZW0gPSBcIlwiO1xuXG4gICAgaWYgKG51bGwgIT0gdmlld1N0YXVzSHRtbEVsZW0gJiYgdmlld1N0YXVzSHRtbEVsZW0gIT0gdW5kZWZpbmVkICYmIHZpZXdTdGF1c0h0bWxFbGVtLmF0dHIoXCJjaGVja2VkXCIpID09IFwiY2hlY2tlZFwiIHx8IHZhbCA9PSAxKSB7XG4gICAgICAkZWxlbSA9ICQoXCI8aW5wdXQgdHlwZT0ncmFkaW8nIElzU2VyaWFsaXplPSd0cnVlJyBCaW5kTmFtZT0nXCIgKyB0ZW1wbGF0ZS5CaW5kTmFtZSArIFwiJyBuYW1lPSdcIiArIHRlbXBsYXRlLkJpbmROYW1lICsgXCInIGNoZWNrZWQ9J2NoZWNrZWQnIHZhbHVlPScxJy8+XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZWxlbSA9ICQoXCI8aW5wdXQgdHlwZT0ncmFkaW8nIElzU2VyaWFsaXplPSd0cnVlJyBCaW5kTmFtZT0nXCIgKyB0ZW1wbGF0ZS5CaW5kTmFtZSArIFwiJyBuYW1lPSdcIiArIHRlbXBsYXRlLkJpbmROYW1lICsgXCInIHZhbHVlPScwJy8+XCIpO1xuICAgIH1cblxuICAgICRlbGVtLnZhbCh2YWwpO1xuICAgIHJldHVybiAkZWxlbTtcbiAgfSxcbiAgLy/nvJbovpHlrozmiJDml7bmmL7npLrnmoTnirbmgIEg77yMIOaVsOaNruWIneWni+WMluaXtuiwg+eUqOaWueazlVxuICBHZXRfQ29tcGxldGVkU3RhdHVzX0h0bWxFbGVtOiBmdW5jdGlvbiBHZXRfQ29tcGxldGVkU3RhdHVzX0h0bWxFbGVtKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCBlZGl0U3RhdXNIdG1sRWxlbSkge1xuICAgIHZhciB2YWwgPSBlZGl0U3RhdXNIdG1sRWxlbS52YWwoKTtcbiAgICB2YXIgJGVsZW0gPSBcIlwiO1xuXG4gICAgaWYgKGVkaXRTdGF1c0h0bWxFbGVtLmF0dHIoXCJjaGVja2VkXCIpID09IFwiY2hlY2tlZFwiKSB7XG4gICAgICAkZWxlbSA9ICQoXCI8aW5wdXQgdHlwZT0ncmFkaW8nIElzU2VyaWFsaXplPSd0cnVlJyBCaW5kTmFtZT0nXCIgKyB0ZW1wbGF0ZS5CaW5kTmFtZSArIFwiJyBuYW1lPSdcIiArIHRlbXBsYXRlLkJpbmROYW1lICsgXCInY2hlY2tlZD0nY2hlY2tlZCcgIHZhbHVlPScxJy8+XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZWxlbSA9ICQoXCI8aW5wdXQgdHlwZT0ncmFkaW8nIElzU2VyaWFsaXplPSd0cnVlJyBCaW5kTmFtZT0nXCIgKyB0ZW1wbGF0ZS5CaW5kTmFtZSArIFwiJyBuYW1lPSdcIiArIHRlbXBsYXRlLkJpbmROYW1lICsgXCInIHZhbHVlPScwJy8+XCIpO1xuICAgIH1cblxuICAgIHJldHVybiAkZWxlbTtcbiAgfSxcbiAgLy/lgLzmoKHpqoxcbiAgVmFsaWRhdGVUb0NvbXBsZXRlZEVuYWJsZTogZnVuY3Rpb24gVmFsaWRhdGVUb0NvbXBsZXRlZEVuYWJsZShfY29uZmlnLCB0ZW1wbGF0ZSwgaG9zdENlbGwsIGhvc3RSb3csIGhvc3RUYWJsZSwgZWRpdFN0YXVzSHRtbEVsZW0pIHtcbiAgICB2YXIgdmFsID0gZWRpdFN0YXVzSHRtbEVsZW0udmFsKCk7XG4gICAgcmV0dXJuIEVkaXRUYWJsZVZhbGlkYXRlLlZhbGlkYXRlKHZhbCwgdGVtcGxhdGUpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcclxuICogQ3JlYXRlZCBieSB6aHVhbmdyYiBvbiAyMDE4LzgvMTguXHJcbiAqL1xudmFyIEVkaXRUYWJsZV9TZWxlY3QgPSB7XG4gIC8qXHJcbiAgIF9jb25maWc66YWN572u5a+56LGhXHJcbiAgIHRlbXBsYXRlOuW9k+WJjeaooeeJiFxyXG4gICBob3N0Q2VsbDrmiYDlpITnmoTljZXlhYPmoLxcclxuICAgaG9zdFJvdzrmiYDlpITnmoTliJdcclxuICAgaG9zdFRhYmxlOuaJgOWkhOeahOihqOagvFxyXG4gICB2aWV3U3RhdXNIdG1sRWxlbTrmtY/op4jnirbmgIHnmoRodG1s5YWD57SgXHJcbiAgIGpzb25EYXRhSXRlbTpqc29u5pWw5o2u5rqQXHJcbiAgICovXG4gIEdldF9FZGl0U3RhdHVzX0h0bWxFbGVtOiBmdW5jdGlvbiBHZXRfRWRpdFN0YXR1c19IdG1sRWxlbShfY29uZmlnLCB0ZW1wbGF0ZSwgaG9zdENlbGwsIGhvc3RSb3csIGhvc3RUYWJsZSwgdmlld1N0YXVzSHRtbEVsZW0sIGpzb25EYXRhcywganNvbkRhdGFTaW5nbGUpIHtcbiAgICAvL+iOt+WPluS4i+aLieWIl+ihqOeahOaVsOaNrua6kFxuICAgIHZhciBjb25maWdTb3VyY2UgPSBudWxsO1xuXG4gICAgaWYgKHRlbXBsYXRlLkNsaWVudERhdGFTb3VyY2UgIT0gdW5kZWZpbmVkICYmIHRlbXBsYXRlLkNsaWVudERhdGFTb3VyY2UgIT0gbnVsbCkge1xuICAgICAgY29uZmlnU291cmNlID0gdGVtcGxhdGUuQ2xpZW50RGF0YVNvdXJjZTtcbiAgICB9IGVsc2UgaWYgKHRlbXBsYXRlLkNsaWVudERhdGFTb3VyY2VGdW5jICE9IHVuZGVmaW5lZCAmJiB0ZW1wbGF0ZS5DbGllbnREYXRhU291cmNlRnVuYyAhPSBudWxsKSB7XG4gICAgICBjb25maWdTb3VyY2UgPSB0ZW1wbGF0ZS5DbGllbnREYXRhU291cmNlRnVuYyh0ZW1wbGF0ZS5DbGllbnREYXRhU291cmNlRnVuY1BhcmFzLCBfY29uZmlnLCB0ZW1wbGF0ZSwgaG9zdENlbGwsIGhvc3RSb3csIGhvc3RUYWJsZSwgdmlld1N0YXVzSHRtbEVsZW0sIGpzb25EYXRhcywganNvbkRhdGFTaW5nbGUpO1xuICAgIH1cblxuICAgIGlmIChjb25maWdTb3VyY2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuICQoXCI8bGFiZWw+5om+5LiN5Yiw5pWw5o2u5rqQ6K6+572uLOivt+WcqHRlbXBsYXRl5Lit6K6+572u5pWw5o2u5rqQPC9sYWJlbD5cIik7XG4gICAgfVxuXG4gICAgdmFyIHZhbCA9IFwiXCI7XG4gICAgdmFyIHR4dCA9IFwiXCI7XG4gICAgdmFyIGJpbmRuYW1lID0gdGVtcGxhdGUuQmluZE5hbWU7XG5cbiAgICBpZiAodGVtcGxhdGUuRGVmYXVsdFZhbHVlICE9IHVuZGVmaW5lZCAmJiB0ZW1wbGF0ZS5EZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgdmFyIHZhbCA9IEVkaXRUYWJsZURlZmF1bGVWYWx1ZS5HZXRWYWx1ZSh0ZW1wbGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGpzb25EYXRhU2luZ2xlICE9IG51bGwgJiYganNvbkRhdGFTaW5nbGUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWwgPSBqc29uRGF0YVNpbmdsZVtiaW5kbmFtZV07XG4gICAgfVxuXG4gICAgaWYgKHZpZXdTdGF1c0h0bWxFbGVtICE9IG51bGwgJiYgdmlld1N0YXVzSHRtbEVsZW0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWwgPSB2aWV3U3RhdXNIdG1sRWxlbS5hdHRyKFwiVmFsdWVcIik7XG4gICAgfVxuXG4gICAgdmFyIHR4dCA9IGNvbmZpZ1NvdXJjZVt2YWxdO1xuICAgIHZhciAkZWxlbSA9ICQoXCI8c2VsZWN0IC8+XCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWdTb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gY29uZmlnU291cmNlW2ldO1xuICAgICAgJGVsZW0uYXBwZW5kKFwiPG9wdGlvbiBWYWx1ZT0nXCIgKyBpdGVtLlZhbHVlICsgXCInIFRleHQ9J1wiICsgaXRlbS5UZXh0ICsgXCInPlwiICsgaXRlbS5UZXh0ICsgXCI8L29wdGlvbj5cIik7XG4gICAgfVxuXG4gICAgJGVsZW0udmFsKHZhbCk7XG5cbiAgICBpZiAodHlwZW9mIHRlbXBsYXRlLkNoYW5nZUV2ZW50ID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgJGVsZW0uY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGVtcGxhdGUuQ2hhbmdlRXZlbnQodGhpcywgX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIHZpZXdTdGF1c0h0bWxFbGVtKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiAkZWxlbTtcbiAgfSxcbiAgR2V0X0NvbXBsZXRlZFN0YXR1c19IdG1sRWxlbTogZnVuY3Rpb24gR2V0X0NvbXBsZXRlZFN0YXR1c19IdG1sRWxlbShfY29uZmlnLCB0ZW1wbGF0ZSwgaG9zdENlbGwsIGhvc3RSb3csIGhvc3RUYWJsZSwgZWRpdFN0YXVzSHRtbEVsZW0pIHtcbiAgICB2YXIgdmFsID0gZWRpdFN0YXVzSHRtbEVsZW0uZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS5hdHRyKFwiVmFsdWVcIik7XG4gICAgdmFyIHRleHQgPSBlZGl0U3RhdXNIdG1sRWxlbS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLmF0dHIoXCJUZXh0XCIpO1xuICAgIHZhciAkZWxlbSA9ICQoXCI8bGFiZWwgSXNTZXJpYWxpemU9J3RydWUnIEJpbmROYW1lPSdcIiArIHRlbXBsYXRlLkJpbmROYW1lICsgXCInIFZhbHVlPSdcIiArIHZhbCArIFwiJyBUZXh0PSdcIiArIHRleHQgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2xhYmVsPlwiKTtcbiAgICByZXR1cm4gJGVsZW07XG4gIH0sXG4gIFZhbGlkYXRlVG9Db21wbGV0ZWRFbmFibGU6IGZ1bmN0aW9uIFZhbGlkYXRlVG9Db21wbGV0ZWRFbmFibGUoX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIGVkaXRTdGF1c0h0bWxFbGVtKSB7XG4gICAgdmFyIHZhbCA9IGVkaXRTdGF1c0h0bWxFbGVtLnZhbCgpO1xuICAgIHJldHVybiBFZGl0VGFibGVWYWxpZGF0ZS5WYWxpZGF0ZSh2YWwsIHRlbXBsYXRlKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXHJcbiAqIENyZWF0ZWQgYnkgemh1YW5ncmIgb24gMjAxOC84LzE4LlxyXG4gKi9cbnZhciBFZGl0VGFibGVfU2VsZWN0Um93Q2hlY2tCb3ggPSB7XG4gIC8qXHJcbiAgIF9jb25maWc66YWN572u5a+56LGhXHJcbiAgIHRlbXBsYXRlOuW9k+WJjeaooeeJiFxyXG4gICBob3N0Q2VsbDrmiYDlpITnmoTljZXlhYPmoLxcclxuICAgaG9zdFJvdzrmiYDlpITnmoTliJdcclxuICAgaG9zdFRhYmxlOuaJgOWkhOeahOihqOagvFxyXG4gICB2aWV3U3RhdXNIdG1sRWxlbTrmtY/op4jnirbmgIHnmoRodG1s5YWD57SgXHJcbiAgIGpzb25EYXRhSXRlbTpqc29u5pWw5o2u5rqQXHJcbiAgICovXG4gIC8vIOe8lui+keaXtuaYvuekuueahOagh+etvlxuICBHZXRfRWRpdFN0YXR1c19IdG1sRWxlbTogZnVuY3Rpb24gR2V0X0VkaXRTdGF0dXNfSHRtbEVsZW0oX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIHZpZXdTdGF1c0h0bWxFbGVtLCBqc29uRGF0YXMsIGpzb25EYXRhU2luZ2xlKSB7XG4gICAgdmFyIHZhbCA9IFwiXCI7XG4gICAgdmFyIGJpbmRuYW1lID0gdGVtcGxhdGUuQmluZE5hbWU7XG5cbiAgICBpZiAoanNvbkRhdGFTaW5nbGUgIT0gbnVsbCAmJiBqc29uRGF0YVNpbmdsZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbCA9IGpzb25EYXRhU2luZ2xlW2JpbmRuYW1lXTtcbiAgICB9XG5cbiAgICBpZiAodmlld1N0YXVzSHRtbEVsZW0gIT0gbnVsbCAmJiB2aWV3U3RhdXNIdG1sRWxlbSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbCA9IHZpZXdTdGF1c0h0bWxFbGVtLmF0dHIoXCJWYWx1ZVwiKTtcbiAgICB9XG5cbiAgICB2YXIgJGVsZW0gPSAkKFwiPGlucHV0IElzU2VyaWFsaXplPSd0cnVlJyB0eXBlPSdjaGVja2JveCcgY2hlY2tlZD0nY2hlY2tlZCcgIEJpbmROYW1lPSdcIiArIHRlbXBsYXRlLkJpbmROYW1lICsgXCInIC8+XCIpO1xuICAgICRlbGVtLmF0dHIoXCJWYWx1ZVwiLCB2YWwpO1xuICAgIHJldHVybiAkZWxlbTtcbiAgfSxcbiAgLy/nvJbovpHlrozmiJDml7bmmL7npLrnmoTnirbmgIEg77yMIOaVsOaNruWIneWni+WMluaXtuiwg+eUqOaWueazlVxuICBHZXRfQ29tcGxldGVkU3RhdHVzX0h0bWxFbGVtOiBmdW5jdGlvbiBHZXRfQ29tcGxldGVkU3RhdHVzX0h0bWxFbGVtKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCBlZGl0U3RhdXNIdG1sRWxlbSkge1xuICAgIHZhciB2YWwgPSAkKGVkaXRTdGF1c0h0bWxFbGVtKS5hdHRyKFwiVmFsdWVcIik7XG4gICAgdmFyICRlbGVtID0gJChcIjxpbnB1dCBJc1NlcmlhbGl6ZT0ndHJ1ZScgdHlwZT0nY2hlY2tib3gnICBCaW5kTmFtZT0nXCIgKyB0ZW1wbGF0ZS5CaW5kTmFtZSArIFwiJyAvPlwiKTtcbiAgICAkZWxlbS5hdHRyKFwiVmFsdWVcIiwgdmFsKTtcbiAgICByZXR1cm4gJGVsZW07XG4gIH0sXG4gIC8v5YC85qCh6aqMXG4gIFZhbGlkYXRlVG9Db21wbGV0ZWRFbmFibGU6IGZ1bmN0aW9uIFZhbGlkYXRlVG9Db21wbGV0ZWRFbmFibGUoX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIGVkaXRTdGF1c0h0bWxFbGVtKSB7XG4gICAgdmFyIHZhbCA9IGVkaXRTdGF1c0h0bWxFbGVtLnZhbCgpO1xuICAgIHJldHVybiBFZGl0VGFibGVWYWxpZGF0ZS5WYWxpZGF0ZSh2YWwsIHRlbXBsYXRlKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXHJcbiAqIENyZWF0ZWQgYnkgemh1YW5ncmIgb24gMjAxOC84LzE4LlxyXG4gKi9cbnZhciBFZGl0VGFibGVfVGV4dEJveCA9IHtcbiAgLypcclxuICAgX2NvbmZpZzrphY3nva7lr7nosaFcclxuICAgdGVtcGxhdGU65b2T5YmN5qih54mIXHJcbiAgIGhvc3RDZWxsOuaJgOWkhOeahOWNleWFg+agvFxyXG4gICBob3N0Um93OuaJgOWkhOeahOWIl1xyXG4gICBob3N0VGFibGU65omA5aSE55qE6KGo5qC8XHJcbiAgIHZpZXdTdGF1c0h0bWxFbGVtOua1j+iniOeKtuaAgeeahGh0bWzlhYPntKBcclxuICAganNvbkRhdGFJdGVtOmpzb27mlbDmja7mupBcclxuICAgKi9cbiAgR2V0X0VkaXRTdGF0dXNfSHRtbEVsZW06IGZ1bmN0aW9uIEdldF9FZGl0U3RhdHVzX0h0bWxFbGVtKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCB2aWV3U3RhdXNIdG1sRWxlbSwganNvbkRhdGFzLCBqc29uRGF0YVNpbmdsZSkge1xuICAgIHZhciB2YWwgPSBcIlwiO1xuICAgIHZhciBiaW5kbmFtZSA9IHRlbXBsYXRlLkJpbmROYW1lO1xuXG4gICAgaWYgKHRlbXBsYXRlLkRlZmF1bHRWYWx1ZSAhPSB1bmRlZmluZWQgJiYgdGVtcGxhdGUuRGVmYXVsdFZhbHVlICE9IG51bGwpIHtcbiAgICAgIHZhciB2YWwgPSBFZGl0VGFibGVEZWZhdWxlVmFsdWUuR2V0VmFsdWUodGVtcGxhdGUpO1xuICAgIH1cblxuICAgIGlmIChqc29uRGF0YVNpbmdsZSAhPSBudWxsICYmIGpzb25EYXRhU2luZ2xlICE9IHVuZGVmaW5lZCkge1xuICAgICAgdmFsID0ganNvbkRhdGFTaW5nbGVbYmluZG5hbWVdO1xuICAgIH1cblxuICAgIGlmICh2aWV3U3RhdXNIdG1sRWxlbSAhPSBudWxsICYmIHZpZXdTdGF1c0h0bWxFbGVtICE9IHVuZGVmaW5lZCkge1xuICAgICAgdmFsID0gdmlld1N0YXVzSHRtbEVsZW0uaHRtbCgpO1xuICAgIH1cblxuICAgIHZhciAkZWxlbSA9ICQoXCI8aW5wdXQgdHlwZT0ndGV4dCcgSXNTZXJpYWxpemU9J3RydWUnIHN0eWxlPSd3aWR0aDogOTglJyAvPlwiKTtcbiAgICAkZWxlbS52YWwodmFsKTtcbiAgICByZXR1cm4gJGVsZW07XG4gIH0sXG4gIEdldF9Db21wbGV0ZWRTdGF0dXNfSHRtbEVsZW06IGZ1bmN0aW9uIEdldF9Db21wbGV0ZWRTdGF0dXNfSHRtbEVsZW0oX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIGVkaXRTdGF1c0h0bWxFbGVtKSB7XG4gICAgdmFyIHZhbCA9IGVkaXRTdGF1c0h0bWxFbGVtLnZhbCgpO1xuICAgIHZhciAkZWxlbSA9ICQoXCI8bGFiZWwgSXNTZXJpYWxpemU9J3RydWUnIEJpbmROYW1lPSdcIiArIHRlbXBsYXRlLkJpbmROYW1lICsgXCInIFZhbHVlPSdcIiArIHZhbCArIFwiJz5cIiArIHZhbCArIFwiPC9sYWJlbD5cIik7XG4gICAgcmV0dXJuICRlbGVtO1xuICB9LFxuICBWYWxpZGF0ZVRvQ29tcGxldGVkRW5hYmxlOiBmdW5jdGlvbiBWYWxpZGF0ZVRvQ29tcGxldGVkRW5hYmxlKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCBlZGl0U3RhdXNIdG1sRWxlbSkge1xuICAgIHZhciB2YWwgPSBlZGl0U3RhdXNIdG1sRWxlbS52YWwoKTsgLy8g5piv5ZCm5pyJ6Ieq5a6a5LmJ5qCh6aqM5pa55rOVXG5cbiAgICBpZiAodHlwZW9mIHRlbXBsYXRlLlZhbGlkYXRlICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB0ZW1wbGF0ZS5WYWxpZGF0ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICBTdWNjZXNzOiB0cnVlLFxuICAgICAgICBNc2c6IG51bGxcbiAgICAgIH07XG4gICAgICByZXN1bHQuU3VjY2VzcyA9IHRlbXBsYXRlLlZhbGlkYXRlKCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gRWRpdFRhYmxlVmFsaWRhdGUuVmFsaWRhdGUodmFsLCB0ZW1wbGF0ZSk7XG4gICAgfVxuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcclxuICogQ3JlYXRlZCBieSB6aHVhbmdyYiBvbiAyMDE4LzExLzA1LlxyXG4gKi9cbnZhciBDb2x1bW5fU2VsZWN0RGVmYXVsdFZhbHVlID0ge1xuICAvKlxyXG4gICBfY29uZmlnOumFjee9ruWvueixoVxyXG4gICB0ZW1wbGF0ZTrlvZPliY3mqKHniYhcclxuICAgaG9zdENlbGw65omA5aSE55qE5Y2V5YWD5qC8XHJcbiAgIGhvc3RSb3c65omA5aSE55qE5YiXXHJcbiAgIGhvc3RUYWJsZTrmiYDlpITnmoTooajmoLxcclxuICAgdmlld1N0YXVzSHRtbEVsZW065rWP6KeI54q25oCB55qEaHRtbOWFg+e0oFxyXG4gICBqc29uRGF0YUl0ZW06anNvbuaVsOaNrua6kFxyXG4gICAqL1xuICBHZXRfRWRpdFN0YXR1c19IdG1sRWxlbTogZnVuY3Rpb24gR2V0X0VkaXRTdGF0dXNfSHRtbEVsZW0oX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIHZpZXdTdGF1c0h0bWxFbGVtLCBqc29uRGF0YXMsIGpzb25EYXRhU2luZ2xlKSB7XG4gICAgLypcclxuICAgIGlmKChqc29uRGF0YVNpbmdsZT09bnVsbCB8fCBqc29uRGF0YVNpbmdsZT09dW5kZWZpbmVkKVxyXG4gICAgICAgICYmICh2aWV3U3RhdXNIdG1sRWxlbSA9PSBudWxsIHx8IHZpZXdTdGF1c0h0bWxFbGVtPT11bmRlZmluZWQpKXtcclxuICAgICAgICBkZWZhdWx0VHlwZSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgZGVmYXVsdFRleHQgPSBcIuaXoFwiO1xyXG4gICAgfSovXG4gICAgLy9kZWJ1Z2dlclxuICAgIHZhciBkZWZhdWx0VHlwZSA9IFwiXCI7IC8v6buY6K6k5YC857G75Z6LXG5cbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gXCJcIjsgLy/pu5jorqTlgLxcblxuICAgIHZhciBkZWZhdWx0VGV4dCA9IFwiXCI7IC8v6buY6K6k5YC85paH5pysXG5cbiAgICBpZiAoanNvbkRhdGFTaW5nbGUgIT0gbnVsbCAmJiBqc29uRGF0YVNpbmdsZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGRlZmF1bHRUeXBlID0ganNvbkRhdGFTaW5nbGVbXCJjb2x1bW5EZWZhdWx0VHlwZVwiXSA/IGpzb25EYXRhU2luZ2xlW1wiY29sdW1uRGVmYXVsdFR5cGVcIl0gOiBcIlwiO1xuICAgICAgZGVmYXVsdFZhbHVlID0ganNvbkRhdGFTaW5nbGVbXCJjb2x1bW5EZWZhdWx0VmFsdWVcIl0gPyBqc29uRGF0YVNpbmdsZVtcImNvbHVtbkRlZmF1bHRWYWx1ZVwiXSA6IFwiXCI7XG4gICAgICBkZWZhdWx0VGV4dCA9IGpzb25EYXRhU2luZ2xlW1wiY29sdW1uRGVmYXVsdFRleHRcIl0gPyBqc29uRGF0YVNpbmdsZVtcImNvbHVtbkRlZmF1bHRUZXh0XCJdIDogXCJcIjtcbiAgICB9XG5cbiAgICBpZiAodmlld1N0YXVzSHRtbEVsZW0gIT0gbnVsbCAmJiB2aWV3U3RhdXNIdG1sRWxlbSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHZpZXdTdGF1c0h0bWxFbGVtLmZpbmQoXCJsYWJlbFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9kZWJ1Z2dlcjtcbiAgICAgICAgaWYgKCQodGhpcykuYXR0cihcIkJpbmROYW1lXCIpID09IFwiY29sdW1uRGVmYXVsdFR5cGVcIikge1xuICAgICAgICAgIGRlZmF1bHRUeXBlID0gJCh0aGlzKS5hdHRyKFwiVmFsdWVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5hdHRyKFwiQmluZE5hbWVcIikgPT0gXCJjb2x1bW5EZWZhdWx0VGV4dFwiKSB7XG4gICAgICAgICAgZGVmYXVsdFRleHQgPSAkKHRoaXMpLmF0dHIoXCJWYWx1ZVwiKTtcbiAgICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLmF0dHIoXCJCaW5kTmFtZVwiKSA9PSBcImNvbHVtbkRlZmF1bHRWYWx1ZVwiKSB7XG4gICAgICAgICAgZGVmYXVsdFZhbHVlID0gJCh0aGlzKS5hdHRyKFwiVmFsdWVcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciAkZWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcbiAgICB2YXIgJGlucHV0VHh0ID0gJChcIjxpbnB1dCB0eXBlPSd0ZXh0JyBzdHlsZT0nd2lkdGg6IDkwJScgcmVhZG9ubHkgLz5cIik7XG4gICAgJGlucHV0VHh0LmF0dHIoXCJjb2x1bW5EZWZhdWx0VHlwZVwiLCBkZWZhdWx0VHlwZSk7XG4gICAgJGlucHV0VHh0LmF0dHIoXCJjb2x1bW5EZWZhdWx0VmFsdWVcIiwgZGVmYXVsdFZhbHVlKTtcbiAgICAkaW5wdXRUeHQuYXR0cihcImNvbHVtbkRlZmF1bHRUZXh0XCIsIGRlZmF1bHRUZXh0KTtcbiAgICAkaW5wdXRUeHQudmFsKEpCdWlsZDREU2VsZWN0Vmlldy5TZWxlY3RFbnZWYXJpYWJsZS5mb3JtYXRUZXh0KGRlZmF1bHRUeXBlLCBkZWZhdWx0VGV4dCkpO1xuICAgIHZhciAkaW5wdXRCdG4gPSAkKFwiPGlucHV0IGNsYXNzPSdub3JtYWxidXR0b24tdjEnIHN0eWxlPSdtYXJnaW4tbGVmdDogNHB4OycgdHlwZT0nYnV0dG9uJyB2YWx1ZT0nLi4uJy8+XCIpO1xuICAgICRlbGVtLmFwcGVuZCgkaW5wdXRUeHQpLmFwcGVuZCgkaW5wdXRCdG4pOyAvL+WwhmlucHV0dGV4dOWvueixoemZhOWKoOWIsHdpbmRvd+S4iizmj5Dkvpvnu5nlkI7nu63nmoTorr7nva7lgLznmoTmlrnms5UuXG5cbiAgICB3aW5kb3cuJFRlbXAkSW5wdXR0eHQgPSAkaW5wdXRUeHQ7XG4gICAgJGlucHV0QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIEpCdWlsZDREU2VsZWN0Vmlldy5TZWxlY3RFbnZWYXJpYWJsZS5iZWdpblNlbGVjdChcIkNvbHVtbl9TZWxlY3REZWZhdWx0VmFsdWVcIik7XG4gICAgfSk7XG4gICAgcmV0dXJuICRlbGVtO1xuICB9LFxuICBHZXRfQ29tcGxldGVkU3RhdHVzX0h0bWxFbGVtOiBmdW5jdGlvbiBHZXRfQ29tcGxldGVkU3RhdHVzX0h0bWxFbGVtKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCBlZGl0U3RhdXNIdG1sRWxlbSkge1xuICAgIHZhciAkaW5wdXRUeHQgPSBlZGl0U3RhdXNIdG1sRWxlbS5maW5kKFwiaW5wdXRbdHlwZT0ndGV4dCddXCIpO1xuXG4gICAgaWYgKCRpbnB1dFR4dC5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgZGVmYXVsdFR5cGUgPSAkaW5wdXRUeHQuYXR0cihcImNvbHVtbkRlZmF1bHRUeXBlXCIpO1xuICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9ICRpbnB1dFR4dC5hdHRyKFwiY29sdW1uRGVmYXVsdFZhbHVlXCIpO1xuICAgICAgdmFyIGRlZmF1bHRUZXh0ID0gJGlucHV0VHh0LmF0dHIoXCJjb2x1bW5EZWZhdWx0VGV4dFwiKTtcbiAgICAgIHZhciAkZWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTsgLy/kuIDmrKHlj6rog73ov5Tlm57kuIDkuKrmoIfnrb7lr7nosaFcblxuICAgICAgJGVsZW0uYXBwZW5kKFwiPGxhYmVsPlwiICsgSkJ1aWxkNERTZWxlY3RWaWV3LlNlbGVjdEVudlZhcmlhYmxlLmZvcm1hdFRleHQoZGVmYXVsdFR5cGUsIGRlZmF1bHRUZXh0KSArIFwiPC9sYWJlbD5cIik7XG4gICAgICAkZWxlbS5hcHBlbmQoXCI8bGFiZWwgSXNTZXJpYWxpemU9J3RydWUnIEJpbmROYW1lPSdjb2x1bW5EZWZhdWx0VHlwZScgVmFsdWU9J1wiICsgZGVmYXVsdFR5cGUgKyBcIicgc3R5bGU9J2Rpc3BsYXk6bm9uZScvPlwiKTtcbiAgICAgICRlbGVtLmFwcGVuZChcIjxsYWJlbCBJc1NlcmlhbGl6ZT0ndHJ1ZScgQmluZE5hbWU9J2NvbHVtbkRlZmF1bHRUZXh0JyBWYWx1ZT0nXCIgKyBkZWZhdWx0VGV4dCArIFwiJyBzdHlsZT0nZGlzcGxheTpub25lJy8+XCIpO1xuICAgICAgJGVsZW0uYXBwZW5kKFwiPGxhYmVsIElzU2VyaWFsaXplPSd0cnVlJyBCaW5kTmFtZT0nY29sdW1uRGVmYXVsdFZhbHVlJyBWYWx1ZT0nXCIgKyBkZWZhdWx0VmFsdWUgKyBcIicgc3R5bGU9J2Rpc3BsYXk6bm9uZScvPlwiKTtcbiAgICAgIHJldHVybiAkZWxlbTtcbiAgICB9XG5cbiAgICByZXR1cm4gJChcIjxsYWJlbD48L2xhYmVsPlwiKTtcbiAgfSxcbiAgVmFsaWRhdGVUb0NvbXBsZXRlZEVuYWJsZTogZnVuY3Rpb24gVmFsaWRhdGVUb0NvbXBsZXRlZEVuYWJsZShfY29uZmlnLCB0ZW1wbGF0ZSwgaG9zdENlbGwsIGhvc3RSb3csIGhvc3RUYWJsZSwgZWRpdFN0YXVzSHRtbEVsZW0pIHtcbiAgICB2YXIgdmFsID0gZWRpdFN0YXVzSHRtbEVsZW0udmFsKCk7XG4gICAgcmV0dXJuIEVkaXRUYWJsZVZhbGlkYXRlLlZhbGlkYXRlKHZhbCwgdGVtcGxhdGUpO1xuICB9LFxuICBzZXRTZWxlY3RFbnZWYXJpYWJsZVJlc3VsdFZhbHVlOiBmdW5jdGlvbiBzZXRTZWxlY3RFbnZWYXJpYWJsZVJlc3VsdFZhbHVlKGRlZmF1bHREYXRhKSB7XG4gICAgdmFyICRpbnB1dFR4dCA9IHdpbmRvdy4kVGVtcCRJbnB1dHR4dDtcblxuICAgIGlmIChudWxsICE9IGRlZmF1bHREYXRhKSB7XG4gICAgICAkaW5wdXRUeHQuYXR0cihcImNvbHVtbkRlZmF1bHRUeXBlXCIsIGRlZmF1bHREYXRhLlR5cGUpO1xuICAgICAgJGlucHV0VHh0LmF0dHIoXCJjb2x1bW5EZWZhdWx0VmFsdWVcIiwgZGVmYXVsdERhdGEuVmFsdWUpO1xuICAgICAgJGlucHV0VHh0LmF0dHIoXCJjb2x1bW5EZWZhdWx0VGV4dFwiLCBkZWZhdWx0RGF0YS5UZXh0KTtcbiAgICAgICRpbnB1dFR4dC52YWwoSkJ1aWxkNERTZWxlY3RWaWV3LlNlbGVjdEVudlZhcmlhYmxlLmZvcm1hdFRleHQoZGVmYXVsdERhdGEuVHlwZSwgZGVmYXVsdERhdGEuVGV4dCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkaW5wdXRUeHQuYXR0cihcImNvbHVtbkRlZmF1bHRUeXBlXCIsIFwiXCIpO1xuICAgICAgJGlucHV0VHh0LmF0dHIoXCJjb2x1bW5EZWZhdWx0VmFsdWVcIiwgXCJcIik7XG4gICAgICAkaW5wdXRUeHQuYXR0cihcImNvbHVtbkRlZmF1bHRUZXh0XCIsIFwiXCIpO1xuICAgICAgJGlucHV0VHh0LnZhbChcIlwiKTtcbiAgICB9IC8vY29uc29sZS5sb2codmFsdWUpO1xuXG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHpodWFuZ3JiIG9uIDIwMTgvOC8xOC5cclxuICovXG52YXIgRWRpdFRhYmxlX0ZpZWxkTmFtZSA9IHtcbiAgLypcclxuICAgX2NvbmZpZzrphY3nva7lr7nosaFcclxuICAgdGVtcGxhdGU65b2T5YmN5qih54mIXHJcbiAgIGhvc3RDZWxsOuaJgOWkhOeahOWNleWFg+agvFxyXG4gICBob3N0Um93OuaJgOWkhOeahOWIl1xyXG4gICBob3N0VGFibGU65omA5aSE55qE6KGo5qC8XHJcbiAgIHZpZXdTdGF1c0h0bWxFbGVtOua1j+iniOeKtuaAgeeahGh0bWzlhYPntKBcclxuICAganNvbkRhdGFJdGVtOmpzb27mlbDmja7mupBcclxuICAgKi9cbiAgR2V0X0VkaXRTdGF0dXNfSHRtbEVsZW06IGZ1bmN0aW9uIEdldF9FZGl0U3RhdHVzX0h0bWxFbGVtKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCB2aWV3U3RhdXNIdG1sRWxlbSwganNvbkRhdGFzLCBqc29uRGF0YVNpbmdsZSkge1xuICAgIHZhciB2YWwgPSBcIlwiO1xuICAgIHZhciBiaW5kbmFtZSA9IHRlbXBsYXRlLkJpbmROYW1lO1xuXG4gICAgaWYgKHRlbXBsYXRlLkRlZmF1bHRWYWx1ZSAhPSB1bmRlZmluZWQgJiYgdGVtcGxhdGUuRGVmYXVsdFZhbHVlICE9IG51bGwpIHtcbiAgICAgIHZhciB2YWwgPSBFZGl0VGFibGVEZWZhdWxlVmFsdWUuR2V0VmFsdWUodGVtcGxhdGUpO1xuICAgIH1cblxuICAgIGlmIChqc29uRGF0YVNpbmdsZSAhPSBudWxsICYmIGpzb25EYXRhU2luZ2xlICE9IHVuZGVmaW5lZCkge1xuICAgICAgdmFsID0ganNvbkRhdGFTaW5nbGVbYmluZG5hbWVdO1xuICAgIH1cblxuICAgIGlmICh2aWV3U3RhdXNIdG1sRWxlbSAhPSBudWxsICYmIHZpZXdTdGF1c0h0bWxFbGVtICE9IHVuZGVmaW5lZCkge1xuICAgICAgdmFsID0gdmlld1N0YXVzSHRtbEVsZW0uaHRtbCgpO1xuICAgIH1cblxuICAgIHZhciAkZWxlbSA9ICQoXCI8aW5wdXQgdHlwZT0ndGV4dCcgc3R5bGU9J3dpZHRoOiA5OCUnIC8+XCIpO1xuICAgICRlbGVtLnZhbCh2YWwpO1xuICAgICRlbGVtLmF0dHIoXCJCaW5kTmFtZVwiLCB0ZW1wbGF0ZS5CaW5kTmFtZSk7XG4gICAgJGVsZW0uYXR0cihcIlZhbFwiLCB2YWwpO1xuICAgICRlbGVtLmF0dHIoXCJJc1NlcmlhbGl6ZVwiLCBcInRydWVcIik7XG4gICAgcmV0dXJuICRlbGVtO1xuICB9LFxuICBHZXRfQ29tcGxldGVkU3RhdHVzX0h0bWxFbGVtOiBmdW5jdGlvbiBHZXRfQ29tcGxldGVkU3RhdHVzX0h0bWxFbGVtKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCBlZGl0U3RhdXNIdG1sRWxlbSkge1xuICAgIHZhciB2YWwgPSBlZGl0U3RhdXNIdG1sRWxlbS52YWwoKS50b1VwcGVyQ2FzZSgpO1xuICAgIHZhciAkZWxlbSA9ICQoXCI8bGFiZWwgSXNTZXJpYWxpemU9J3RydWUnIEJpbmROYW1lPSdcIiArIHRlbXBsYXRlLkJpbmROYW1lICsgXCInIFZhbHVlPSdcIiArIHZhbCArIFwiJz5cIiArIHZhbCArIFwiPC9sYWJlbD5cIik7XG4gICAgcmV0dXJuICRlbGVtO1xuICB9LFxuICBWYWxpZGF0ZVRvQ29tcGxldGVkRW5hYmxlOiBmdW5jdGlvbiBWYWxpZGF0ZVRvQ29tcGxldGVkRW5hYmxlKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCBlZGl0U3RhdXNIdG1sRWxlbSkge1xuICAgIHZhciB2YWwgPSBlZGl0U3RhdXNIdG1sRWxlbS52YWwoKTtcbiAgICB2YXIgcmVzdWx0ID0gRWRpdFRhYmxlVmFsaWRhdGUuVmFsaWRhdGUodmFsLCB0ZW1wbGF0ZSk7XG5cbiAgICBpZiAocmVzdWx0LlN1Y2Nlc3MpIHtcbiAgICAgIGhvc3RUYWJsZS5maW5kKFwiW3JlbmRlcmVyPUVkaXRUYWJsZV9GaWVsZE5hbWVdXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VyaXRlbSA9ICQodGhpcyk7XG4gICAgICAgIHNlcml0ZW0uZmluZChcImxhYmVsXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBsYWJlbGl0ZW0gPSAkKHRoaXMpO1xuXG4gICAgICAgICAgaWYgKGxhYmVsaXRlbS50ZXh0KCkgPT0gdmFsIHx8IGxhYmVsaXRlbS50ZXh0KCkgPT0gdmFsLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgU3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgIE1zZzogXCJb5a2X5q615ZCN56ewXeS4jeiDvemHjeWkjSFcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXHJcbiAqIENyZWF0ZWQgYnkgemh1YW5ncmIgb24gMjAxOC84LzE4LlxyXG4gKi9cbnZhciBFZGl0VGFibGVfU2VsZWN0RGVmYXVsdFZhbHVlID0ge1xuICAvKlxyXG4gICBfY29uZmlnOumFjee9ruWvueixoVxyXG4gICB0ZW1wbGF0ZTrlvZPliY3mqKHniYhcclxuICAgaG9zdENlbGw65omA5aSE55qE5Y2V5YWD5qC8XHJcbiAgIGhvc3RSb3c65omA5aSE55qE5YiXXHJcbiAgIGhvc3RUYWJsZTrmiYDlpITnmoTooajmoLxcclxuICAgdmlld1N0YXVzSHRtbEVsZW065rWP6KeI54q25oCB55qEaHRtbOWFg+e0oFxyXG4gICBqc29uRGF0YUl0ZW06anNvbuaVsOaNrua6kFxyXG4gICAqL1xuICBHZXRfRWRpdFN0YXR1c19IdG1sRWxlbTogZnVuY3Rpb24gR2V0X0VkaXRTdGF0dXNfSHRtbEVsZW0oX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIHZpZXdTdGF1c0h0bWxFbGVtLCBqc29uRGF0YXMsIGpzb25EYXRhU2luZ2xlKSB7XG4gICAgLypcclxuICAgIGlmKChqc29uRGF0YVNpbmdsZT09bnVsbCB8fCBqc29uRGF0YVNpbmdsZT09dW5kZWZpbmVkKVxyXG4gICAgICAgICYmICh2aWV3U3RhdXNIdG1sRWxlbSA9PSBudWxsIHx8IHZpZXdTdGF1c0h0bWxFbGVtPT11bmRlZmluZWQpKXtcclxuICAgICAgICBkZWZhdWx0VHlwZSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgZGVmYXVsdFRleHQgPSBcIuaXoFwiO1xyXG4gICAgfSovXG4gICAgLy9kZWJ1Z2dlclxuICAgIHZhciBmaWVsZERlZmF1bHRUeXBlID0gXCJcIjsgLy/pu5jorqTlgLznsbvlnotcblxuICAgIHZhciBmaWVsZERlZmF1bHRWYWx1ZSA9IFwiXCI7IC8v6buY6K6k5YC8XG5cbiAgICB2YXIgZmllbGREZWZhdWx0VGV4dCA9IFwiXCI7IC8v6buY6K6k5YC85paH5pysXG5cbiAgICBpZiAoanNvbkRhdGFTaW5nbGUgIT0gbnVsbCAmJiBqc29uRGF0YVNpbmdsZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGZpZWxkRGVmYXVsdFR5cGUgPSBqc29uRGF0YVNpbmdsZVtcImZpZWxkRGVmYXVsdFR5cGVcIl0gPyBqc29uRGF0YVNpbmdsZVtcImZpZWxkRGVmYXVsdFR5cGVcIl0gOiBcIlwiO1xuICAgICAgZmllbGREZWZhdWx0VmFsdWUgPSBqc29uRGF0YVNpbmdsZVtcImZpZWxkRGVmYXVsdFZhbHVlXCJdID8ganNvbkRhdGFTaW5nbGVbXCJmaWVsZERlZmF1bHRWYWx1ZVwiXSA6IFwiXCI7XG4gICAgICBmaWVsZERlZmF1bHRUZXh0ID0ganNvbkRhdGFTaW5nbGVbXCJmaWVsZERlZmF1bHRUZXh0XCJdID8ganNvbkRhdGFTaW5nbGVbXCJmaWVsZERlZmF1bHRUZXh0XCJdIDogXCJcIjtcbiAgICB9XG5cbiAgICBpZiAodmlld1N0YXVzSHRtbEVsZW0gIT0gbnVsbCAmJiB2aWV3U3RhdXNIdG1sRWxlbSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHZpZXdTdGF1c0h0bWxFbGVtLmZpbmQoXCJsYWJlbFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9kZWJ1Z2dlcjtcbiAgICAgICAgaWYgKCQodGhpcykuYXR0cihcIkJpbmROYW1lXCIpID09IFwiZmllbGREZWZhdWx0VHlwZVwiKSB7XG4gICAgICAgICAgZmllbGREZWZhdWx0VHlwZSA9ICQodGhpcykuYXR0cihcIlZhbHVlXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKCQodGhpcykuYXR0cihcIkJpbmROYW1lXCIpID09IFwiZmllbGREZWZhdWx0VGV4dFwiKSB7XG4gICAgICAgICAgZmllbGREZWZhdWx0VGV4dCA9ICQodGhpcykuYXR0cihcIlZhbHVlXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKCQodGhpcykuYXR0cihcIkJpbmROYW1lXCIpID09IFwiZmllbGREZWZhdWx0VmFsdWVcIikge1xuICAgICAgICAgIGZpZWxkRGVmYXVsdFZhbHVlID0gJCh0aGlzKS5hdHRyKFwiVmFsdWVcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciAkZWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcbiAgICB2YXIgJGlucHV0VHh0ID0gJChcIjxpbnB1dCB0eXBlPSd0ZXh0JyBzdHlsZT0nd2lkdGg6IDkwJScgcmVhZG9ubHkgLz5cIik7XG4gICAgJGlucHV0VHh0LmF0dHIoXCJmaWVsZERlZmF1bHRUeXBlXCIsIGZpZWxkRGVmYXVsdFR5cGUpO1xuICAgICRpbnB1dFR4dC5hdHRyKFwiZmllbGREZWZhdWx0VmFsdWVcIiwgZmllbGREZWZhdWx0VmFsdWUpO1xuICAgICRpbnB1dFR4dC5hdHRyKFwiZmllbGREZWZhdWx0VGV4dFwiLCBmaWVsZERlZmF1bHRUZXh0KTtcbiAgICAkaW5wdXRUeHQudmFsKEpCdWlsZDREU2VsZWN0Vmlldy5TZWxlY3RFbnZWYXJpYWJsZS5mb3JtYXRUZXh0KGZpZWxkRGVmYXVsdFR5cGUsIGZpZWxkRGVmYXVsdFRleHQpKTtcbiAgICB2YXIgJGlucHV0QnRuID0gJChcIjxpbnB1dCBjbGFzcz0nbm9ybWFsYnV0dG9uLXYxJyBzdHlsZT0nbWFyZ2luLWxlZnQ6IDRweDsnIHR5cGU9J2J1dHRvbicgdmFsdWU9Jy4uLicvPlwiKTtcbiAgICAkZWxlbS5hcHBlbmQoJGlucHV0VHh0KS5hcHBlbmQoJGlucHV0QnRuKTsgLy/lsIZpbnB1dHRleHTlr7nosaHpmYTliqDliLB3aW5kb3fkuIos5o+Q5L6b57uZ5ZCO57ut55qE6K6+572u5YC855qE5pa55rOVLlxuXG4gICAgd2luZG93LiRUZW1wJElucHV0dHh0ID0gJGlucHV0VHh0O1xuICAgICRpbnB1dEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICBKQnVpbGQ0RFNlbGVjdFZpZXcuU2VsZWN0RW52VmFyaWFibGUuYmVnaW5TZWxlY3QoXCJFZGl0VGFibGVfU2VsZWN0RGVmYXVsdFZhbHVlXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiAkZWxlbTtcbiAgfSxcbiAgR2V0X0NvbXBsZXRlZFN0YXR1c19IdG1sRWxlbTogZnVuY3Rpb24gR2V0X0NvbXBsZXRlZFN0YXR1c19IdG1sRWxlbShfY29uZmlnLCB0ZW1wbGF0ZSwgaG9zdENlbGwsIGhvc3RSb3csIGhvc3RUYWJsZSwgZWRpdFN0YXVzSHRtbEVsZW0pIHtcbiAgICB2YXIgJGlucHV0VHh0ID0gZWRpdFN0YXVzSHRtbEVsZW0uZmluZChcImlucHV0W3R5cGU9J3RleHQnXVwiKTtcblxuICAgIGlmICgkaW5wdXRUeHQubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGRlZmF1bHRUeXBlID0gJGlucHV0VHh0LmF0dHIoXCJmaWVsZERlZmF1bHRUeXBlXCIpO1xuICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9ICRpbnB1dFR4dC5hdHRyKFwiZmllbGREZWZhdWx0VmFsdWVcIik7XG4gICAgICB2YXIgZGVmYXVsdFRleHQgPSAkaW5wdXRUeHQuYXR0cihcImZpZWxkRGVmYXVsdFRleHRcIik7XG4gICAgICB2YXIgJGVsZW0gPSAkKFwiPGRpdj48L2Rpdj5cIik7IC8v5LiA5qyh5Y+q6IO96L+U5Zue5LiA5Liq5qCH562+5a+56LGhXG5cbiAgICAgICRlbGVtLmFwcGVuZChcIjxsYWJlbD5cIiArIEpCdWlsZDREU2VsZWN0Vmlldy5TZWxlY3RFbnZWYXJpYWJsZS5mb3JtYXRUZXh0KGRlZmF1bHRUeXBlLCBkZWZhdWx0VGV4dCkgKyBcIjwvbGFiZWw+XCIpO1xuICAgICAgJGVsZW0uYXBwZW5kKFwiPGxhYmVsIElzU2VyaWFsaXplPSd0cnVlJyBCaW5kTmFtZT0nZmllbGREZWZhdWx0VHlwZScgVmFsdWU9J1wiICsgZGVmYXVsdFR5cGUgKyBcIicgc3R5bGU9J2Rpc3BsYXk6bm9uZScvPlwiKTtcbiAgICAgICRlbGVtLmFwcGVuZChcIjxsYWJlbCBJc1NlcmlhbGl6ZT0ndHJ1ZScgQmluZE5hbWU9J2ZpZWxkRGVmYXVsdFRleHQnIFZhbHVlPSdcIiArIGRlZmF1bHRUZXh0ICsgXCInIHN0eWxlPSdkaXNwbGF5Om5vbmUnLz5cIik7XG4gICAgICAkZWxlbS5hcHBlbmQoXCI8bGFiZWwgSXNTZXJpYWxpemU9J3RydWUnIEJpbmROYW1lPSdmaWVsZERlZmF1bHRWYWx1ZScgVmFsdWU9J1wiICsgZGVmYXVsdFZhbHVlICsgXCInIHN0eWxlPSdkaXNwbGF5Om5vbmUnLz5cIik7XG4gICAgICByZXR1cm4gJGVsZW07XG4gICAgfVxuXG4gICAgcmV0dXJuICQoXCI8bGFiZWw+PC9sYWJlbD5cIik7XG4gIH0sXG4gIFZhbGlkYXRlVG9Db21wbGV0ZWRFbmFibGU6IGZ1bmN0aW9uIFZhbGlkYXRlVG9Db21wbGV0ZWRFbmFibGUoX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIGVkaXRTdGF1c0h0bWxFbGVtKSB7XG4gICAgdmFyIHZhbCA9IGVkaXRTdGF1c0h0bWxFbGVtLnZhbCgpO1xuICAgIHJldHVybiBFZGl0VGFibGVWYWxpZGF0ZS5WYWxpZGF0ZSh2YWwsIHRlbXBsYXRlKTtcbiAgfSxcbiAgc2V0U2VsZWN0RW52VmFyaWFibGVSZXN1bHRWYWx1ZTogZnVuY3Rpb24gc2V0U2VsZWN0RW52VmFyaWFibGVSZXN1bHRWYWx1ZShkZWZhdWx0RGF0YSkge1xuICAgIHZhciAkaW5wdXRUeHQgPSB3aW5kb3cuJFRlbXAkSW5wdXR0eHQ7XG5cbiAgICBpZiAobnVsbCAhPSBkZWZhdWx0RGF0YSkge1xuICAgICAgJGlucHV0VHh0LmF0dHIoXCJmaWVsZERlZmF1bHRUeXBlXCIsIGRlZmF1bHREYXRhLlR5cGUpO1xuICAgICAgJGlucHV0VHh0LmF0dHIoXCJmaWVsZERlZmF1bHRWYWx1ZVwiLCBkZWZhdWx0RGF0YS5WYWx1ZSk7XG4gICAgICAkaW5wdXRUeHQuYXR0cihcImZpZWxkRGVmYXVsdFRleHRcIiwgZGVmYXVsdERhdGEuVGV4dCk7XG4gICAgICAkaW5wdXRUeHQudmFsKEpCdWlsZDREU2VsZWN0Vmlldy5TZWxlY3RFbnZWYXJpYWJsZS5mb3JtYXRUZXh0KGRlZmF1bHREYXRhLlR5cGUsIGRlZmF1bHREYXRhLlRleHQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGlucHV0VHh0LmF0dHIoXCJmaWVsZERlZmF1bHRUeXBlXCIsIFwiXCIpO1xuICAgICAgJGlucHV0VHh0LmF0dHIoXCJmaWVsZERlZmF1bHRWYWx1ZVwiLCBcIlwiKTtcbiAgICAgICRpbnB1dFR4dC5hdHRyKFwiZmllbGREZWZhdWx0VGV4dFwiLCBcIlwiKTtcbiAgICAgICRpbnB1dFR4dC52YWwoXCJcIik7XG4gICAgfSAvL2NvbnNvbGUubG9nKHZhbHVlKTtcblxuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcclxuICogQ3JlYXRlZCBieSB6aHVhbmdyYiBvbiAyMDE4LzcvMzEuXHJcbiAqL1xudmFyIEVkaXRUYWJsZV9TZWxlY3RGaWVsZFR5cGVEYXRhTG9hZGVyID0ge1xuICBfZmllbGREYXRhVHlwZUFycmF5OiBudWxsLFxuICBHZXRGaWVsZERhdGFUeXBlQXJyYXk6IGZ1bmN0aW9uIEdldEZpZWxkRGF0YVR5cGVBcnJheSgpIHtcbiAgICAvL2FsZXJ0KHRoaXMuX2ZpZWxkRGF0YVR5cGVIYXNNYXApO1xuICAgIGlmICh0aGlzLl9maWVsZERhdGFUeXBlQXJyYXkgPT0gbnVsbCkge1xuICAgICAgdmFyIF9zZWxmID0gdGhpcztcblxuICAgICAgQWpheFV0aWxpdHkuUG9zdFN5bmMoXCIvUGxhdEZvcm0vQnVpbGRlci9EYXRhU3RvcmFnZS9EYXRhQmFzZS9UYWJsZS9HZXRUYWJsZUZpZWxkVHlwZS5kb1wiLCB7fSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgLy9kZWJ1Z2dlcjtcbiAgICAgICAgaWYgKGRhdGEuc3VjY2VzcyA9PSB0cnVlKSB7XG4gICAgICAgICAgdmFyIGxpc3QgPSBKc29uVXRpbGl0eS5TdHJpbmdUb0pzb24oZGF0YS5kYXRhKTtcblxuICAgICAgICAgIGlmIChsaXN0ICE9IG51bGwgJiYgbGlzdCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF9zZWxmLl9maWVsZERhdGFUeXBlQXJyYXkgPSBsaXN0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBEaWFsb2dVdGlsaXR5LkFsZXJ0KHdpbmRvdywgXCJBbGVydExvYWRpbmdRdWVyeUVycm9yXCIsIHt9LCBcIuWKoOi9veWtl+auteexu+Wei+Wksei0pe+8gVwiLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSwgXCJqc29uXCIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9maWVsZERhdGFUeXBlQXJyYXk7XG4gIH0sXG4gIEdldEZpZWxkRGF0YVR5cGVPYmplY3RCeVZhbHVlOiBmdW5jdGlvbiBHZXRGaWVsZERhdGFUeXBlT2JqZWN0QnlWYWx1ZShWYWx1ZSkge1xuICAgIC8vZGVidWdnZXI7XG4gICAgdmFyIGFycmF5RGF0YSA9IHRoaXMuR2V0RmllbGREYXRhVHlwZUFycmF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5RGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG9iaiA9IGFycmF5RGF0YVtpXTtcblxuICAgICAgaWYgKG9iai5WYWx1ZSA9PSBWYWx1ZSkge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFsZXJ0KFwi5om+5LiN5Yiw5oyH5a6a55qE5pWw5o2u57G75Z6L77yM6K+356Gu6K6k5piv5ZCm5pSv5oyB6K+l57G75Z6L77yBXCIpO1xuICB9LFxuICBHZXRGaWVsZERhdGFUeXBlT2JqZWN0QnlUZXh0OiBmdW5jdGlvbiBHZXRGaWVsZERhdGFUeXBlT2JqZWN0QnlUZXh0KHRleHQpIHtcbiAgICAvL2RlYnVnZ2VyO1xuICAgIHZhciBhcnJheURhdGEgPSB0aGlzLkdldEZpZWxkRGF0YVR5cGVBcnJheSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheURhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBvYmogPSBhcnJheURhdGFbaV07XG5cbiAgICAgIGlmIChvYmouVGV4dCA9PSB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYWxlcnQoXCLmib7kuI3liLDmjIflrprnmoTmlbDmja7nsbvlnovvvIzor7fnoa7orqTmmK/lkKbmlK/mjIHor6XnsbvlnovvvIFcIik7XG4gIH1cbn07XG52YXIgRWRpdFRhYmxlX1NlbGVjdEZpZWxkVHlwZSA9IHtcbiAgLypcclxuICAgX2NvbmZpZzrphY3nva7lr7nosaFcclxuICAgdGVtcGxhdGU65b2T5YmN5qih54mIXHJcbiAgIGhvc3RDZWxsOuaJgOWkhOeahOWNleWFg+agvFxyXG4gICBob3N0Um93OuaJgOWkhOeahOWIl1xyXG4gICBob3N0VGFibGU65omA5aSE55qE6KGo5qC8XHJcbiAgIHZpZXdTdGF1c0h0bWxFbGVtOua1j+iniOeKtuaAgeeahGh0bWzlhYPntKBcclxuICAganNvbkRhdGFJdGVtOmpzb27mlbDmja7mupBcclxuICAgKi9cbiAgR2V0X0VkaXRTdGF0dXNfSHRtbEVsZW06IGZ1bmN0aW9uIEdldF9FZGl0U3RhdHVzX0h0bWxFbGVtKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCB2aWV3U3RhdXNIdG1sRWxlbSwganNvbkRhdGFzLCBqc29uRGF0YVNpbmdsZSkge1xuICAgIC8qaWYobnVsbCA9PSB0aGlzLmZpZWxkVHlwZXMgfHwgdGhpcy5maWVsZFR5cGVzLnNpemUoKSA8IDEpe1xyXG4gICAgIHRoaXMuaW5pdEZpZWxkVHlwZXMoKTtcclxuICAgICB9Ki9cbiAgICB2YXIgdmFsID0gXCJcIjsgLy/ku47ljZXlhYPmoLzkuK3ojrflj5bliLDnmoTlgLxcblxuICAgIHZhciAkZWxlbSA9ICQoXCI8c2VsZWN0IC8+XCIpO1xuXG4gICAgaWYgKGpzb25EYXRhU2luZ2xlICE9IG51bGwgJiYganNvbkRhdGFTaW5nbGUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWwgPSBqc29uRGF0YVNpbmdsZVtcImZpZWxkRGF0YVR5cGVcIl07XG4gICAgfVxuXG4gICAgaWYgKHZpZXdTdGF1c0h0bWxFbGVtICE9IG51bGwgJiYgdmlld1N0YXVzSHRtbEVsZW0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWwgPSB2aWV3U3RhdXNIdG1sRWxlbS5hdHRyKFwiVmFsdWVcIik7XG4gICAgfSAvL+aEj+S5ieS4jeaYjlxuXG4gICAgLyppZiAoaXNOYU4odmFsKSkgey8v5aaC5p6c5YC85Li66Z2e5pWw5a2XXHJcbiAgICAgICAgdmFsID0gdGhpcy5maWVsZFR5cGVzLmdldCh2YWwpO1xyXG4gICAgfSovXG5cblxuICAgIHZhciBfZmllbGREYXRhVHlwZUFycmF5ID0gRWRpdFRhYmxlX1NlbGVjdEZpZWxkVHlwZURhdGFMb2FkZXIuR2V0RmllbGREYXRhVHlwZUFycmF5KCk7IC8vZGVidWdnZXI7XG5cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX2ZpZWxkRGF0YVR5cGVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gX2ZpZWxkRGF0YVR5cGVBcnJheVtpXS5WYWx1ZTtcbiAgICAgIHZhciB0ZXh0ID0gX2ZpZWxkRGF0YVR5cGVBcnJheVtpXS5UZXh0OyAvL2lmIChjb2RlID09IHZhbCkgey8v5pWw5o2u57G75Z6L562J5LqO5b2T5YmN57G75Z6L5YiZ6YCJ5LitXG4gICAgICAvLyAgICAkZWxlbS5hcHBlbmQoXCI8b3B0aW9uIHZhbHVlPSdcIiArIGNvZGUgKyBcIicgc2VsZWN0ZWQ9J3NlbGVjdGVkJz5cIiArIHRleHQgKyBcIjwvb3B0aW9uPlwiKTtcbiAgICAgIC8vfSBlbHNlIHtcblxuICAgICAgJGVsZW0uYXBwZW5kKFwiPG9wdGlvbiB2YWx1ZT0nXCIgKyB2YWx1ZSArIFwiJz5cIiArIHRleHQgKyBcIjwvb3B0aW9uPlwiKTsgLy99XG4gICAgfSAvL2FsZXJ0KHZhbCk7XG5cblxuICAgIGlmICh2YWwgIT0gXCJcIikge1xuICAgICAgJGVsZW0udmFsKHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRlbGVtLnZhbChFZGl0VGFibGVfU2VsZWN0RmllbGRUeXBlRGF0YUxvYWRlci5HZXRGaWVsZERhdGFUeXBlT2JqZWN0QnlUZXh0KFwi5a2X56ym5LiyXCIpLlZhbHVlKTtcbiAgICB9XG4gICAgLyogZm9yICh2YXIgX2luZGV4ID0gMDsgX2luZGV4IDwgdGhpcy5maWVsZEFycmF5Lmxlbmd0aDsgX2luZGV4KyspIHtcclxuICAgICAgICAgdmFyIGtleSA9IHRoaXMuZmllbGRBcnJheVtfaW5kZXhdO1xyXG4gICAgICAgICBpZiAoa2V5ID09IHZhbCkgey8v5pWw5o2u57G75Z6L562J5LqO5b2T5YmN57G75Z6L5YiZ6YCJ5LitXHJcbiAgICAgICAgICAgICAkZWxlbS5hcHBlbmQoXCI8b3B0aW9uIHZhbHVlPSdcIiArIGtleSArIFwiJyBzZWxlY3RlZD0nc2VsZWN0ZWQnPlwiICsgdGhpcy5maWVsZFR5cGVzLmdldChrZXkpICsgXCI8L29wdGlvbj5cIik7XHJcbiAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAkZWxlbS5hcHBlbmQoXCI8b3B0aW9uIHZhbHVlPSdcIiArIGtleSArIFwiJz5cIiArIHRoaXMuZmllbGRUeXBlcy5nZXQoa2V5KSArIFwiPC9vcHRpb24+XCIpO1xyXG4gICAgICAgICB9XHJcbiAgICAgfSovXG5cblxuICAgICRlbGVtLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmFsID0gJCh0aGlzKS52YWwoKTtcblxuICAgICAgaWYgKHZhbCA9PSBcIuaVtOaVsFwiKSB7XG4gICAgICAgIC8v5aaC5p6c5piv5pW05pWwICAg56aB55So5a2X5q616ZW/5bqm5ZKM5bCP5pWw5L2NIOW5tuWAvOmDveaUueS4ujBcbiAgICAgICAgJChob3N0Q2VsbCkubmV4dCgpLmZpbmQoXCJpbnB1dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICQoaG9zdENlbGwpLm5leHQoKS5maW5kKFwiaW5wdXRcIikudmFsKDApO1xuICAgICAgICAkKGhvc3RDZWxsKS5uZXh0KCkubmV4dCgpLmZpbmQoXCJpbnB1dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICQoaG9zdENlbGwpLm5leHQoKS5uZXh0KCkuZmluZChcImlucHV0XCIpLnZhbCgwKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsID09IFwi5bCP5pWwXCIpIHtcbiAgICAgICAgLy8y5bCP5pWwIOWQr+eUqOWtl+autemVv+W6puWSjOWwj+aVsOS9jeaVsCDlubbmiorlrZfmrrXplb/luqbmlLnkuLoxMCDlkowgMlxuICAgICAgICAkKGhvc3RDZWxsKS5uZXh0KCkuZmluZChcImlucHV0XCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG4gICAgICAgICQoaG9zdENlbGwpLm5leHQoKS5maW5kKFwiaW5wdXRcIikudmFsKDEwKTtcbiAgICAgICAgJChob3N0Q2VsbCkubmV4dCgpLm5leHQoKS5maW5kKFwiaW5wdXRcIikuYXR0cihcImRpc2FibGVkXCIsIGZhbHNlKTtcbiAgICAgICAgJChob3N0Q2VsbCkubmV4dCgpLm5leHQoKS5maW5kKFwiaW5wdXRcIikudmFsKDIpO1xuICAgICAgfSBlbHNlIGlmICh2YWwgPT0gXCLml6XmnJ/ml7bpl7RcIikge1xuICAgICAgICAvLzPvvJrml6XmnJ/ml7bpl7Qg56aB55SoIOWtl+autemVv+W6puWSjOWwj+aVsOS9jeaVsCDlubbmlLnkuLoyMCAwXG4gICAgICAgICQoaG9zdENlbGwpLm5leHQoKS5maW5kKFwiaW5wdXRcIikuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICAkKGhvc3RDZWxsKS5uZXh0KCkuZmluZChcImlucHV0XCIpLnZhbCgyMCk7XG4gICAgICAgICQoaG9zdENlbGwpLm5leHQoKS5uZXh0KCkuZmluZChcImlucHV0XCIpLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgJChob3N0Q2VsbCkubmV4dCgpLm5leHQoKS5maW5kKFwiaW5wdXRcIikudmFsKDApO1xuICAgICAgfSBlbHNlIGlmICh2YWwgPT0gXCLlrZfnrKbkuLJcIikge1xuICAgICAgICAvLzQ6IOWtl+espuS4siAgIOemgeeUqOWwj+aVsOS9jemAieaLqeahhlxuICAgICAgICAvL+WQr+eUqOWtl+autemVv+W6plxuICAgICAgICAkKGhvc3RDZWxsKS5uZXh0KCkuZmluZChcImlucHV0XCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG4gICAgICAgICQoaG9zdENlbGwpLm5leHQoKS5maW5kKFwiaW5wdXRcIikudmFsKDUwKTtcbiAgICAgICAgJChob3N0Q2VsbCkubmV4dCgpLm5leHQoKS5maW5kKFwiaW5wdXRcIikuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICAkKGhvc3RDZWxsKS5uZXh0KCkubmV4dCgpLmZpbmQoXCJpbnB1dFwiKS52YWwoMCk7XG4gICAgICB9IGVsc2UgaWYgKHZhbCA9PSBcIumVv+Wtl+espuS4slwiKSB7XG4gICAgICAgIC8vNjrmhI/op4HlnovvvJog56aB55So5a2X5q616ZW/5bqm5ZKM5bCP5pWwIOW5tuaKiuWAvOaUueS4ujBcbiAgICAgICAgJChob3N0Q2VsbCkubmV4dCgpLmZpbmQoXCJpbnB1dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICQoaG9zdENlbGwpLm5leHQoKS5maW5kKFwiaW5wdXRcIikudmFsKDApO1xuICAgICAgICAkKGhvc3RDZWxsKS5uZXh0KCkubmV4dCgpLmZpbmQoXCJpbnB1dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICQoaG9zdENlbGwpLm5leHQoKS5uZXh0KCkuZmluZChcImlucHV0XCIpLnZhbCgwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gJGVsZW07XG4gIH0sXG4gIEdldF9Db21wbGV0ZWRTdGF0dXNfSHRtbEVsZW06IGZ1bmN0aW9uIEdldF9Db21wbGV0ZWRTdGF0dXNfSHRtbEVsZW0oX2NvbmZpZywgdGVtcGxhdGUsIGhvc3RDZWxsLCBob3N0Um93LCBob3N0VGFibGUsIGVkaXRTdGF1c0h0bWxFbGVtKSB7XG4gICAgLyppZihudWxsID09IHRoaXMuZmllbGRUeXBlcyB8fCB0aGlzLmZpZWxkVHlwZXMuc2l6ZSgpIDwgMSl7XHJcbiAgICAgICAgdGhpcy5pbml0RmllbGRUeXBlcygpO1xyXG4gICAgfSovXG4gICAgLy9kZWJ1Z2dlcjtcbiAgICB2YXIgdmFsdWUgPSBlZGl0U3RhdXNIdG1sRWxlbS52YWwoKTtcbiAgICB2YXIgdGV4dCA9IEVkaXRUYWJsZV9TZWxlY3RGaWVsZFR5cGVEYXRhTG9hZGVyLkdldEZpZWxkRGF0YVR5cGVPYmplY3RCeVZhbHVlKHZhbHVlKS5UZXh0O1xuICAgIHZhciAkZWxlbSA9ICQoXCI8bGFiZWwgSXNTZXJpYWxpemU9J3RydWUnIEJpbmROYW1lPSdcIiArIHRlbXBsYXRlLkJpbmROYW1lICsgXCInIFZhbHVlPSdcIiArIHZhbHVlICsgXCInPlwiICsgdGV4dCArIFwiPC9sYWJlbD5cIik7XG4gICAgcmV0dXJuICRlbGVtO1xuICB9LFxuICBWYWxpZGF0ZVRvQ29tcGxldGVkRW5hYmxlOiBmdW5jdGlvbiBWYWxpZGF0ZVRvQ29tcGxldGVkRW5hYmxlKF9jb25maWcsIHRlbXBsYXRlLCBob3N0Q2VsbCwgaG9zdFJvdywgaG9zdFRhYmxlLCBlZGl0U3RhdXNIdG1sRWxlbSkge1xuICAgIHZhciB2YWwgPSBlZGl0U3RhdXNIdG1sRWxlbS52YWwoKTtcbiAgICByZXR1cm4gRWRpdFRhYmxlVmFsaWRhdGUuVmFsaWRhdGUodmFsLCB0ZW1wbGF0ZSk7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHpodWFuZ3JiIG9uIDIwMTYvMi8xOS5cclxuICovXG52YXIgVHJlZVRhYmxlQ29uZmlnID0ge1xuICBDYW5EZWxldGVXaGVuSGFzQ2hpbGQ6IGZhbHNlLFxuICBJZEZpZWxkOiBcIk9yZ2FuX0lkXCIsXG4gIFJvd0lkUHJlZml4OiBcIlRyZWVUYWJsZV9cIixcbiAgTG9hZENoaWxkSnNvblVSTDogXCJcIixcbiAgTG9hZENoaWxkRnVuYzogbnVsbCxcbiAgT3BlbkxldmVsOiAxLFxuICBDaGlsZFRlc3RGaWVsZDogXCJDaGlsZF9Db3VudFwiLFxuICAvL+WIpOaWreaYr+WQpuWtmOWcqOWtkOiKgueCueeahOWtl+aute+8jOaYr+WQpj4w5oiW6ICF5Li6dHJ1Ze+8jOWImeaUr+aMgeWxleW8gFxuICBUZW1wbGF0ZXM6IFt7XG4gICAgVGl0bGU6IFwi57uE57uH5py65p6E5ZCN56ewXCIsXG4gICAgRmllbGROYW1lOiBcIk9yZ2FuX05hbWVcIixcbiAgICBUaXRsZUNlbGxDbGFzc05hbWU6IFwiVGl0bGVDZWxsXCIsXG4gICAgUmVuZGVyZXI6IFwiTGFibGVcIixcbiAgICBIaWRkZW46IGZhbHNlLFxuICAgIFRpdGxlQ2VsbEF0dHJzOiB7fSxcbiAgICBXaWR0aDogXCI1MCVcIlxuICB9LCB7XG4gICAgVGl0bGU6IFwi57uE57uH5py65p6E57yp5YaZ5ZCN56ewXCIsXG4gICAgRmllbGROYW1lOiBcIk9yZ2FuX1Nob3J0TmFtZVwiLFxuICAgIFRpdGxlQ2VsbENsYXNzTmFtZTogXCJUaXRsZUNlbGxcIixcbiAgICBSZW5kZXJlcjogXCJMYWJsZVwiLFxuICAgIEhpZGRlbjogZmFsc2UsXG4gICAgVGl0bGVDZWxsQXR0cnM6IHt9LFxuICAgIFdpZHRoOiBcIjIwJVwiXG4gIH0sIHtcbiAgICBUaXRsZTogXCLnu4Tnu4fnvJblj7dcIixcbiAgICBGaWVsZE5hbWU6IFwiT3JnYW5fQ29kZVwiLFxuICAgIFRpdGxlQ2VsbENsYXNzTmFtZTogXCJUaXRsZUNlbGxcIixcbiAgICBSZW5kZXJlcjogXCJMYWJsZVwiLFxuICAgIEhpZGRlbjogZmFsc2UsXG4gICAgVGl0bGVDZWxsQXR0cnM6IHt9LFxuICAgIFdpZHRoOiBcIjIwJVwiXG4gIH0sIHtcbiAgICBUaXRsZTogXCLnu4Tnu4dJRFwiLFxuICAgIEZpZWxkTmFtZTogXCJPcmdhbl9JZFwiLFxuICAgIFRpdGxlQ2VsbENsYXNzTmFtZTogXCJUaXRsZUNlbGxcIixcbiAgICBSZW5kZXJlcjogXCJMYWJsZVwiLFxuICAgIEhpZGRlbjogZmFsc2UsXG4gICAgVGl0bGVDZWxsQXR0cnM6IHt9LFxuICAgIFdpZHRoOiBcIjEwXCJcbiAgfV0sXG4gIFRhYmxlQ2xhc3M6IFwiVHJlZVRhYmxlXCIsXG4gIFJlbmRlcmVyVG86IFwiZGl2RWRpdFRhYmxlXCIsXG4gIC8vZGl2IGVsZW1cbiAgVGFibGVJZDogXCJUcmVlVGFibGVcIixcbiAgVGFibGVBdHRyczoge1xuICAgIGNlbGxwYWRkaW5nOiBcIjBcIixcbiAgICBjZWxsc3BhY2luZzogXCIwXCIsXG4gICAgYm9yZGVyOiBcIjBcIlxuICB9XG59O1xudmFyIFRyZWVUYWJsZUpzb25EYXRhID0ge1xuICBPcmdhbl9JZDogXCIwXCIsXG4gIE9yZ2FuX05hbWU6IFwicm9vdFwiLFxuICBPcmdhbl9TaG9ydE5hbWU6IFwiMlwiLFxuICBPcmdhbl9Db2RlOiBcIjJcIixcbiAgQ2hpbGRfQ291bnQ6IDIsXG4gIE5vZGVzOiBbe1xuICAgIE9yZ2FuX0lkOiBcIjFcIixcbiAgICBPcmdhbl9OYW1lOiBcIjFPcmdhbl9OYW1lXCIsXG4gICAgT3JnYW5fU2hvcnROYW1lOiBcIjFcIixcbiAgICBPcmdhbl9Db2RlOiBcIjFcIixcbiAgICBDaGlsZF9Db3VudDogMixcbiAgICBOb2RlczogW3tcbiAgICAgIE9yZ2FuX0lkOiBcIjEtMVwiLFxuICAgICAgT3JnYW5fTmFtZTogXCIxLTFPcmdhbl9OYW1lXCIsXG4gICAgICBPcmdhbl9TaG9ydE5hbWU6IFwiMS0xXCIsXG4gICAgICBPcmdhbl9Db2RlOiBcIjEtMVwiLFxuICAgICAgQ2hpbGRfQ291bnQ6IDEsXG4gICAgICBOb2RlczogW3tcbiAgICAgICAgT3JnYW5fSWQ6IFwiMS0xLTFcIixcbiAgICAgICAgT3JnYW5fTmFtZTogXCIxLTEtMU9yZ2FuX05hbWVcIixcbiAgICAgICAgT3JnYW5fU2hvcnROYW1lOiBcIjEtMS0xXCIsXG4gICAgICAgIE9yZ2FuX0NvZGU6IFwiMS0xXCIsXG4gICAgICAgIENoaWxkX0NvdW50OiAwXG4gICAgICB9XVxuICAgIH0sIHtcbiAgICAgIE9yZ2FuX0lkOiBcIjEtMlwiLFxuICAgICAgT3JnYW5fTmFtZTogXCIxLTJPcmdhbl9OYW1lXCIsXG4gICAgICBPcmdhbl9TaG9ydE5hbWU6IFwiMS0yXCIsXG4gICAgICBPcmdhbl9Db2RlOiBcIjEtMlwiLFxuICAgICAgQ2hpbGRfQ291bnQ6IDBcbiAgICB9XVxuICB9LCB7XG4gICAgT3JnYW5fSWQ6IFwiMlwiLFxuICAgIE9yZ2FuX05hbWU6IFwiMk9yZ2FuX05hbWVcIixcbiAgICBPcmdhbl9TaG9ydE5hbWU6IFwiMlwiLFxuICAgIE9yZ2FuX0NvZGU6IFwiMlwiLFxuICAgIENoaWxkX0NvdW50OiAwXG4gIH0sIHtcbiAgICBPcmdhbl9JZDogXCIzXCIsXG4gICAgT3JnYW5fTmFtZTogXCIzT3JnYW5fTmFtZVwiLFxuICAgIE9yZ2FuX1Nob3J0TmFtZTogXCIzXCIsXG4gICAgT3JnYW5fQ29kZTogXCIzXCIsXG4gICAgQ2hpbGRfQ291bnQ6IDBcbiAgfSwge1xuICAgIE9yZ2FuX0lkOiBcIjRcIixcbiAgICBPcmdhbl9OYW1lOiBcIjRPcmdhbl9OYW1lXCIsXG4gICAgT3JnYW5fU2hvcnROYW1lOiBcIjRcIixcbiAgICBPcmdhbl9Db2RlOiBcIjRcIixcbiAgICBDaGlsZF9Db3VudDogMFxuICB9XVxufTtcbnZhciBUcmVlVGFibGVKc29uRGF0YUxpc3QgPSBbe1xuICBPcmdhbl9JZDogXCIwXCIsXG4gIE9yZ2FuX05hbWU6IFwicm9vdFwiLFxuICBPcmdhbl9TaG9ydE5hbWU6IFwiMlwiLFxuICBPcmdhbl9Db2RlOiBcIjJcIixcbiAgQ2hpbGRfQ291bnQ6IDJcbn0sIHtcbiAgT3JnYW5fSWQ6IFwiMVwiLFxuICBPcmdhbl9OYW1lOiBcIjFPcmdhbl9OYW1lXCIsXG4gIE9yZ2FuX1Nob3J0TmFtZTogXCIxXCIsXG4gIE9yZ2FuX0NvZGU6IFwiMVwiLFxuICBDaGlsZF9Db3VudDogMixcbiAgUGFyZW50X0lkOiBcIjBcIlxufSwge1xuICBPcmdhbl9JZDogXCIyXCIsXG4gIE9yZ2FuX05hbWU6IFwiMk9yZ2FuX05hbWVcIixcbiAgT3JnYW5fU2hvcnROYW1lOiBcIjJcIixcbiAgT3JnYW5fQ29kZTogXCIyXCIsXG4gIENoaWxkX0NvdW50OiAwLFxuICBQYXJlbnRfSWQ6IFwiMFwiXG59LCB7XG4gIE9yZ2FuX0lkOiBcIjEtMVwiLFxuICBPcmdhbl9OYW1lOiBcIjEtMU9yZ2FuX05hbWVcIixcbiAgT3JnYW5fU2hvcnROYW1lOiBcIjEtMVwiLFxuICBPcmdhbl9Db2RlOiBcIjEtMVwiLFxuICBDaGlsZF9Db3VudDogMSxcbiAgUGFyZW50X0lkOiBcIjFcIlxufSwge1xuICBPcmdhbl9JZDogXCIxLTJcIixcbiAgT3JnYW5fTmFtZTogXCIxLTJPcmdhbl9OYW1lXCIsXG4gIE9yZ2FuX1Nob3J0TmFtZTogXCIxLTJcIixcbiAgT3JnYW5fQ29kZTogXCIxLTJcIixcbiAgQ2hpbGRfQ291bnQ6IDAsXG4gIFBhcmVudF9JZDogXCIxXCJcbn0sIHtcbiAgT3JnYW5fSWQ6IFwiMS0xLTFcIixcbiAgT3JnYW5fTmFtZTogXCIxLTEtMU9yZ2FuX05hbWVcIixcbiAgT3JnYW5fU2hvcnROYW1lOiBcIjEtMS0xXCIsXG4gIE9yZ2FuX0NvZGU6IFwiMS0xXCIsXG4gIENoaWxkX0NvdW50OiAwLFxuICBQYXJlbnRfSWQ6IFwiMS0xXCJcbn1dOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcclxuICogQ3JlYXRlZCBieSB6aHVhbmdyYiBvbiAyMDE4LzgvMTguXHJcbiAqL1xudmFyIFRyZWVUYWJsZSA9IHtcbiAgXyRQcm9wX1RhYmxlRWxlbTogbnVsbCxcbiAgXyRQcm9wX1JlbmRlcmVyVG9FbGVtOiBudWxsLFxuICBfUHJvcF9Db25maWc6IG51bGwsXG4gIF9Qcm9wX0pzb25EYXRhOiBudWxsLFxuICBfUHJvcF9BdXRvT3BlbkxldmVsOiAwLFxuICBfUHJvcF9GaXJzdENvbHVtbl9JbmRlbjogMjAsXG4gIF9Qcm9wX0N1cnJlbnRTZWxlY3RlZFJvd0lkOiBudWxsLFxuICBJbml0aWFsaXphdGlvbjogZnVuY3Rpb24gSW5pdGlhbGl6YXRpb24oX2NvbmZpZykge1xuICAgIHRoaXMuX1Byb3BfQ29uZmlnID0gX2NvbmZpZztcbiAgICB0aGlzLl8kUHJvcF9SZW5kZXJlclRvRWxlbSA9ICQoXCIjXCIgKyB0aGlzLl9Qcm9wX0NvbmZpZy5SZW5kZXJlclRvKTtcbiAgICB0aGlzLl8kUHJvcF9UYWJsZUVsZW0gPSB0aGlzLkNyZWF0ZVRhYmxlKCk7XG5cbiAgICB0aGlzLl8kUHJvcF9UYWJsZUVsZW0uYXBwZW5kKHRoaXMuQ3JlYXRlVGFibGVUaXRsZVJvdygpKTtcblxuICAgIHRoaXMuXyRQcm9wX1JlbmRlcmVyVG9FbGVtLmFwcGVuZCh0aGlzLl8kUHJvcF9UYWJsZUVsZW0pO1xuICB9LFxuICBMb2FkSnNvbkRhdGE6IGZ1bmN0aW9uIExvYWRKc29uRGF0YShqc29uRGF0YXMpIHtcbiAgICBpZiAoanNvbkRhdGFzICE9IG51bGwgJiYganNvbkRhdGFzICE9IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fUHJvcF9Kc29uRGF0YSA9IGpzb25EYXRhcztcbiAgICAgIHRoaXMuX1Byb3BfQXV0b09wZW5MZXZlbCA9IHRoaXMuX1Byb3BfQ29uZmlnLk9wZW5MZXZlbDtcblxuICAgICAgdmFyIHJvd0lkID0gdGhpcy5fR2V0Um93RGF0YUlkKGpzb25EYXRhcyk7XG5cbiAgICAgIHRoaXMuX0NyZWF0ZVJvb3RSb3coanNvbkRhdGFzLCByb3dJZCk7XG5cbiAgICAgIHRoaXMuX0xvb3BDcmVhdGVSb3coanNvbkRhdGFzLCBqc29uRGF0YXMuTm9kZXMsIDEsIHJvd0lkKTtcblxuICAgICAgdGhpcy5SZW5kZXJlclN0eWxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KFwiSnNvbiBEYXRhIE9iamVjdCBFcnJvclwiKTtcbiAgICB9XG4gIH0sXG4gIF9DcmVhdGVSb290Um93OiBmdW5jdGlvbiBfQ3JlYXRlUm9vdFJvdyhwYXJlbnRqc29uTm9kZSwgcGFyZW50SWRMaXN0KSB7XG4gICAgdmFyIHJvd0VsZW0gPSB0aGlzLkNyZWF0ZVJvd0VsZW0ocGFyZW50anNvbk5vZGUsIDAsIG51bGwsIHRydWUsIHBhcmVudElkTGlzdCk7XG5cbiAgICB0aGlzLl8kUHJvcF9UYWJsZUVsZW0uYXBwZW5kKHJvd0VsZW0pO1xuXG4gICAgdGhpcy5TZXRKc29uRGF0YUV4dGVuZEF0dHJfQ3VycmVudExldmVsKHBhcmVudGpzb25Ob2RlLCAwKTtcbiAgICB0aGlzLlNldEpzb25EYXRhRXh0ZW5kQXR0cl9QYXJlbnRJZExpc3QocGFyZW50anNvbk5vZGUsIHBhcmVudElkTGlzdCk7XG4gIH0sXG4gIF9Mb29wQ3JlYXRlUm93OiBmdW5jdGlvbiBfTG9vcENyZWF0ZVJvdyhwYXJlbnRqc29uTm9kZSwganNvbk5vZGVBcnJheSwgY3VycmVudExldmVsLCBwYXJlbnRJZExpc3QpIHtcbiAgICB0aGlzLl9Qcm9wX0NvbmZpZy5Jc09wZW5BTEw7XG5cbiAgICBpZiAoanNvbk5vZGVBcnJheSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwganNvbk5vZGVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaXRlbSA9IGpzb25Ob2RlQXJyYXlbaV07IC8vaXRlbS5fRXh0ZW5kX0N1cnJlbnRMZXZlbD1jdXJyZW50TGV2ZWw7XG4gICAgICAgIC8vdmFyIF9jbD1jdXJyZW50TGV2ZWw7XG5cbiAgICAgICAgdmFyIHJvd0lzT3BlbiA9IHRoaXMuX1Rlc3RSb3dJc09wZW4oY3VycmVudExldmVsKTtcblxuICAgICAgICB2YXIgcm93SWQgPSB0aGlzLl9HZXRSb3dEYXRhSWQoaXRlbSk7XG5cbiAgICAgICAgdmFyIF9wSWRMaXN0ID0gdGhpcy5fQ3JlYXRlUGFyZW50SWRMaXN0KHBhcmVudElkTGlzdCwgcm93SWQpO1xuXG4gICAgICAgIHRoaXMuU2V0SnNvbkRhdGFFeHRlbmRBdHRyX0N1cnJlbnRMZXZlbChpdGVtLCBjdXJyZW50TGV2ZWwpO1xuICAgICAgICB0aGlzLlNldEpzb25EYXRhRXh0ZW5kQXR0cl9QYXJlbnRJZExpc3QoaXRlbSwgX3BJZExpc3QpO1xuICAgICAgICByb3dFbGVtID0gdGhpcy5DcmVhdGVSb3dFbGVtKGl0ZW0sIGN1cnJlbnRMZXZlbCwgcGFyZW50anNvbk5vZGUsIHJvd0lzT3BlbiwgX3BJZExpc3QpO1xuXG4gICAgICAgIHRoaXMuXyRQcm9wX1RhYmxlRWxlbS5hcHBlbmQocm93RWxlbSk7XG5cbiAgICAgICAgaWYgKGl0ZW0uTm9kZXMgIT0gdW5kZWZpbmVkICYmIGl0ZW0uTm9kZXMgIT0gbnVsbCAmJiBpdGVtLk5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2YXIgX3RwID0gY3VycmVudExldmVsICsgMTtcblxuICAgICAgICAgIHRoaXMuX0xvb3BDcmVhdGVSb3coaXRlbSwgaXRlbS5Ob2RlcywgX3RwLCBfcElkTGlzdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIENyZWF0ZVRhYmxlOiBmdW5jdGlvbiBDcmVhdGVUYWJsZSgpIHtcbiAgICB2YXIgX0MgPSB0aGlzLl9Qcm9wX0NvbmZpZztcblxuICAgIHZhciBfZWRpdFRhYmxlID0gJChcIjx0YWJsZSAvPlwiKTtcblxuICAgIF9lZGl0VGFibGUuYWRkQ2xhc3MoX0MuVGFibGVDbGFzcyk7XG5cbiAgICBfZWRpdFRhYmxlLmF0dHIoXCJJZFwiLCBfQy5UYWJsZUlkKTtcblxuICAgIF9lZGl0VGFibGUuYXR0cihfQy5UYWJsZUF0dHJzKTtcblxuICAgIHJldHVybiBfZWRpdFRhYmxlO1xuICB9LFxuICBTZXRKc29uRGF0YUV4dGVuZEF0dHJfQ3VycmVudExldmVsOiBmdW5jdGlvbiBTZXRKc29uRGF0YUV4dGVuZEF0dHJfQ3VycmVudExldmVsKGpzb25EYXRhLCB2YWx1ZSkge1xuICAgIGpzb25EYXRhLl9FeHRlbmRfQ3VycmVudExldmVsID0gdmFsdWU7XG4gIH0sXG4gIEdldEpzb25EYXRhRXh0ZW5kQXR0cl9DdXJyZW50TGV2ZWw6IGZ1bmN0aW9uIEdldEpzb25EYXRhRXh0ZW5kQXR0cl9DdXJyZW50TGV2ZWwoanNvbkRhdGEpIHtcbiAgICByZXR1cm4ganNvbkRhdGEuX0V4dGVuZF9DdXJyZW50TGV2ZWw7XG4gIH0sXG4gIFNldEpzb25EYXRhRXh0ZW5kQXR0cl9QYXJlbnRJZExpc3Q6IGZ1bmN0aW9uIFNldEpzb25EYXRhRXh0ZW5kQXR0cl9QYXJlbnRJZExpc3QoanNvbkRhdGEsIHZhbHVlKSB7XG4gICAganNvbkRhdGEuX0V4dGVuZF9QYXJlbnRJZExpc3QgPSB2YWx1ZTtcbiAgfSxcbiAgR2V0SnNvbkRhdGFFeHRlbmRBdHRyX1BhcmVudElkTGlzdDogZnVuY3Rpb24gR2V0SnNvbkRhdGFFeHRlbmRBdHRyX1BhcmVudElkTGlzdChqc29uRGF0YSkge1xuICAgIHJldHVybiBqc29uRGF0YS5fRXh0ZW5kX1BhcmVudElkTGlzdDtcbiAgfSxcbiAgLy/liJvlu7rooajlpLRcbiAgQ3JlYXRlVGFibGVUaXRsZVJvdzogZnVuY3Rpb24gQ3JlYXRlVGFibGVUaXRsZVJvdygpIHtcbiAgICB2YXIgX0MgPSB0aGlzLl9Qcm9wX0NvbmZpZztcblxuICAgIHZhciBfdGhlYWQgPSAkKFwiPHRoZWFkPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGlzSGVhZGVyPSd0cnVlJyAvPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlwiKTtcblxuICAgIHZhciBfdGl0bGVSb3cgPSBfdGhlYWQuZmluZChcInRyXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfQy5UZW1wbGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0ZW1wbGF0ZSA9IF9DLlRlbXBsYXRlc1tpXTtcbiAgICAgIHZhciB0aXRsZSA9IHRlbXBsYXRlLlRpdGxlO1xuICAgICAgdmFyIHRoID0gJChcIjx0aD5cIiArIHRpdGxlICsgXCI8L3RoPlwiKTtcblxuICAgICAgaWYgKHRlbXBsYXRlLlRpdGxlQ2VsbENsYXNzTmFtZSkge1xuICAgICAgICB0aC5hZGRDbGFzcyh0ZW1wbGF0ZS5UaXRsZUNlbGxDbGFzc05hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGVtcGxhdGUuVGl0bGVDZWxsQXR0cnMpIHtcbiAgICAgICAgdGguYXR0cih0ZW1wbGF0ZS5UaXRsZUNlbGxBdHRycyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUuSGlkZGVuICE9ICd1bmRlZmluZWQnICYmIHRlbXBsYXRlLkhpZGRlbiA9PSB0cnVlKSB7XG4gICAgICAgIHRoLmhpZGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRlbXBsYXRlLlN0eWxlKSB7XG4gICAgICAgIHRoLmNzcyh0ZW1wbGF0ZS5TdHlsZSk7XG4gICAgICB9XG5cbiAgICAgIF90aXRsZVJvdy5hcHBlbmQodGgpO1xuICAgIH1cblxuICAgIHJldHVybiBfdGhlYWQ7XG4gIH0sXG5cbiAgLypcclxuICAqXHJcbiAgKiBwYXJlbnRJZExpc3Qg5YyF5ZCr6Ieq6LqraWTigLtpZOKAu2lkXHJcbiAgKiAqL1xuICBDcmVhdGVSb3dFbGVtOiBmdW5jdGlvbiBDcmVhdGVSb3dFbGVtKHJvd0RhdGEsIGN1cnJlbnRMZXZlbCwgcGFyZW50Um93RGF0YSwgcm93SXNPcGVuLCBwYXJlbnRJZExpc3QpIHtcbiAgICAvL2FsZXJ0KGN1cnJlbnRMZXZlbCk7XG4gICAgLy9hbGVydChjdXJyZW50TGV2ZWwpO1xuICAgIHZhciBfYyA9IHRoaXMuX1Byb3BfQ29uZmlnO1xuICAgIHZhciAkdHIgPSAkKFwiPHRyIC8+XCIpO1xuXG4gICAgdmFyIGVsZW1JZCA9IHRoaXMuX0NyZWF0ZUVsZW1JZChyb3dEYXRhKTtcblxuICAgIHZhciByb3dJZCA9IHRoaXMuX0dldFJvd0RhdGFJZChyb3dEYXRhKTtcblxuICAgIHZhciBwcm93SWQgPSB0aGlzLl9DcmVhdGVQYXJlbnRSb3dJZChwYXJlbnRSb3dEYXRhKTtcblxuICAgICR0ci5hdHRyKFwicm93SWRcIiwgcm93SWQpLmF0dHIoXCJwaWRcIiwgcHJvd0lkKS5hdHRyKFwiaWRcIiwgZWxlbUlkKS5hdHRyKFwiY3VycmVudExldmVsXCIsIGN1cnJlbnRMZXZlbCkuYXR0cihcImlzZGF0YXJvd1wiLCBcInRydWVcIik7IC8vJHRyO1xuXG4gICAgdmFyIF90ZXN0ZmllbGQgPSBfYy5DaGlsZFRlc3RGaWVsZDtcbiAgICB2YXIgaGFzQ2hpbGQgPSByb3dEYXRhW190ZXN0ZmllbGRdO1xuXG4gICAgaWYgKGhhc0NoaWxkID09IHRydWUgfHwgaGFzQ2hpbGQgPT0gXCJ0cnVlXCIgfHwgaGFzQ2hpbGQgPiAwKSB7XG4gICAgICAkdHIuYXR0cihcImhhc0NoaWxkXCIsIFwidHJ1ZVwiKTtcbiAgICB9XG5cbiAgICAkdHIuYXR0cihcInJvd0lzT3BlblwiLCByb3dJc09wZW4pLmF0dHIoXCJwYXJlbnRJZExpc3RcIiwgcGFyZW50SWRMaXN0KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX2MuVGVtcGxhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgX2NjID0gX2MuVGVtcGxhdGVzW2ldO1xuICAgICAgdmFyIF9jZCA9IHJvd0RhdGFbX2NjLkZpZWxkTmFtZV07XG4gICAgICB2YXIgX3dpZHRoID0gX2NjLldpZHRoO1xuICAgICAgdmFyIF9yZW5kZXJlciA9IF9jYy5SZW5kZXJlcjsgLy9kZWJ1Z2dlcjtcblxuICAgICAgdmFyICR0ZCA9ICQoXCI8dGQgYmluZEZpZWxkPVxcXCJcIiArIF9jYy5GaWVsZE5hbWUgKyBcIlxcXCIgUmVuZGVyZXI9J1wiICsgX3JlbmRlcmVyICsgXCInPlwiICsgX2NkICsgXCI8L3RkPlwiKS5jc3MoXCJ3aWR0aFwiLCBfd2lkdGgpO1xuXG4gICAgICBpZiAoX3JlbmRlcmVyID09IFwiRGF0ZVRpbWVcIikge1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKF9jZCk7XG4gICAgICAgIHZhciBkYXRlU3RyID0gRGF0ZVV0aWxpdHkuRm9ybWF0KGRhdGUsICd5eXl5LU1NLWRkJyk7XG4gICAgICAgICR0ZC50ZXh0KGRhdGVTdHIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX2NjLlRleHRBbGlnbikge1xuICAgICAgICAkdGQuY3NzKFwidGV4dEFsaWduXCIsIF9jYy5UZXh0QWxpZ24pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaSA9PSAwKSB7Ly8kdGQ9JChcIjx0ZD48L3RkPlwiKS5hcHBlbmQodGhpcy5fQ3JlYXRlUm93U3dpdGNoRWxlbShoYXNDaGlsZCxyb3dJc09wZW4scm93SWQpKS5hcHBlbmQoX2NkKTtcbiAgICAgICAgLy8kdGQuY3NzKFwicGFkZGluZy1sZWZ0XCIsdGhpcy5fUHJvcF9GaXJzdENvbHVtbl9JbmRlbipjdXJyZW50TGV2ZWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIF9jYy5IaWRkZW4gIT0gJ3VuZGVmaW5lZCcgJiYgX2NjLkhpZGRlbiA9PSB0cnVlKSB7XG4gICAgICAgICR0ZC5oaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgX2NjLlN0eWxlICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICR0ZC5jc3MoX2NjLlN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgJHRyLmFwcGVuZCgkdGQpO1xuICAgIH0gLy9Sb3cgRXZlbnRcblxuXG4gICAgdmFyIF9zZWxmID0gdGhpcztcblxuICAgICR0ci5iaW5kKFwiY2xpY2tcIiwgbnVsbCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAkKFwiLnRyLXNlbGVjdGVkXCIpLnJlbW92ZUNsYXNzKFwidHItc2VsZWN0ZWRcIik7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKFwidHItc2VsZWN0ZWRcIik7XG4gICAgICBfc2VsZi5fUHJvcF9DdXJyZW50U2VsZWN0ZWRSb3dJZCA9ICQodGhpcykuYXR0cihcInJvd0lkXCIpO1xuXG4gICAgICBpZiAodHlwZW9mIF9jLkNsaWNrUm93RXZlbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBfYy5DbGlja1Jvd0V2ZW50ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgX2MuQ2xpY2tSb3dFdmVudChyb3dJZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgJHRyLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcyhcInRyLXNlbGVjdGVkXCIpKSB7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJ0ci1ob3ZlclwiKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKFwiLnRyLWhvdmVyXCIpLnJlbW92ZUNsYXNzKFwidHItaG92ZXJcIik7XG4gICAgfSk7XG4gICAgcmV0dXJuICR0cjtcbiAgfSxcbiAgX1Rlc3RSb3dJc09wZW46IGZ1bmN0aW9uIF9UZXN0Um93SXNPcGVuKGN1cnJlbnRMZXZlbCkge1xuICAgIGlmICh0aGlzLl9Qcm9wX0NvbmZpZy5PcGVuTGV2ZWwgPiBjdXJyZW50TGV2ZWwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgX0NyZWF0ZUVsZW1JZDogZnVuY3Rpb24gX0NyZWF0ZUVsZW1JZChyb3dEYXRhKSB7XG4gICAgdmFyIHJvd0lkUHJlZml4ID0gXCJcIjtcblxuICAgIGlmICh0aGlzLl9Qcm9wX0NvbmZpZy5Sb3dJZFByZWZpeCAhPSB1bmRlZmluZWQgJiYgdGhpcy5fUHJvcF9Db25maWcuUm93SWRQcmVmaXggIT0gdW5kZWZpbmVkICE9IG51bGwpIHtcbiAgICAgIHJvd0lkUHJlZml4ID0gdGhpcy5fUHJvcF9Db25maWcuUm93SWRQcmVmaXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJvd0lkUHJlZml4ICsgdGhpcy5fR2V0Um93RGF0YUlkKHJvd0RhdGEpO1xuICAgIC8qdmFyIGlkRmllbGQ9dGhpcy5fUHJvcF9Db25maWcuSWRGaWVsZDtcclxuICAgIGlmKHJvd0RhdGFbaWRGaWVsZF0hPXVuZGVmaW5lZCYmcm93RGF0YVtpZEZpZWxkXSE9bnVsbCl7XHJcbiAgICAgICAgcmV0dXJuIHJvd0lkUHJlZml4K3Jvd0RhdGFbaWRGaWVsZF07XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIGFsZXJ0KFwi5Zyo5pWw5o2u5rqQ5Lit5om+5LiN5Yiw55So5LqO5p6E5bu6SWTnmoTlrZfmrrXvvIzor7fmo4Dmn6XphY3nva7lj4rmlbDmja7mupBcIik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9Ki9cbiAgfSxcbiAgX0NyZWF0ZVBhcmVudElkTGlzdDogZnVuY3Rpb24gX0NyZWF0ZVBhcmVudElkTGlzdChwYXJlbnRJZExpc3QsIHJvd0lkKSB7XG4gICAgcmV0dXJuIHBhcmVudElkTGlzdCArIFwi4oC7XCIgKyByb3dJZDtcbiAgfSxcbiAgX0NyZWF0ZVBhcmVudElkTGlzdEJ5UGFyZW50SnNvbkRhdGE6IGZ1bmN0aW9uIF9DcmVhdGVQYXJlbnRJZExpc3RCeVBhcmVudEpzb25EYXRhKHBhcmVudEpzb25EYXRhLCBzZWxmSnNvbkRhdGEpIHtcbiAgICB2YXIgcGFyZW50SWRMaXN0ID0gdGhpcy5HZXRKc29uRGF0YUV4dGVuZEF0dHJfUGFyZW50SWRMaXN0KHBhcmVudEpzb25EYXRhKTsgLy9hbGVydChwYXJlbnRJZExpc3QpO1xuXG4gICAgdmFyIHJvd0lkID0gdGhpcy5fR2V0Um93RGF0YUlkKHNlbGZKc29uRGF0YSk7XG5cbiAgICByZXR1cm4gdGhpcy5fQ3JlYXRlUGFyZW50SWRMaXN0KHBhcmVudElkTGlzdCwgcm93SWQpO1xuICB9LFxuICBfR2V0Um93RGF0YUlkOiBmdW5jdGlvbiBfR2V0Um93RGF0YUlkKHJvd0RhdGEpIHtcbiAgICB2YXIgaWRGaWVsZCA9IHRoaXMuX1Byb3BfQ29uZmlnLklkRmllbGQ7XG5cbiAgICBpZiAocm93RGF0YVtpZEZpZWxkXSAhPSB1bmRlZmluZWQgJiYgcm93RGF0YVtpZEZpZWxkXSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gcm93RGF0YVtpZEZpZWxkXTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoXCLlnKjmlbDmja7mupDkuK3mib7kuI3liLDnlKjkuo7mnoTlu7pJZOeahOWtl+aute+8jOivt+ajgOafpemFjee9ruWPiuaVsOaNrua6kFwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSxcbiAgX0NyZWF0ZVBhcmVudFJvd0lkOiBmdW5jdGlvbiBfQ3JlYXRlUGFyZW50Um93SWQocGFyZW50Um93RGF0YSkge1xuICAgIGlmIChwYXJlbnRSb3dEYXRhID09IG51bGwpIHtcbiAgICAgIHJldHVybiBcIlJvb3RcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX0dldFJvd0RhdGFJZChwYXJlbnRSb3dEYXRhKTtcbiAgICB9XG4gIH0sXG4gIFJlbmRlcmVyU3R5bGU6IGZ1bmN0aW9uIFJlbmRlcmVyU3R5bGUoKSB7XG4gICAgdmFyIF9zZWxmID0gdGhpcztcblxuICAgICQoXCJ0cltpc2RhdGFyb3c9J3RydWUnXVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdHIgPSAkKHRoaXMpO1xuICAgICAgdmFyICRmaXJzdHRkID0gJCh0aGlzKS5maW5kKFwidGQ6Zmlyc3RcIik7XG4gICAgICB2YXIgcm93aWQgPSAkdHIuYXR0cihcInJvd0lkXCIpO1xuICAgICAgdmFyIHNvdXJjZVRleHQgPSAkZmlyc3R0ZC50ZXh0KCk7XG4gICAgICAkZmlyc3R0ZC5jc3MoXCJwYWRkaW5nLWxlZnRcIiwgX3NlbGYuX1Byb3BfRmlyc3RDb2x1bW5fSW5kZW4gKiBwYXJzZUludCgkKHRoaXMpLmF0dHIoXCJjdXJyZW50TGV2ZWxcIikpKTtcbiAgICAgIHZhciBoYXNDaGlsZCA9IGZhbHNlO1xuXG4gICAgICBpZiAoJHRyLmF0dHIoXCJoYXNDaGlsZFwiKSA9PSBcInRydWVcIikge1xuICAgICAgICBoYXNDaGlsZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciByb3dJc09wZW4gPSBmYWxzZTtcblxuICAgICAgaWYgKCR0ci5hdHRyKFwicm93SXNPcGVuXCIpID09IFwidHJ1ZVwiKSB7XG4gICAgICAgIHJvd0lzT3BlbiA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBzd2l0Y2hFbGVtID0gX3NlbGYuX0NyZWF0ZVJvd1N3aXRjaEVsZW0oaGFzQ2hpbGQsIHJvd0lzT3Blbiwgcm93aWQpO1xuXG4gICAgICAkZmlyc3R0ZC5odG1sKFwiXCIpO1xuICAgICAgJGZpcnN0dGQuYXBwZW5kKHN3aXRjaEVsZW0pLmFwcGVuZChcIjxzcGFuPlwiICsgc291cmNlVGV4dCArIFwiPC9zcGFuPlwiKTtcblxuICAgICAgaWYgKCFyb3dJc09wZW4pIHtcbiAgICAgICAgJChcInRyW3BpZD0nXCIgKyByb3dpZCArIFwiJ11cIikuaGlkZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBfR2V0SW5kZW5DbGFzczogZnVuY3Rpb24gX0dldEluZGVuQ2xhc3MoaGFzQ2hpbGQsIGlzT3Blbikge1xuICAgIGlmIChoYXNDaGlsZCAmJiBpc09wZW4pIHtcbiAgICAgIHJldHVybiBcImltZy1zd2l0Y2gtb3BlblwiOyAvLy1cbiAgICB9XG5cbiAgICBpZiAoaGFzQ2hpbGQgJiYgIWlzT3Blbikge1xuICAgICAgcmV0dXJuIFwiaW1nLXN3aXRjaC1jbG9zZVwiOyAvLytcbiAgICB9XG5cbiAgICBpZiAoIWhhc0NoaWxkKSB7XG4gICAgICByZXR1cm4gXCJpbWctc3dpdGNoLW9wZW5cIjsgLy8tXG4gICAgfVxuXG4gICAgcmV0dXJuIFwiaW1nLXN3aXRjaC1jbG9zZVwiOyAvLytcbiAgfSxcbiAgX0NyZWF0ZVJvd1N3aXRjaEVsZW06IGZ1bmN0aW9uIF9DcmVhdGVSb3dTd2l0Y2hFbGVtKGhhc0NoaWxkLCBpc09wZW4sIHJvd0lkKSB7XG4gICAgdmFyIGVsZW0gPSAkKFwiPGRpdiBpc3N3aXRjaD1cXFwidHJ1ZVxcXCI+PC9kaXY+XCIpO1xuXG4gICAgdmFyIGNscyA9IHRoaXMuX0dldEluZGVuQ2xhc3MoaGFzQ2hpbGQsIGlzT3Blbik7IC8vZWxlbS5hcHBlbmQoY2xzKTtcblxuXG4gICAgZWxlbS5hZGRDbGFzcyhjbHMpO1xuICAgIHZhciBzZW5kZGF0YSA9IHtcbiAgICAgIFJvd0lkOiByb3dJZFxuICAgIH07XG4gICAgZWxlbS5iaW5kKFwiY2xpY2tcIiwgc2VuZGRhdGEsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKCFoYXNDaGlsZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciAkdHIgPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpO1xuICAgICAgdmFyIHJvd2lkID0gJHRyLmF0dHIoXCJyb3dJZFwiKTtcbiAgICAgIHZhciByb3dJc09wZW4gPSBmYWxzZTtcblxuICAgICAgaWYgKCR0ci5hdHRyKFwicm93SXNPcGVuXCIpID09IFwidHJ1ZVwiKSB7XG4gICAgICAgIHJvd0lzT3BlbiA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChyb3dJc09wZW4pIHtcbiAgICAgICAgcm93SXNPcGVuID0gZmFsc2U7IC8v5pS257ypXG5cbiAgICAgICAgJChcInRyW3BhcmVudElkTGlzdCo9J1wiICsgcm93aWQgKyBcIuKAuyddXCIpLmhpZGUoKTtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImltZy1zd2l0Y2gtb3BlblwiKS5hZGRDbGFzcyhcImltZy1zd2l0Y2gtY2xvc2VcIik7IC8v5p+l5om+5a2Q5a2Z6IqC54K577yM5aaC5p6c5a2Y5Zyo5a2Q6IqC54K555qE77yM5YiZ5YiH5o2i5Yiw5pS257yp55qE54q25oCB77ybXG5cbiAgICAgICAgJChcInRyW3BhcmVudElkTGlzdCo9J1wiICsgcm93aWQgKyBcIuKAuyddW2hhc2NoaWxkPSd0cnVlJ11cIikuZmluZChcIltpc3N3aXRjaD0ndHJ1ZSddXCIpLnJlbW92ZUNsYXNzKFwiaW1nLXN3aXRjaC1vcGVuXCIpLmFkZENsYXNzKFwiaW1nLXN3aXRjaC1jbG9zZVwiKTtcbiAgICAgICAgJChcInRyW3BhcmVudElkTGlzdCo9J1wiICsgcm93aWQgKyBcIuKAuyddW2hhc2NoaWxkPSd0cnVlJ11cIikuYXR0cihcInJvd2lzb3BlblwiLCBmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3dJc09wZW4gPSB0cnVlOyAvL+WxleW8gFxuXG4gICAgICAgICQoXCJ0cltwaWQ9J1wiICsgcm93aWQgKyBcIiddXCIpLnNob3coKTtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImltZy1zd2l0Y2gtY2xvc2VcIikuYWRkQ2xhc3MoXCJpbWctc3dpdGNoLW9wZW5cIik7XG4gICAgICB9XG5cbiAgICAgICR0ci5hdHRyKFwicm93SXNPcGVuXCIsIHJvd0lzT3Blbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVsZW07XG4gIH0sXG4gIEdldENoaWxkc1Jvd0VsZW06IGZ1bmN0aW9uIEdldENoaWxkc1Jvd0VsZW0obG9vcCwgaWQpIHtcbiAgICBpZiAobG9vcCkge1xuICAgICAgcmV0dXJuICQoXCJ0cltwYXJlbnRJZExpc3QqPSdcIiArIGlkICsgXCInXVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICQoXCJ0cltwaWQ9J1wiICsgaWQgKyBcIiddXCIpO1xuICAgIH1cbiAgfSxcbiAgX1Byb3BfU2VsZWN0ZWRSb3dEYXRhOiBudWxsLFxuICBfUHJvcF9UZW1wR2V0Um93RGF0YTogbnVsbCxcbiAgX0dldFNlbGVjdGVkUm93RGF0YTogZnVuY3Rpb24gX0dldFNlbGVjdGVkUm93RGF0YShub2RlLCBpZCwgaXNTZXRTZWxlY3RlZCkge1xuICAgIHZhciBmaWVsZE5hbWUgPSB0aGlzLl9Qcm9wX0NvbmZpZy5JZEZpZWxkO1xuICAgIHZhciBmaWVsZFZhbHVlID0gbm9kZVtmaWVsZE5hbWVdO1xuXG4gICAgaWYgKGZpZWxkVmFsdWUgPT0gaWQpIHtcbiAgICAgIGlmIChpc1NldFNlbGVjdGVkKSB7XG4gICAgICAgIHRoaXMuX1Byb3BfU2VsZWN0ZWRSb3dEYXRhID0gbm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX1Byb3BfVGVtcEdldFJvd0RhdGEgPSBub2RlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobm9kZS5Ob2RlcyAhPSB1bmRlZmluZWQgJiYgbm9kZS5Ob2RlcyAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5Ob2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuX0dldFNlbGVjdGVkUm93RGF0YShub2RlLk5vZGVzW2ldLCBpZCwgaXNTZXRTZWxlY3RlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIC8vIOiOt+WPlumAieS4reihjOaVsOaNrlxuICBHZXRTZWxlY3RlZFJvd0RhdGE6IGZ1bmN0aW9uIEdldFNlbGVjdGVkUm93RGF0YSgpIHtcbiAgICBpZiAodGhpcy5fUHJvcF9DdXJyZW50U2VsZWN0ZWRSb3dJZCA9PSBudWxsKSB7XG4gICAgICAvL2FsZXJ0KFwi5b2T5YmN5rKh5pyJ6YCJ5Lit55qE6KGM77yBXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSAvL2NvbnNvbGUubG9nKHRoaXMuX1Byb3BfQ3VycmVudFNlbGVjdGVkUm93SWQpO1xuICAgIC8vY29uc29sZS5sb2codGhpcy5fUHJvcF9Kc29uRGF0YSk7XG5cblxuICAgIHRoaXMuX0dldFNlbGVjdGVkUm93RGF0YSh0aGlzLl9Qcm9wX0pzb25EYXRhLCB0aGlzLl9Qcm9wX0N1cnJlbnRTZWxlY3RlZFJvd0lkLCB0cnVlKTtcblxuICAgIHJldHVybiB0aGlzLl9Qcm9wX1NlbGVjdGVkUm93RGF0YTtcbiAgfSxcbiAgR2V0Um93RGF0YUJ5Um93SWQ6IGZ1bmN0aW9uIEdldFJvd0RhdGFCeVJvd0lkKHJvd0lkKSB7XG4gICAgdGhpcy5fUHJvcF9UZW1wR2V0Um93RGF0YSA9IG51bGw7XG5cbiAgICB0aGlzLl9HZXRTZWxlY3RlZFJvd0RhdGEodGhpcy5fUHJvcF9Kc29uRGF0YSwgcm93SWQsIGZhbHNlKTtcblxuICAgIHJldHVybiB0aGlzLl9Qcm9wX1RlbXBHZXRSb3dEYXRhO1xuICB9LFxuICBBcHBlbmRDaGlsZFJvd1RvQ3VycmVudFNlbGVjdGVkUm93OiBmdW5jdGlvbiBBcHBlbmRDaGlsZFJvd1RvQ3VycmVudFNlbGVjdGVkUm93KHJvd0RhdGEpIHtcbiAgICB2YXIgc2VsZWN0ZWRSb3dEYXRhID0gdGhpcy5HZXRTZWxlY3RlZFJvd0RhdGEoKTtcblxuICAgIGlmIChzZWxlY3RlZFJvd0RhdGEuTm9kZXMgIT0gdW5kZWZpbmVkICYmIHNlbGVjdGVkUm93RGF0YS5Ob2RlcyAhPSBudWxsKSB7XG4gICAgICBzZWxlY3RlZFJvd0RhdGEuTm9kZXMucHVzaChyb3dEYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0ZWRSb3dEYXRhLk5vZGVzID0gbmV3IEFycmF5KCk7XG4gICAgICBzZWxlY3RlZFJvd0RhdGEuTm9kZXMucHVzaChyb3dEYXRhKTtcbiAgICB9XG5cbiAgICB0aGlzLlNldEpzb25EYXRhRXh0ZW5kQXR0cl9DdXJyZW50TGV2ZWwocm93RGF0YSwgdGhpcy5HZXRKc29uRGF0YUV4dGVuZEF0dHJfQ3VycmVudExldmVsKHNlbGVjdGVkUm93RGF0YSkgKyAxKTtcbiAgICB0aGlzLlNldEpzb25EYXRhRXh0ZW5kQXR0cl9QYXJlbnRJZExpc3Qocm93RGF0YSwgdGhpcy5fQ3JlYXRlUGFyZW50SWRMaXN0QnlQYXJlbnRKc29uRGF0YShzZWxlY3RlZFJvd0RhdGEsIHJvd0RhdGEpKTtcbiAgICB2YXIgJHRyID0gdGhpcy5DcmVhdGVSb3dFbGVtKHJvd0RhdGEsIHRoaXMuR2V0SnNvbkRhdGFFeHRlbmRBdHRyX0N1cnJlbnRMZXZlbChzZWxlY3RlZFJvd0RhdGEpICsgMSwgc2VsZWN0ZWRSb3dEYXRhLCB0cnVlLCB0aGlzLkdldEpzb25EYXRhRXh0ZW5kQXR0cl9QYXJlbnRJZExpc3Qocm93RGF0YSkpO1xuXG4gICAgdmFyIHNlbGVjdGVkUm93SWQgPSB0aGlzLl9HZXRSb3dEYXRhSWQoc2VsZWN0ZWRSb3dEYXRhKTtcblxuICAgIHZhciBjdXJyZW50U2VsZWN0RWxlbSA9ICQoXCJ0cltyb3dJZD0nXCIgKyBzZWxlY3RlZFJvd0lkICsgXCInXVwiKTtcbiAgICBjdXJyZW50U2VsZWN0RWxlbS5hdHRyKFwiaGFzY2hpbGRcIiwgXCJ0cnVlXCIpOyAvL3ZhciBsYXN0Q2hpbGRzPSQoXCJ0cltwaWQ9J1wiK3NlbGVjdGVkUm93SWQrXCInXTpsYXN0XCIpO1xuXG4gICAgdmFyIGxhc3RDaGlsZHMgPSAkKFwidHJbcGFyZW50aWRsaXN0Kj0nXCIgKyBzZWxlY3RlZFJvd0lkICsgXCLigLsnXTpsYXN0XCIpO1xuXG4gICAgaWYgKGxhc3RDaGlsZHMubGVuZ3RoID4gMCkge1xuICAgICAgbGFzdENoaWxkcy5hZnRlcigkdHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50U2VsZWN0RWxlbS5hdHRyKFwicm93aXNvcGVuXCIsIHRydWUpO1xuICAgICAgY3VycmVudFNlbGVjdEVsZW0uYWZ0ZXIoJHRyKTtcbiAgICB9IC8vdGhpcy5fJFByb3BfVGFibGVFbGVtLmFwcGVuZCgkdHIpO1xuXG5cbiAgICB0aGlzLlJlbmRlcmVyU3R5bGUoKTtcbiAgfSxcbiAgVXBkYXRlVG9Sb3c6IGZ1bmN0aW9uIFVwZGF0ZVRvUm93KHJvd0lkLCByb3dEYXRhKSB7XG4gICAgdmFyIHNlbGVjdGVkUm93RGF0YSA9IHRoaXMuR2V0Um93RGF0YUJ5Um93SWQocm93SWQpO1xuXG4gICAgZm9yICh2YXIgYXR0ck5hbWUgaW4gcm93RGF0YSkge1xuICAgICAgaWYgKGF0dHJOYW1lICE9IFwiTm9kZXNcIikge1xuICAgICAgICBzZWxlY3RlZFJvd0RhdGFbYXR0ck5hbWVdID0gcm93RGF0YVthdHRyTmFtZV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJvd0lkID0gdGhpcy5fR2V0Um93RGF0YUlkKHNlbGVjdGVkUm93RGF0YSk7XG5cbiAgICB2YXIgJHRyID0gJChcInRyW3Jvd2lkPSdcIiArIHJvd0lkICsgXCInXVwiKTtcbiAgICAkdHIuZmluZChcInRkXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGJpbmRGaWVsZCA9ICQodGhpcykuYXR0cihcImJpbmRGaWVsZFwiKTtcbiAgICAgIHZhciBuZXd0ZXh0ID0gc2VsZWN0ZWRSb3dEYXRhW2JpbmRGaWVsZF07XG4gICAgICB2YXIgcmVuZGVyZXIgPSAkKHRoaXMpLmF0dHIoXCJSZW5kZXJlclwiKTtcblxuICAgICAgaWYgKHJlbmRlcmVyID09IFwiRGF0ZVRpbWVcIikge1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG5ld3RleHQpO1xuICAgICAgICBuZXd0ZXh0ID0gRGF0ZVV0aWxpdHkuRm9ybWF0KGRhdGUsICd5eXl5LU1NLWRkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICgkKHRoaXMpLmZpbmQoXCJbaXNzd2l0Y2g9J3RydWUnXVwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vJCh0aGlzKS50ZXh0KCk7XG4gICAgICAgICQodGhpcykuZmluZChcInNwYW5cIikudGV4dChuZXd0ZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQodGhpcykudGV4dChuZXd0ZXh0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgTG9hZENoaWxkQnlBamF4OiBmdW5jdGlvbiBMb2FkQ2hpbGRCeUFqYXgoKSB7fSxcbiAgRGVsZXRlUm93OiBmdW5jdGlvbiBEZWxldGVSb3cocm93SWQpIHtcbiAgICB2YXIgaGFzQ2hpbGQgPSBmYWxzZTtcblxuICAgIGlmICgkKFwidHJbcGlkPSdcIiArIHJvd0lkICsgXCInXVwiKS5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoIXRoaXMuX1Byb3BfQ29uZmlnLkNhbkRlbGV0ZVdoZW5IYXNDaGlsZCkge1xuICAgICAgICBhbGVydChcIuaMh+WumueahOiKgueCueWtmOWcqOWtkOiKgueCue+8jOivt+WFiOWIoOmZpOWtkOiKgueCue+8gVwiKTtcbiAgICAgIH1cbiAgICB9IC8v5Yig6Zmk5a2Q5a2Z6IqC54K5XG4gICAgLy/liKDpmaToh6rlt7FcblxuXG4gICAgJChcInRyW3BhcmVudGlkbGlzdCo9J+KAu1wiICsgcm93SWQgKyBcIiddXCIpLnJlbW92ZSgpOyAvLyDliKDpmaTku6XlkI7msqHmnInpgInkuK3nmoTooYxcblxuICAgIHRoaXMuX1Byb3BfQ3VycmVudFNlbGVjdGVkUm93SWQgPSBudWxsOyAvLyQoXCJ0cltwaWQ9J1wiK3Jvd0lkK1wiJ11cIikucmVtb3ZlKCk7XG4gIH0sXG4gIE1vdmVVcFJvdzogZnVuY3Rpb24gTW92ZVVwUm93KHJvd0lkKSB7XG4gICAgLy/mn6Xmib7nm7jlkIzniLZJROeahOS4tOi/keWFg+e0oFxuICAgIC8v5bCG5omA5pyJaWRsaXN056ym5ZCI6KeE5YiZ55qE56e75Yqo5Yiw6K+l5YWD57Sg5LiLXG4gICAgLy92YXIgdGhpc2lkbGlzdD0kKFwidHJbcm93aWQ9J1wiK3Jvd0lkK1wiJ11cIikuYXR0cihcInBhcmVudGlkbGlzdFwiKTtcbiAgICAvL3ZhciBwcmV2RWxlbT1udWxsO1xuXG4gICAgLypmb3IodmFyIGk9MDtpPHByZXZ0cnMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgLy9hbGVydCgkKHByZXZ0cnNbaV0pLmF0dHIoXCJwYXJlbnRpZGxpc3RcIikpO1xyXG4gICAgICAgIGlmKCQocHJldnRyc1tpXSkuYXR0cihcInBhcmVudGlkbGlzdFwiKS5zcGxpdCgn4oC7JykubGVuZ3RoPT10aGlzaWRsaXN0LnNwbGl0KCfigLsnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcHJldkVsZW09JChwcmV2dHJzW2ldKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSovXG4gICAgdmFyIHRoaXN0ciA9ICQoXCJ0cltyb3dpZD0nXCIgKyByb3dJZCArIFwiJ11cIik7XG4gICAgdmFyIHBpZCA9IHRoaXN0ci5hdHRyKFwicGlkXCIpO1xuICAgIHZhciBuZWFydHIgPSAkKHRoaXN0ci5wcmV2QWxsKFwiW3BpZD0nXCIgKyBwaWQgKyBcIiddXCIpWzBdKTtcbiAgICB2YXIgbW92ZXRycyA9ICQoXCJ0cltwYXJlbnRpZGxpc3QqPSfigLtcIiArIHJvd0lkICsgXCInXVwiKTtcbiAgICBtb3ZldHJzLmluc2VydEJlZm9yZShuZWFydHIpO1xuICB9LFxuICBNb3ZlRG93blJvdzogZnVuY3Rpb24gTW92ZURvd25Sb3cocm93SWQpIHtcbiAgICB2YXIgdGhpc3RyID0gJChcInRyW3Jvd2lkPSdcIiArIHJvd0lkICsgXCInXVwiKTtcbiAgICB2YXIgcGlkID0gdGhpc3RyLmF0dHIoXCJwaWRcIik7XG4gICAgdmFyIG5lYXJ0ciA9ICQodGhpc3RyLm5leHRBbGwoXCJbcGlkPSdcIiArIHBpZCArIFwiJ11cIilbMF0pOyAvL+afpeaJvuS4i+S4gOS4qnRy55qE5pyA5ZCO5LiA5Liq5a2Q5a2ZdHJcblxuICAgIHZhciBuZWFydHJyaWQgPSBuZWFydHIuYXR0cihcInJvd2lkXCIpO1xuICAgIHZhciBvZmZ0cnMgPSAkKFwidHJbcGFyZW50aWRsaXN0Kj0n4oC7XCIgKyBuZWFydHJyaWQgKyBcIiddXCIpO1xuICAgIHZhciBvZmZsYXN0dHIgPSAkKG9mZnRyc1tvZmZ0cnMubGVuZ3RoIC0gMV0pO1xuICAgIHZhciBtb3ZldHJzID0gJChcInRyW3BhcmVudGlkbGlzdCo9J+KAu1wiICsgcm93SWQgKyBcIiddXCIpO1xuICAgIG1vdmV0cnMuaW5zZXJ0QWZ0ZXIob2ZmbGFzdHRyKTtcbiAgfSxcbiAgR2V0QnJvdGhlcnNOb2RlRGF0YXNCeVBhcmVudElkOiBmdW5jdGlvbiBHZXRCcm90aGVyc05vZGVEYXRhc0J5UGFyZW50SWQocm93SWQpIHtcbiAgICAvL2RlYnVnZ2VyO1xuICAgIHZhciB0aGlzdHIgPSAkKFwidHJbcm93aWQ9J1wiICsgcm93SWQgKyBcIiddXCIpO1xuICAgIHZhciBwaWQgPSB0aGlzdHIuYXR0cihcInBpZFwiKTtcbiAgICB2YXIgYnJvdGhlcnN0ciA9ICQodGhpc3RyLnBhcmVudCgpLmZpbmQoXCJbcGlkPSdcIiArIHBpZCArIFwiJ11cIikpO1xuICAgIHZhciByZXN1bHQgPSBuZXcgQXJyYXkoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnJvdGhlcnN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0LnB1c2godGhpcy5HZXRSb3dEYXRhQnlSb3dJZCgkKGJyb3RoZXJzdHJbaV0pLmF0dHIoXCJyb3dpZFwiKSkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG4gIC8vIOenu+mZpOaJgOacieihjCjkuI3ljIXmi6zooajlpLQpXG4gIFJlbW92ZUFsbFJvdzogZnVuY3Rpb24gUmVtb3ZlQWxsUm93KCkge1xuICAgIGlmICh0aGlzLl8kUHJvcF9UYWJsZUVsZW0gIT0gbnVsbCkge1xuICAgICAgdGhpcy5fJFByb3BfVGFibGVFbGVtLmZpbmQoXCJ0cjpub3QoOmZpcnN0KVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufTsiXX0=

<!DOCTYPE html>
<html lang="zh" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="../../../../../Js/JQuery/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="../../../../../Js/JBuild4DBaseLib.js"></script>
    <script type="text/javascript" src="../../../../../Js/JBuild4DSelectViewLib.js"></script>
    <script type="text/javascript" src="../../../../../Js/VUE-2.5.16/vue.js"></script>
    <script type="text/javascript" src="../../../../../UIComponent/IView-3.X/dist/iview.js"></script>
    <script type="text/javascript" src="../../../../../UIComponent/HTMLDesign/VueComponent/DialogPropComponent.js"></script>
    <script type="text/javascript" src="../../../../../UIComponent/HTMLDesign/FormDesign/JBuild4DFormDesign.js"></script>
    <link rel="stylesheet" type="text/css" href="../../../../../Themes/Default/IView-3.X/iview.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../Themes/Default/FormDesign/Dialog.css" />
</head>
<body>
    <div class="dialog-wraper" id="dialogApp" v-cloak>
        <tabs size="small">
            <tab-pane label="绑定信息">
                <fd-control-bind-to :bind-to-field-prop="bindToField" :default-value-prop="defaultValue" :validate-rules-prop="validateRules" @on-set-completed="setBindCompleted">

                </fd-control-bind-to>
            </tab-pane>
            <tab-pane label="基础信息">
                <fd-control-base-info :base-info-prop="baseInfo"></fd-control-base-info>
            </tab-pane>
        </tabs>
    </div>
    <script>
        var DialogApp=new Vue({
            el:"#dialogApp",
            data: {
                bindToField:JBuild4D.FormDesign.Control.DefaultProps.bindToField,
                defaultValue: JBuild4D.FormDesign.Control.DefaultProps.defaultValue,
                validateRules:JBuild4D.FormDesign.Control.DefaultProps.validateRules,
                baseInfo:JBuild4D.FormDesign.Control.DefaultProps.baseInfo
            },
            mounted:function () {

            },
            methods: {
                ready:function(actionName){
                    this.baseInfo.id="txt_"+StringUtility.RTimestamp();
                },
                setBindCompleted:function(bindToField,defaultValue,validateRules){
                    //alert("selectFieldCompleted called");
                    //this.bindToField=bindToField;
                },
                getControlProps:function () {
                    var result={
                        baseInfo:this.baseInfo,
                        bindToField:this.bindToField,
                        defaultValue:this.defaultValue,
                        validateRules:this.validateRules
                    }
                    return result;
                    //alert(this.baseInfo.id);
                },
                setControlProps:function ($elem) {

                }
            }
        });
    </script>
</body>
</html>